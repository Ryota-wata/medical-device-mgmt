(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,57616,e=>{"use strict";var t=e.i(43476),r=e.i(71645),o=e.i(18566);e.i(17363);var n=e.i(54420),i=e.i(26569);e.s(["Header",0,({title:e="è³‡ç”£ãƒªã‚¹ãƒˆ",stepBadge:l,subInfo:d,showBackButton:s=!0,backHref:a,backLabel:p,backButtonVariant:x="primary",hideHomeButton:c=!1,resultCount:h,showOriginalLabel:u=!0,onExport:g,onPrint:b,onViewToggle:f,onColumnSettings:m,hideMenu:y=!1,showApplicationListLink:j=!1,facility:w="",department:v="",targetFacilities:S,createdAt:k,children:N,centerContent:W})=>{let C=(0,o.useRouter)(),{logout:z}=(0,n.useAuthStore)(),{isMobile:$}=(0,i.useResponsive)(),[B,T]=(0,r.useState)(!1);return(0,t.jsxs)("header",{className:"text-white flex justify-between items-center",style:{background:"#2c3e50",padding:$?"8px 12px":"12px 20px",flexWrap:"wrap",gap:$?"8px":"0"},children:[(0,t.jsxs)("div",{className:"flex items-center",style:{gap:$?"8px":"16px",flexWrap:"wrap"},children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex items-center justify-center text-white font-bold",style:{width:$?"32px":"40px",height:$?"32px":"40px",background:"#27ae60",borderRadius:"8px",fontSize:$?"10px":"14px"},children:"SHIP"}),(0,t.jsx)("div",{className:"font-bold",style:{fontSize:$?"14px":"16px"},children:e}),l&&(0,t.jsx)("span",{style:{background:"#e74c3c",color:"white",padding:"4px 12px",borderRadius:"4px",fontSize:"12px",fontWeight:"bold",marginLeft:"8px"},children:l})]}),d&&(0,t.jsx)("div",{style:{background:"#fff3cd",color:"#856404",padding:"4px 12px",borderRadius:"4px",fontSize:"11px",marginLeft:"12px"},children:d}),void 0!==h&&(0,t.jsxs)("span",{style:{color:"#ecf0f1",fontSize:$?"12px":"14px"},children:[h,"ä»¶",u&&"ï¼ˆåŽŸæœ¬ï¼‰"]}),S&&S.length>0&&(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginLeft:"8px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsx)("span",{style:{fontSize:"12px",color:"#95a5a6"},children:"å¯¾è±¡æ–½è¨­:"}),(0,t.jsx)("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:S.map((e,r)=>(0,t.jsx)("span",{style:{padding:"2px 8px",background:"rgba(39, 174, 96, 0.3)",borderRadius:"10px",fontSize:"12px",color:"#ecf0f1"},children:e},r))})]}),k&&(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,t.jsx)("span",{style:{fontSize:"12px",color:"#95a5a6"},children:"ä½œæˆæ—¥:"}),(0,t.jsx)("span",{style:{fontSize:"12px",color:"#ecf0f1"},children:new Date(k).toLocaleDateString("ja-JP")})]})]})]}),W&&(0,t.jsx)("div",{className:"flex items-center justify-center",style:{flex:1},children:W}),(0,t.jsxs)("div",{className:"flex items-center gap-2",style:{flexWrap:"wrap"},children:[N,!y&&(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{onClick:()=>T(!B),className:"flex items-center gap-2 border-0 rounded cursor-pointer transition-all text-white",style:{background:"#34495e",padding:$?"6px 12px":"8px 16px",fontSize:$?"12px":"14px",whiteSpace:"nowrap"},onMouseEnter:e=>{e.currentTarget.style.background="#2c3e50"},onMouseLeave:e=>{e.currentTarget.style.background="#34495e"},children:[(0,t.jsxs)("span",{children:["ðŸ“‘ ",$?"":"ãƒ¡ãƒ‹ãƒ¥ãƒ¼"]}),!$&&(0,t.jsx)("span",{className:`transition-transform ${B?"rotate-180":""}`,children:"â–¼"})]}),B&&(0,t.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded shadow-lg z-50",style:{border:"1px solid #ddd"},children:[(0,t.jsxs)("div",{onClick:()=>{C.push("/application-list"),T(!1)},className:"flex items-center gap-2 px-4 py-3 cursor-pointer transition-colors",style:{color:"#2c3e50"},onMouseEnter:e=>{e.currentTarget.style.background="#f8f8f8"},onMouseLeave:e=>{e.currentTarget.style.background="white"},children:[(0,t.jsx)("span",{children:"ðŸ“"}),(0,t.jsx)("span",{children:"ç”³è«‹ä¸€è¦§"})]}),(0,t.jsxs)("div",{onClick:()=>{C.push("/quotation-data-box"),T(!1)},className:"flex items-center gap-2 px-4 py-3 cursor-pointer transition-colors",style:{color:"#2c3e50"},onMouseEnter:e=>{e.currentTarget.style.background="#f8f8f8"},onMouseLeave:e=>{e.currentTarget.style.background="white"},children:[(0,t.jsx)("span",{children:"ðŸ“¦"}),(0,t.jsx)("span",{children:"è¦‹ç©æ›¸ç®¡ç†"})]}),(0,t.jsxs)("div",{onClick:()=>{z(),C.push("/login")},className:"flex items-center gap-2 px-4 py-3 cursor-pointer transition-colors",style:{color:"#2c3e50",borderTop:"1px solid #ddd"},onMouseEnter:e=>{e.currentTarget.style.background="#f8f8f8"},onMouseLeave:e=>{e.currentTarget.style.background="white"},children:[(0,t.jsx)("span",{children:"ðŸšª"}),(0,t.jsx)("span",{children:"ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ"})]})]})]}),m&&(0,t.jsx)("button",{onClick:m,className:"flex items-center justify-center text-white border-0 rounded cursor-pointer transition-all",style:{width:$?"32px":"40px",height:$?"32px":"40px",background:"#34495e",fontSize:$?"16px":"20px"},onMouseEnter:e=>{e.currentTarget.style.background="#2c3e50"},onMouseLeave:e=>{e.currentTarget.style.background="#34495e"},title:"è¡¨ç¤ºã‚«ãƒ©ãƒ è¨­å®š",children:"âš™ï¸"}),f&&(0,t.jsx)("button",{onClick:f,className:"flex items-center justify-center text-white border-0 rounded cursor-pointer transition-all",style:{width:$?"32px":"40px",height:$?"32px":"40px",background:"#34495e",fontSize:$?"16px":"20px"},onMouseEnter:e=>{e.currentTarget.style.background="#2c3e50"},onMouseLeave:e=>{e.currentTarget.style.background="#34495e"},title:"è¡¨ç¤ºåˆ‡æ›¿",children:"ðŸ“‹"}),g&&(0,t.jsx)("button",{onClick:g,className:"flex items-center justify-center text-white border-0 rounded cursor-pointer transition-all",style:{width:$?"32px":"40px",height:$?"32px":"40px",background:"#34495e",fontSize:$?"16px":"20px"},onMouseEnter:e=>{e.currentTarget.style.background="#2c3e50"},onMouseLeave:e=>{e.currentTarget.style.background="#34495e"},title:"Excel/PDFå‡ºåŠ›",children:"ðŸ“Š"}),b&&(0,t.jsx)("button",{onClick:b,className:"flex items-center justify-center text-white border-0 rounded cursor-pointer transition-all",style:{width:$?"32px":"40px",height:$?"32px":"40px",background:"#34495e",fontSize:$?"16px":"20px"},onMouseEnter:e=>{e.currentTarget.style.background="#2c3e50"},onMouseLeave:e=>{e.currentTarget.style.background="#34495e"},title:"å°åˆ·",children:"ðŸ–¨ï¸"}),s&&a&&"/main"!==a&&!c&&(0,t.jsx)("button",{onClick:()=>C.push("/main"),className:"text-white border-0 rounded cursor-pointer transition-all whitespace-nowrap",style:{background:"#34495e",padding:$?"6px 12px":"8px 16px",fontSize:$?"12px":"14px"},onMouseEnter:e=>{e.currentTarget.style.background="#2c3e50"},onMouseLeave:e=>{e.currentTarget.style.background="#34495e"},children:"ãƒ¡ã‚¤ãƒ³ç”»é¢ã«æˆ»ã‚‹"}),s&&(0,t.jsx)("button",{onClick:()=>{a?C.push(a):C.back()},className:"text-white border-0 rounded cursor-pointer transition-all whitespace-nowrap",style:{background:"secondary"===x?"#34495e":"#27ae60",padding:$?"6px 12px":"8px 16px",fontSize:$?"12px":"14px"},onMouseEnter:e=>{e.currentTarget.style.background="secondary"===x?"#2c3e50":"#229954"},onMouseLeave:e=>{e.currentTarget.style.background="secondary"===x?"#34495e":"#27ae60"},children:p||"æˆ»ã‚‹"})]})]})}])},29618,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function o({isOpen:e,onClose:o,onConfirm:n,title:i,message:l,confirmLabel:d="ç¢ºèª",cancelLabel:s="ã‚­ãƒ£ãƒ³ã‚»ãƒ«",variant:a="default"}){let p=(0,r.useRef)(null);return((0,r.useEffect)(()=>{let t=e=>{"Escape"===e.key&&o()};return e&&(document.addEventListener("keydown",t),document.body.style.overflow="hidden",p.current?.focus()),()=>{document.removeEventListener("keydown",t),document.body.style.overflow="unset"}},[e,o]),e)?(0,t.jsx)("div",{onClick:o,className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-5",role:"dialog","aria-modal":"true","aria-labelledby":"confirm-dialog-title",children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),className:"bg-white rounded-lg w-full max-w-md shadow-xl overflow-hidden",children:[(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("h2",{id:"confirm-dialog-title",className:"text-lg font-semibold text-slate-800 mb-2 text-balance",children:i}),(0,t.jsx)("p",{className:"text-slate-600 text-sm text-pretty",children:l})]}),(0,t.jsxs)("div",{className:"px-6 pb-6 flex gap-3 justify-end",children:[(0,t.jsx)("button",{onClick:o,className:"px-4 py-2.5 bg-slate-200 text-slate-700 border-0 rounded-md cursor-pointer text-sm font-semibold transition-colors hover:bg-slate-300",children:s}),(0,t.jsx)("button",{ref:p,onClick:()=>{n(),o()},className:`px-4 py-2.5 text-white border-0 rounded-md cursor-pointer text-sm font-semibold transition-colors ${{danger:"bg-red-500 hover:bg-red-600",warning:"bg-amber-500 hover:bg-amber-600",default:"bg-emerald-500 hover:bg-emerald-600"}[a]}`,children:d})]})]})}):null}e.s(["ConfirmDialog",()=>o])},46040,e=>{"use strict";var t=e.i(43476),r=e.i(71645);e.s(["Modal",0,({isOpen:e,onClose:o,title:n,children:i,size:l="md",showCloseButton:d=!0})=>{let s=(0,r.useRef)(null);return((0,r.useEffect)(()=>{let t=e=>{"Escape"===e.key&&o()};return e&&(document.addEventListener("keydown",t),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",t),document.body.style.overflow="unset"}},[e,o]),e)?(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",onClick:e=>{e.target===e.currentTarget&&o()},children:(0,t.jsxs)("div",{ref:s,className:`bg-white rounded-lg shadow-xl w-full ${{sm:"max-w-md",md:"max-w-2xl",lg:"max-w-4xl",xl:"max-w-6xl"}[l]} max-h-[90vh] overflow-y-auto`,children:[(n||d)&&(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b",children:[n&&(0,t.jsx)("h2",{className:"text-xl font-semibold",children:n}),d&&(0,t.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors","aria-label":"Close modal",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"p-4",children:i})]})}):null}])},61466,e=>{"use strict";var t=e.i(43476),r=e.i(71645),o=e.i(18566),n=e.i(57616),i=e.i(29618),l=e.i(79617),d=e.i(60313),s=e.i(67625),a=e.i(46040);let p="#4a6fa5",x="#3d5a80",c="#1f2937",h="#374151",u="#6b7280",g="#ffffff",b="#e5e7eb",f="#ffffff",m="order-preview-print-style",y=({isOpen:e,onClose:r,orderGroupId:o})=>{let{getOrderGroupById:n,getOrderItemsByGroupId:i}=(0,s.useOrderStore)(),l=n(o),d=i(o);return l?(0,t.jsxs)(a.Modal,{isOpen:e,onClose:r,size:"xl",showCloseButton:!1,children:[(0,t.jsxs)("div",{"data-order-preview-header":"",style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[(0,t.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",color:c,textWrap:"balance"},children:"ç™ºæ³¨æ›¸ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼"}),(0,t.jsx)("button",{onClick:r,"aria-label":"é–‰ã˜ã‚‹",style:{width:"44px",height:"44px",display:"flex",alignItems:"center",justifyContent:"center",border:"none",background:"transparent",cursor:"pointer",color:u,fontSize:"20px",borderRadius:"4px"},children:"âœ•"})]}),(0,t.jsxs)("div",{"data-order-preview-document":"",style:{background:f,border:`1px solid ${b}`,borderRadius:"4px",padding:"40px",maxWidth:"800px",margin:"0 auto",boxShadow:"0 1px 3px rgba(0,0,0,0.08)"},children:[(0,t.jsx)("h1",{style:{textAlign:"center",fontSize:"24px",fontWeight:"bold",color:c,letterSpacing:"0.5em",marginBottom:"32px",textWrap:"balance"},children:"ç™º æ³¨ æ›¸"}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"24px",marginBottom:"24px",fontSize:"14px",color:h,fontVariantNumeric:"tabular-nums"},children:[(0,t.jsxs)("span",{children:["ç™ºæ³¨No: ",l.orderNo]}),(0,t.jsxs)("span",{children:["ç™ºæ³¨æ—¥: ",l.orderDate]})]}),(0,t.jsx)("div",{style:{marginBottom:"24px"},children:(0,t.jsxs)("p",{style:{fontSize:"18px",fontWeight:"bold",color:c,borderBottom:`2px solid ${c}`,paddingBottom:"4px",display:"inline-block"},children:[l.vendorName||"-"," ",(0,t.jsx)("span",{style:{fontWeight:400,fontSize:"14px"},children:"å¾¡ä¸­"})]})}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"32px"},children:(0,t.jsxs)("div",{style:{fontSize:"14px",color:h,textAlign:"right"},children:[(0,t.jsxs)("p",{style:{marginBottom:"4px"},children:[(0,t.jsx)("span",{style:{color:u,marginRight:"8px"},children:"ç™ºæ³¨è€…:"}),l.applicant||"-"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{style:{color:u,marginRight:"8px"},children:"é€£çµ¡å…ˆ:"}),l.applicantEmail||"-"]})]})}),(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px",marginBottom:"16px"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{background:p,color:g},children:[(0,t.jsx)("th",{style:{padding:"8px",textAlign:"center",fontWeight:"bold",border:`1px solid ${x}`,width:"40px"},children:"No"}),(0,t.jsx)("th",{style:{padding:"8px",textAlign:"left",fontWeight:"bold",border:`1px solid ${x}`},children:"å“å"}),(0,t.jsx)("th",{style:{padding:"8px",textAlign:"left",fontWeight:"bold",border:`1px solid ${x}`,whiteSpace:"nowrap"},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼ / åž‹å¼"}),(0,t.jsx)("th",{style:{padding:"8px",textAlign:"right",fontWeight:"bold",border:`1px solid ${x}`,width:"50px"},children:"æ•°é‡"}),(0,t.jsx)("th",{style:{padding:"8px",textAlign:"right",fontWeight:"bold",border:`1px solid ${x}`,width:"110px",whiteSpace:"nowrap"},children:"å˜ä¾¡ï¼ˆç¨Žè¾¼ï¼‰"}),(0,t.jsx)("th",{style:{padding:"8px",textAlign:"right",fontWeight:"bold",border:`1px solid ${x}`,width:"120px",whiteSpace:"nowrap"},children:"é‡‘é¡ï¼ˆç¨Žè¾¼ï¼‰"})]})}),(0,t.jsx)("tbody",{children:d.map((e,r)=>(0,t.jsxs)("tr",{style:{borderBottom:`1px solid ${b}`},children:[(0,t.jsx)("td",{style:{padding:"8px",textAlign:"center",border:`1px solid ${b}`,fontVariantNumeric:"tabular-nums"},children:r+1}),(0,t.jsx)("td",{style:{padding:"8px",border:`1px solid ${b}`},children:e.itemName}),(0,t.jsxs)("td",{style:{padding:"8px",border:`1px solid ${b}`,fontSize:"12px",color:h},children:[e.manufacturer,e.model?` / ${e.model}`:""]}),(0,t.jsx)("td",{style:{padding:"8px",textAlign:"right",border:`1px solid ${b}`,fontVariantNumeric:"tabular-nums"},children:e.quantity}),(0,t.jsxs)("td",{style:{padding:"8px",textAlign:"right",border:`1px solid ${b}`,fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap"},children:["Â¥",e.unitPrice.toLocaleString()]}),(0,t.jsxs)("td",{style:{padding:"8px",textAlign:"right",border:`1px solid ${b}`,fontWeight:600,fontVariantNumeric:"tabular-nums",whiteSpace:"nowrap"},children:["Â¥",e.totalPrice.toLocaleString()]})]},e.id))})]}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"32px"},children:(0,t.jsxs)("div",{style:{borderTop:`2px solid ${c}`,borderBottom:`2px solid ${c}`,padding:"8px 16px",display:"flex",alignItems:"center",gap:"16px"},children:[(0,t.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold",color:c},children:"åˆè¨ˆé‡‘é¡ï¼ˆç¨Žè¾¼ï¼‰"}),(0,t.jsxs)("span",{style:{fontSize:"20px",fontWeight:"bold",color:c,fontVariantNumeric:"tabular-nums"},children:["Â¥",l.totalAmount.toLocaleString()]})]})}),(0,t.jsx)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"14px",maxWidth:"480px"},children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"6px 12px",fontWeight:"bold",color:h,width:"120px",borderBottom:`1px solid ${b}`,whiteSpace:"nowrap"},children:"ç´æœŸ"}),(0,t.jsx)("td",{style:{padding:"6px 12px",color:c,borderBottom:`1px solid ${b}`,fontVariantNumeric:"tabular-nums"},children:l.deliveryDate||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"6px 12px",fontWeight:"bold",color:h,borderBottom:`1px solid ${b}`,whiteSpace:"nowrap"},children:"æ”¯æ‰•æ¡ä»¶"}),(0,t.jsx)("td",{style:{padding:"6px 12px",color:c,borderBottom:`1px solid ${b}`},children:l.paymentTerms})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"6px 12px",fontWeight:"bold",color:h,borderBottom:`1px solid ${b}`,whiteSpace:"nowrap"},children:"ç™ºæ³¨å½¢æ…‹"}),(0,t.jsx)("td",{style:{padding:"6px 12px",color:c,borderBottom:`1px solid ${b}`},children:l.orderType})]}),l.paymentDueDate&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"6px 12px",fontWeight:"bold",color:h,borderBottom:`1px solid ${b}`,whiteSpace:"nowrap"},children:"æ”¯æ‰•æœŸæ—¥"}),(0,t.jsx)("td",{style:{padding:"6px 12px",color:c,borderBottom:`1px solid ${b}`,fontVariantNumeric:"tabular-nums"},children:l.paymentDueDate})]}),l.leaseCompany&&(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"6px 12px",fontWeight:"bold",color:h,borderBottom:`1px solid ${b}`,whiteSpace:"nowrap"},children:"ãƒªãƒ¼ã‚¹ä¼šç¤¾"}),(0,t.jsx)("td",{style:{padding:"6px 12px",color:c,borderBottom:`1px solid ${b}`},children:l.leaseCompany})]})]})})]}),(0,t.jsxs)("div",{"data-order-preview-footer":"",style:{display:"flex",justifyContent:"center",gap:"12px",marginTop:"16px"},children:[(0,t.jsx)("button",{onClick:()=>{let e=document.getElementById(m);e||((e=document.createElement("style")).id=m,document.head.appendChild(e)),e.textContent=`
      @media print {
        body > *:not([data-order-preview-root]) {
          display: none !important;
        }
        [data-order-preview-root] {
          position: fixed !important;
          inset: 0 !important;
          z-index: 99999 !important;
          display: flex !important;
          align-items: flex-start !important;
          justify-content: center !important;
          background: white !important;
          padding: 0 !important;
        }
        [data-order-preview-backdrop] {
          background: white !important;
        }
        [data-order-preview-modal-frame] {
          box-shadow: none !important;
          max-height: none !important;
          overflow: visible !important;
          border-radius: 0 !important;
        }
        [data-order-preview-header],
        [data-order-preview-footer] {
          display: none !important;
        }
        [data-order-preview-document] {
          box-shadow: none !important;
          border: none !important;
          margin: 0 !important;
          padding: 20mm !important;
          max-width: none !important;
        }
      }
    `,window.print()},style:{padding:"12px 24px",background:p,color:g,border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",minWidth:"44px",minHeight:"44px"},children:"å°åˆ·ã™ã‚‹"}),(0,t.jsx)("button",{onClick:r,style:{padding:"12px 24px",background:f,color:u,border:"1px solid #d1d5db",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",minWidth:"44px",minHeight:"44px"},children:"é–‰ã˜ã‚‹"})]})]}):null},j="#4a6fa5",w="#3d5a80",v="#e67e22",S="#1f2937",k="#1f2937",N="#374151",W="#6b7280",C="#ffffff",z="#d1d5db",$="#e5e7eb",B="#f3f4f6",T="#ffffff",M="#dc2626",L=["è³¼å…¥","å‰²è³¦","ãƒªãƒ¼ã‚¹ï¼ˆãƒ•ã‚¡ã‚¤ãƒŠãƒ³ã‚¹ï¼‰","ãƒªãƒ¼ã‚¹ï¼ˆã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰","ãƒ¬ãƒ³ã‚¿ãƒ«"],A=["ç´å“æ™‚ä¸€æ‹¬","æ¤œåŽå¾Œä¸€æ‹¬","åˆ†å‰²æ‰•ã„","æœˆæœ«ç· ã‚ç¿Œæœˆæœ«æ‰•ã„","ãã®ä»–"],R={padding:"6px 10px",border:`1px solid ${z}`,borderRadius:"4px",fontSize:"14px"},I={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};function E({onRead:e}){let t=(0,o.useSearchParams)().get("rfqGroupId");return r.default.useEffect(()=>{e(t?Number(t):null)},[t,e]),null}function q(){let e=(0,o.useRouter)(),{rfqGroups:a,updateRfqGroup:p}=(0,l.useRfqGroupStore)(),{quotationGroups:x,quotationItems:c}=(0,d.useQuotationStore)(),{addOrderGroup:h,addOrderItems:u,generateOrderNo:g}=(0,s.useOrderStore)(),[b,f]=(0,r.useState)(null),m=(0,r.useCallback)(e=>f(e),[]),[q,D]=(0,r.useState)(""),[V,O]=(0,r.useState)("è³¼å…¥"),[P,G]=(0,r.useState)("æ¤œåŽå¾Œä¸€æ‹¬"),[K,H]=(0,r.useState)(""),[Q,U]=(0,r.useState)(""),[_,F]=(0,r.useState)(""),[J,X]=(0,r.useState)(""),[Y,Z]=(0,r.useState)({}),[ee,et]=(0,r.useState)({isOpen:!1,title:"",message:"",onConfirm:()=>{}}),[er,eo]=(0,r.useState)(""),[en,ei]=(0,r.useState)(!1),[el,ed]=(0,r.useState)(null),[es,ea]=(0,r.useState)(!1),ep=(0,r.useCallback)(e=>{et({isOpen:!0,...e})},[]),ex=(0,r.useCallback)(()=>{et(e=>({...e,isOpen:!1})),ei(!1)},[]),ec="ãƒªãƒ¼ã‚¹ï¼ˆãƒ•ã‚¡ã‚¤ãƒŠãƒ³ã‚¹ï¼‰"===V||"ãƒªãƒ¼ã‚¹ï¼ˆã‚ªãƒšãƒ¬ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰"===V,eh=(0,r.useMemo)(()=>{if(b)return a.find(e=>e.id===b)},[b,a]),eu=(0,r.useMemo)(()=>{if(!eh)return[];let e=x.filter(e=>e.rfqGroupId===eh.id);return c.filter(t=>e.some(e=>e.id===t.quotationGroupId))},[eh,x,c]),eg=(0,r.useMemo)(()=>eu.flatMap(e=>Array.from({length:e.aiQuantity||e.originalQuantity||1},(t,r)=>({...e,_expandKey:`${e.id}-${r}`}))),[eu]),eb=(0,r.useMemo)(()=>eu.reduce((e,t)=>e+(t.allocTaxTotal||0),0),[eu]);return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100dvh",background:"#f9fafb"},children:[(0,t.jsx)("style",{children:`
        .order-btn { transition: filter 150ms ease-out; }
        .order-btn:hover:not(:disabled) { filter: brightness(0.9); }
        .order-btn:focus-visible { outline: 2px solid #4a6fa5; outline-offset: 2px; }
        .order-btn-secondary { transition: background 150ms ease-out; }
        .order-btn-secondary:hover { background: #e5e7eb !important; }
        .order-btn-secondary:focus-visible { outline: 2px solid #d1d5db; outline-offset: 2px; }
      `}),(0,t.jsx)(r.Suspense,{fallback:null,children:(0,t.jsx)(E,{onRead:m})}),(0,t.jsx)(n.Header,{title:el?"ç™ºæ³¨ç™»éŒ²å®Œäº†":"ç™ºæ³¨ç™»éŒ²",hideMenu:!0,showBackButton:!1}),(0,t.jsx)("div",{style:{flex:1,overflow:"auto",padding:"16px"},children:el?(0,t.jsx)("div",{style:{maxWidth:"560px",margin:"40px auto",textAlign:"center"},children:(0,t.jsxs)("div",{style:{background:T,border:`1px solid ${$}`,borderRadius:"8px",padding:"32px"},children:[(0,t.jsx)("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"âœ“"}),(0,t.jsx)("h2",{style:{fontSize:"18px",fontWeight:"bold",color:k,marginBottom:"8px",textWrap:"balance"},children:"ç™ºæ³¨ã‚’ç™»éŒ²ã—ã¾ã—ãŸ"}),(0,t.jsxs)("p",{style:{fontSize:"14px",color:N,marginBottom:"24px",fontVariantNumeric:"tabular-nums"},children:["ç™ºæ³¨No. ",el.orderNo,"ï¼ˆ",el.itemCount,"å“ç›® / Â¥",el.totalAmount.toLocaleString(),"ï¼‰"]}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},children:[(0,t.jsx)("button",{className:"order-btn",onClick:()=>ea(!0),style:{padding:"12px 24px",background:v,color:S,border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",width:"240px"},children:"ç™ºæ³¨æ›¸ã‚’å‡ºåŠ›ã™ã‚‹"}),(0,t.jsx)("button",{className:"order-btn-secondary",onClick:()=>e.push("/quotation-data-box"),style:{padding:"12px 24px",background:T,color:W,border:`1px solid ${z}`,borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",width:"240px"},children:"ä¸€è¦§ç”»é¢ã«æˆ»ã‚‹"})]})]})}):eh?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{style:{padding:"12px 16px",background:"#fffbeb",border:"1px solid #f59e0b",borderRadius:"4px",marginBottom:"16px",fontSize:"14px",color:"#92400e",fontWeight:"bold",textWrap:"balance"},children:"ä¸‹è¨˜ã®å†…å®¹ã§ç™ºæ³¨ç™»éŒ²ã‚’å®Ÿæ–½ã—ã¾ã™ã€‚"}),(0,t.jsxs)("div",{style:{background:T,borderRadius:"4px",marginBottom:"16px",overflow:"hidden"},children:[(0,t.jsx)("div",{style:{padding:"8px 16px",background:"#4b5563",color:C,fontSize:"12px",fontWeight:"bold",textWrap:"balance"},children:"åŸºæœ¬æƒ…å ±"}),(0,t.jsx)("div",{style:{padding:"12px 16px"},children:(0,t.jsx)("table",{style:{width:"100%",fontSize:"12px",borderCollapse:"collapse"},children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"4px 8px",background:B,fontWeight:"bold",width:"120px",border:`1px solid ${$}`},children:"è¦‹ç©ä¾é ¼No."}),(0,t.jsx)("td",{style:{padding:"4px 8px",border:`1px solid ${$}`,width:"150px"},children:eh.rfqNo}),(0,t.jsx)("td",{style:{padding:"4px 8px",background:B,fontWeight:"bold",width:"120px",border:`1px solid ${$}`},children:"è¦‹ç©Gåç§°"}),(0,t.jsx)("td",{style:{padding:"4px 8px",border:`1px solid ${$}`},children:eh.groupName})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"4px 8px",background:B,fontWeight:"bold",border:`1px solid ${$}`},children:"ç™ºæ³¨å…ˆ"}),(0,t.jsx)("td",{style:{padding:"4px 8px",border:`1px solid ${$}`},children:eh.vendorName||"-"}),(0,t.jsx)("td",{style:{padding:"4px 8px",background:B,fontWeight:"bold",border:`1px solid ${$}`},children:"æ‹…å½“"}),(0,t.jsx)("td",{style:{padding:"4px 8px",border:`1px solid ${$}`},children:eh.personInCharge||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"4px 8px",background:B,fontWeight:"bold",border:`1px solid ${$}`},children:"é€£çµ¡å…ˆ(TEL)"}),(0,t.jsx)("td",{style:{padding:"4px 8px",border:`1px solid ${$}`},children:eh.tel||"-"}),(0,t.jsx)("td",{style:{padding:"4px 8px",background:B,fontWeight:"bold",border:`1px solid ${$}`},children:"mail"}),(0,t.jsx)("td",{style:{padding:"4px 8px",border:`1px solid ${$}`},children:eh.email||"-"})]})]})})})]}),(0,t.jsxs)("div",{style:{border:`2px solid ${v}`,borderRadius:"8px",marginBottom:"16px"},children:[(0,t.jsx)("div",{style:{background:v,color:S,padding:"8px 16px",fontSize:"14px",fontWeight:"bold",textWrap:"balance"},children:"ç™ºæ³¨åŸºæœ¬ç™»éŒ²"}),(0,t.jsxs)("div",{style:{padding:"16px"},children:[(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"100px 220px 100px 180px",gap:"8px 16px",alignItems:"center"},children:[(0,t.jsx)("label",{style:{fontSize:"14px",fontWeight:"bold",color:k,whiteSpace:"nowrap"},children:"ç™ºæ³¨å½¢æ…‹"}),(0,t.jsx)("select",{value:V,onChange:e=>O(e.target.value),style:{...R,width:"220px"},children:L.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsxs)("label",{style:{fontSize:"14px",fontWeight:"bold",color:k,whiteSpace:"nowrap"},children:["ç´æœŸ ",(0,t.jsx)("span",{style:{color:M},children:"*"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"date",value:q,onChange:e=>{D(e.target.value),e.target.value&&eo("")},style:{...R,width:"180px",borderColor:er?M:z}}),er&&(0,t.jsx)("p",{style:{margin:"4px 0 0",fontSize:"12px",color:M},children:er})]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginTop:"8px"},children:[(0,t.jsx)("label",{style:{fontSize:"14px",fontWeight:"bold",color:k,whiteSpace:"nowrap",width:"100px",flexShrink:0},children:"æ”¯æ‰•æ¡ä»¶"}),(0,t.jsx)("select",{value:P,onChange:e=>G(e.target.value),style:{...R,width:"200px"},children:A.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("label",{style:{fontSize:"14px",fontWeight:"bold",color:k,whiteSpace:"nowrap"},children:"æ”¯æ‰•æœŸæ—¥"}),(0,t.jsx)("input",{type:"date",value:K,onChange:e=>H(e.target.value),style:{...R,width:"180px"}})]}),ec&&(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"16px",marginTop:"8px"},children:[(0,t.jsx)("label",{style:{fontSize:"14px",fontWeight:"bold",color:k,whiteSpace:"nowrap",width:"100px",flexShrink:0},children:"ãƒªãƒ¼ã‚¹ä¼šç¤¾"}),(0,t.jsx)("input",{type:"text",value:Q,onChange:e=>U(e.target.value),placeholder:"ãƒªãƒ¼ã‚¹ä¼šç¤¾å",style:{...R,width:"220px",color:N}}),(0,t.jsx)("label",{style:{fontSize:"14px",fontWeight:"bold",color:k,whiteSpace:"nowrap"},children:"é–‹å§‹æ—¥"}),(0,t.jsx)("input",{type:"month",value:_,onChange:e=>F(e.target.value),style:{...R,width:"150px",color:N}}),(0,t.jsx)("label",{style:{fontSize:"14px",fontWeight:"bold",color:k,whiteSpace:"nowrap"},children:"å¹´æ•°"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,t.jsx)("input",{type:"number",value:J,onChange:e=>X(e.target.value),min:"1",max:"20",style:{...R,width:"60px",textAlign:"right",fontVariantNumeric:"tabular-nums",color:N}}),(0,t.jsx)("span",{style:{fontSize:"14px",color:N},children:"å¹´"})]})]})]})]}),(0,t.jsxs)("div",{style:{background:T,border:`1px solid ${z}`,borderRadius:"4px",marginBottom:"16px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 16px",background:j,color:C},children:[(0,t.jsx)("span",{style:{fontSize:"12px",fontWeight:"bold",textWrap:"balance"},children:"ç™ºæ³¨æ˜Žç´°ï¼ˆç™»éŒ²æ¸ˆã¿è¦‹ç©æ˜Žç´°ã‚ˆã‚Šè‡ªå‹•å–å¾—ï¼‰"}),(0,t.jsxs)("span",{style:{fontSize:"12px",fontVariantNumeric:"tabular-nums"},children:["åˆè¨ˆé‡‘é¡ï¼ˆç¨Žè¾¼ï¼‰:",(0,t.jsxs)("span",{style:{fontWeight:"bold",fontSize:"16px",marginLeft:"8px"},children:["Â¥",eb.toLocaleString()]})]})]}),(0,t.jsx)("div",{style:{overflowX:"auto"},children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[(0,t.jsx)("thead",{style:{position:"sticky",top:0,zIndex:10},children:(0,t.jsxs)("tr",{style:{background:j,color:C},children:[(0,t.jsx)("th",{style:{padding:"8px",textAlign:"left",borderBottom:`1px solid ${w}`,whiteSpace:"nowrap",fontWeight:"bold"},children:"No"}),(0,t.jsx)("th",{style:{padding:"8px",textAlign:"left",borderBottom:`1px solid ${w}`,whiteSpace:"nowrap",fontWeight:"bold"},children:"å“å"}),(0,t.jsx)("th",{style:{padding:"8px",textAlign:"left",borderBottom:`1px solid ${w}`,whiteSpace:"nowrap",fontWeight:"bold"},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼"}),(0,t.jsx)("th",{style:{padding:"8px",textAlign:"left",borderBottom:`1px solid ${w}`,whiteSpace:"nowrap",fontWeight:"bold"},children:"åž‹å¼"}),(0,t.jsx)("th",{style:{padding:"8px",textAlign:"right",borderBottom:`1px solid ${w}`,whiteSpace:"nowrap",fontWeight:"bold"},children:"æ•°é‡"}),(0,t.jsx)("th",{style:{padding:"8px",textAlign:"right",borderBottom:`1px solid ${w}`,whiteSpace:"nowrap",fontWeight:"bold"},children:"é‡‘é¡ï¼ˆç¨Žè¾¼ï¼‰"}),(0,t.jsx)("th",{style:{padding:"8px",textAlign:"center",borderBottom:`1px solid ${w}`,whiteSpace:"nowrap",fontWeight:"bold"},children:"å€‹åˆ¥ç´å“æ—¥"})]})}),(0,t.jsxs)("tbody",{children:[eg.map((e,r)=>(0,t.jsxs)("tr",{style:{borderBottom:`1px solid ${$}`},children:[(0,t.jsx)("td",{style:{padding:"8px",fontVariantNumeric:"tabular-nums"},children:r+1}),(0,t.jsx)("td",{style:{padding:"8px",maxWidth:"200px",...I},children:e.itemName||e.originalItemName}),(0,t.jsx)("td",{style:{padding:"8px",whiteSpace:"nowrap"},children:e.manufacturer||e.originalManufacturer||"-"}),(0,t.jsx)("td",{style:{padding:"8px",whiteSpace:"nowrap"},children:e.model||e.originalModel||"-"}),(0,t.jsx)("td",{style:{padding:"8px",textAlign:"right",fontVariantNumeric:"tabular-nums"},children:"1"}),(0,t.jsxs)("td",{style:{padding:"8px",textAlign:"right",whiteSpace:"nowrap",fontWeight:600,fontVariantNumeric:"tabular-nums"},children:["Â¥",(e.allocPriceUnit||0).toLocaleString()]}),(0,t.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:(0,t.jsx)("input",{type:"date",value:Y[e._expandKey]||"",onChange:t=>Z(r=>({...r,[e._expandKey]:t.target.value})),style:{...R,width:"140px",fontSize:"12px",padding:"4px 8px",color:Y[e._expandKey]?k:"#9ca3af"}})})]},e._expandKey)),0===eg.length&&(0,t.jsx)("tr",{children:(0,t.jsxs)("td",{colSpan:7,style:{padding:"32px",textAlign:"center",color:W},children:[(0,t.jsx)("p",{style:{fontSize:"14px",fontWeight:"bold",color:N,marginBottom:"8px"},children:"ç™ºæ³¨å¯¾è±¡ã®è¦‹ç©æ˜Žç´°ãŒã‚ã‚Šã¾ã›ã‚“"}),(0,t.jsx)("p",{style:{fontSize:"12px",marginBottom:"16px"},children:"è¦‹ç©ç™»éŒ²ã‚’å®Œäº†ã™ã‚‹ã¨ã€æ˜Žç´°ãŒè‡ªå‹•çš„ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚"}),(0,t.jsx)("button",{className:"order-btn",onClick:()=>e.push("/quotation-data-box"),style:{padding:"8px 16px",background:j,color:C,border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold"},children:"â† ä¸€è¦§ç”»é¢ã«æˆ»ã‚‹"})]})})]})]})})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"16px"},children:[(0,t.jsx)("button",{className:"order-btn-secondary",onClick:()=>e.push("/quotation-data-box"),style:{padding:"12px 24px",background:T,color:W,border:`1px solid ${z}`,borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"â† ä¸€è¦§ç”»é¢ã«æˆ»ã‚‹"}),(0,t.jsx)("button",{className:"order-btn",onClick:()=>{if(eh){if(!q)return void eo("ç´å“æ—¥ã‚’è¨­å®šã—ã¦ãã ã•ã„");eo(""),ep({title:"ç™ºæ³¨ç™»éŒ²ç¢ºèª",message:`ç™ºæ³¨ã‚’ç™»éŒ²ã—ã¾ã™ã€‚å“ç›®æ•°: ${eg.length}ä»¶ / åˆè¨ˆé‡‘é¡: \xa5${eb.toLocaleString()}`,confirmLabel:"ç™ºæ³¨ã‚’ç™»éŒ²ã™ã‚‹",onConfirm:()=>{ei(!0);let e=g(),t=new Date().toISOString().split("T")[0],r=h({orderNo:e,rfqGroupId:eh.id,rfqNo:eh.rfqNo,groupName:eh.groupName,vendorName:eh.vendorName||"",applicant:eh.personInCharge||"",applicantEmail:eh.email||"",orderType:V,deliveryDate:q,paymentTerms:P,paymentDueDate:K,inspectionCertType:"æœ¬ä½“ã®ã¿",storageFormat:"æœªæŒ‡å®š",leaseCompany:ec?Q:void 0,leaseStartDate:ec?_:void 0,leaseYears:ec&&J?Number(J):void 0,totalAmount:eb,orderDate:t});u(eu.flatMap(e=>{let t=e.aiQuantity||e.originalQuantity||1,o=e.allocPriceUnit||0,n={orderGroupId:r,quotationItemId:e.id,itemName:e.itemName||e.originalItemName,manufacturer:e.manufacturer||e.originalManufacturer||"",model:e.model||e.originalModel||"",registrationType:"æœ¬ä½“",quantity:1,unitPrice:o,totalPrice:o};return Array.from({length:t},()=>({...n}))})),p(eh.id,{status:"ç™ºæ³¨ç™»éŒ²æ¸ˆ",deadline:q}),ed({orderNo:e,itemCount:eg.length,totalAmount:eb,orderGroupId:r}),ei(!1)}})}},disabled:en,style:{padding:"12px 24px",background:v,color:S,border:"none",borderRadius:"4px",cursor:en?"not-allowed":"pointer",fontSize:"14px",fontWeight:"bold",opacity:en?.7:1},children:en?"ç™»éŒ²ä¸­...":"ç™ºæ³¨ã‚’ç™»éŒ²ã™ã‚‹"})]})]}):(0,t.jsxs)("div",{style:{maxWidth:"480px",margin:"40px auto",textAlign:"center",color:W},children:[(0,t.jsx)("p",{style:{fontSize:"14px",marginBottom:"8px",fontWeight:"bold",color:N},children:"å¯¾è±¡ã®è¦‹ç©ä¾é ¼ã‚°ãƒ«ãƒ¼ãƒ—ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"}),(0,t.jsx)("p",{style:{fontSize:"12px",marginBottom:"16px"},children:"URLã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒæ­£ã—ã„ã‹ç¢ºèªã™ã‚‹ã‹ã€ä¸€è¦§ç”»é¢ã‹ã‚‰å¯¾è±¡ã‚’é¸æŠžã—ã¦ãã ã•ã„ã€‚"}),(0,t.jsx)("button",{className:"order-btn",onClick:()=>e.push("/quotation-data-box"),style:{padding:"8px 24px",background:j,color:C,border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"â† ä¸€è¦§ç”»é¢ã«æˆ»ã‚‹"})]})}),(0,t.jsx)(i.ConfirmDialog,{isOpen:ee.isOpen,onClose:ex,onConfirm:ee.onConfirm,title:ee.title,message:ee.message,confirmLabel:ee.confirmLabel}),el&&(0,t.jsx)(y,{isOpen:es,onClose:()=>ea(!1),orderGroupId:el.orderGroupId})]})}e.s(["default",()=>q],61466)}]);