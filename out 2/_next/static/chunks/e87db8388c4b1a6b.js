(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,5767,e=>{"use strict";e.i(47167);var t=e.i(43476),o=e.i(71645),i=e.i(18566);e.i(17363);var n=e.i(44830),r=e.i(89748),l=e.i(90259),d=e.i(70711),s=e.i(79617),a=e.i(11276),p=e.i(74164),c=e.i(26569),x=e.i(25169),u=e.i(60875),h=e.i(57616),g=e.i(54487);function b({isOpen:e,onClose:o,rfqGroupName:i,setRfqGroupName:n,selectedCount:r,generatedRfqNo:l,onSubmit:d}){if(!e)return null;let s=()=>{o(),n("")};return(0,t.jsx)("div",{onClick:s,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"500px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{background:"#e74c3c",color:"white",padding:"16px 20px",fontSize:"18px",fontWeight:"bold",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("span",{children:"è¦‹ç©ä¾é ¼ã‚°ãƒ«ãƒ¼ãƒ—ä½œæˆ"}),(0,t.jsx)("button",{onClick:s,style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"white",padding:"0",width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%"},children:"Ã—"})]}),(0,t.jsxs)("div",{style:{padding:"24px"},children:[(0,t.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:600,color:"#333"},children:"è¦‹ç©ä¾é ¼No.ï¼ˆè‡ªå‹•æŽ¡ç•ªï¼‰"}),(0,t.jsx)("input",{type:"text",value:l,readOnly:!0,style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"14px",background:"#f8f9fa",color:"#666",boxSizing:"border-box"}})]}),(0,t.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,t.jsx)("label",{style:{display:"block",marginBottom:"8px",fontWeight:600,color:"#333"},children:"è¦‹ç©ä¾é ¼ã‚°ãƒ«ãƒ¼ãƒ—å"}),(0,t.jsx)("input",{type:"text",value:i,onChange:e=>n(e.target.value),placeholder:"ä¾‹: 2025å¹´åº¦æ”¾å°„ç·šç§‘æ©Ÿå™¨æ›´æ–°",style:{width:"100%",padding:"12px",border:"2px solid #ddd",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]}),(0,t.jsxs)("div",{style:{marginBottom:"20px",padding:"12px",background:"#f8f9fa",borderRadius:"6px",border:"1px solid #ddd"},children:[(0,t.jsx)("span",{style:{color:"#666"},children:"é¸æŠžã•ã‚ŒãŸãƒ¬ã‚³ãƒ¼ãƒ‰: "}),(0,t.jsxs)("span",{style:{fontWeight:"bold",color:"#e74c3c"},children:[r,"ä»¶"]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,t.jsx)("button",{onClick:s,style:{padding:"10px 20px",background:"#95a5a6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"600"},children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,t.jsx)("button",{onClick:()=>{i.trim()?d():alert("è¦‹ç©ä¾é ¼ã‚°ãƒ«ãƒ¼ãƒ—åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")},disabled:!i.trim(),style:{padding:"10px 20px",background:i.trim()?"#e74c3c":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:i.trim()?"pointer":"not-allowed",fontSize:"14px",fontWeight:"600"},children:"ä½œæˆ"})]})]})]})})}var f=e.i(4506);let y=g.REMODEL_COLUMNS;function m(){let e=(0,i.useRouter)(),g=(0,i.useSearchParams)(),{addApplication:m,applications:j}=(0,n.useApplicationStore)(),{getNewLocationByCurrentLocation:k,facilities:S,swapToNewLocation:v}=(0,r.useHospitalFacilityStore)(),{individuals:w,updateIndividual:C}=(0,l.useIndividualStore)(),{getEditListById:z}=(0,d.useEditListStore)(),{addRfqGroup:W,generateRfqNo:R}=(0,s.useRfqGroupStore)(),{isMobile:B}=(0,c.useResponsive)(),M=g.get("listId")||"",I=M?z(M):null,T=I?I.facilities.join(", "):g.get("facility")||"",D=g.get("department")||"",[A,N]=(0,o.useState)(new Set),[E,q]=(0,o.useState)("list"),[L,P]=(0,o.useState)(!1),$=!!(M&&I),[F,O]=(0,o.useState)(!1),[H,K]=(0,o.useState)(""),[Y,G]=(0,o.useState)(""),[_,U]=(0,o.useState)(""),[V,J]=(0,o.useState)(""),[Q,X]=(0,o.useState)(""),[Z,ee]=(0,o.useState)(""),[et,eo]=(0,o.useState)(!1),[ei,en]=(0,o.useState)(""),[er,el]=(0,o.useState)(null),[ed,es]=(0,o.useState)(""),[ea,ep]=(0,o.useState)(null),[ec,ex]=(0,o.useState)(!1),[eu,eh]=(0,o.useState)(""),[eg,eb]=(0,o.useState)(""),[ef,ey]=(0,o.useState)(""),[em,ej]=(0,o.useState)(""),[ek,eS]=(0,o.useState)(""),[ev,ew]=(0,o.useState)([]),[eC,ez]=(0,o.useState)("disconnected"),[eW,eR]=(0,o.useState)(""),[eB,eM]=(0,o.useState)("not-required"),[eI,eT]=(0,o.useState)(""),[eD,eA]=(0,o.useState)(""),[eN,eE]=(0,o.useState)(""),[eq,eL]=(0,o.useState)(!1),eP=I?I.facilities:T?[T]:[],[e$,eF]=(0,o.useState)(()=>(0,f.generateMockAssets)(eP)),eO=(0,o.useMemo)(()=>$&&I?[...(I.baseAssets||[]).map(e=>({...e,sourceType:"base"})),...(I.items||[]).map((e,t)=>({qrCode:e.qrCode||"",no:9e4+t,facility:e.facility,building:e.building,floor:e.floor,department:e.department,section:e.section,category:e.category||"",largeClass:e.largeClass||"",mediumClass:e.mediumClass||"",item:e.item||"",name:e.name,maker:e.maker,model:e.model,quantity:e.quantity,width:"",depth:"",height:"",roomName:e.roomName,applicationCategory:e.applicationType,applicationNo:e.applicationNo,applicationReason:e.applicationReason,desiredDeliveryDate:e.desiredDeliveryDate,applicantName:e.applicantName,applicantDepartment:e.applicantDepartment,applicationDate:e.applicationDate,priority:e.priority,usagePurpose:e.usagePurpose,caseCount:e.caseCount,comment:e.comment,attachedFiles:e.attachedFiles,currentConnectionStatus:e.currentConnectionStatus,currentConnectionDestination:e.currentConnectionDestination,requestConnectionStatus:e.requestConnectionStatus,requestConnectionDestination:e.requestConnectionDestination,sourceType:"added"}))]:e$,[$,I,e$]),eH=(0,o.useMemo)(()=>{let e=S.filter(e=>e.hospitalName===T);return{total:e.length,completed:e.filter(e=>"completed"===e.status).length}},[T,S]),eK=(0,o.useMemo)(()=>{let e=eO.length,t=eO.filter(e=>j.some(t=>t.asset.name===e.name&&t.asset.model===e.model)).length;return{total:e,notApplied:e-t,inProgress:t,executed:0}},[eO,j]);(0,o.useMemo)(()=>0===eK.total?0:Math.round((eK.inProgress+eK.executed)/eK.total*100),[eK]),(0,o.useMemo)(()=>0===eK.notApplied&&0===eK.inProgress,[eK]);let{filters:eY,setFilters:eG,filteredAssets:e_,categoryOptions:eU,largeClassOptions:eV,mediumClassOptions:eJ,buildingOptions:eQ,floorOptions:eX,departmentOptions:eZ,sectionOptions:e0}=(0,x.useAssetFilter)(eO),{sortConfig:e1,handleSort:e2,columnFilters:e4,openFilterColumn:e6,setOpenFilterColumn:e3,getColumnUniqueValues:e8,toggleColumnFilter:e5,clearColumnFilter:e9,draggedColumn:e7,handleDragStart:te,handleDragOver:tt,handleDragEnd:to,orderedColumns:ti,finalFilteredAssets:tn}=function({columns:e,assets:t,baseFilteredAssets:i}){let[n,r]=(0,o.useState)(null),[l,d]=(0,o.useState)({}),[s,a]=(0,o.useState)(null),[p,c]=(0,o.useState)(()=>e.map(e=>e.key)),[x,u]=(0,o.useState)(null),h=(0,o.useMemo)(()=>{let e=[...i];return Object.entries(l).forEach(([t,o])=>{o.length>0&&(e=e.filter(e=>{let i=String(e[t]??"");return o.includes(i)}))}),n&&e.sort((e,t)=>{let o=e[n.key]??"",i=t[n.key]??"",r="number"==typeof o?o:parseFloat(o),l="number"==typeof i?i:parseFloat(i);if(!isNaN(r)&&!isNaN(l))return"asc"===n.direction?r-l:l-r;let d=String(o),s=String(i);return"asc"===n.direction?d.localeCompare(s,"ja"):s.localeCompare(d,"ja")}),e},[i,l,n]),g=(0,o.useCallback)(e=>{let o=new Set;return t.forEach(t=>{let i=String(t[e]??"");i&&o.add(i)}),Array.from(o).sort((e,t)=>e.localeCompare(t,"ja"))},[t]),b=(0,o.useCallback)(e=>{r(t=>{if(t?.key===e)if("asc"===t.direction)return{key:e,direction:"desc"};else return null;return{key:e,direction:"asc"}})},[]),f=(0,o.useCallback)((e,t)=>{d(o=>{let i=o[e]||[];if(!i.includes(t))return{...o,[e]:[...i,t]};{let n=i.filter(e=>e!==t);if(0===n.length){let{[e]:t,...i}=o;return i}return{...o,[e]:n}}})},[]),y=(0,o.useCallback)(e=>{d(t=>{let{[e]:o,...i}=t;return i})},[]),m=(0,o.useCallback)(e=>{u(e)},[]),j=(0,o.useCallback)((e,t)=>{e.preventDefault(),c(e=>{if(!x||x===t)return e;let o=[...e],i=o.indexOf(x),n=o.indexOf(t);return -1!==i&&-1!==n&&(o.splice(i,1),o.splice(n,0,x)),o})},[x]);return{sortConfig:n,handleSort:b,columnFilters:l,openFilterColumn:s,setOpenFilterColumn:a,getColumnUniqueValues:g,toggleColumnFilter:f,clearColumnFilter:y,draggedColumn:x,handleDragStart:m,handleDragOver:j,handleDragEnd:(0,o.useCallback)(()=>{u(null)},[]),orderedColumns:(0,o.useMemo)(()=>p.map(t=>e.find(e=>e.key===t)).filter(e=>void 0!==e),[p,e]),finalFilteredAssets:h}}({columns:y,assets:e$,baseFilteredAssets:e_}),{visibleColumns:tr,columnWidths:tl,resizingColumn:td,toggleColumnVisibility:ts,handleSelectAllColumns:ta,handleDeselectAllColumns:tp,handleResizeStart:tc,getCellValue:tx}=(0,u.useAssetTable)(y),tu=e=>{let t=new Set(A);t.has(e)?t.delete(e):t.add(e),N(t)},th=()=>{er&&(A.size>1&&A.has(er.rowNo)?eF(e=>e.map(e=>A.has(e.no)?{...e,[er.colKey]:ed}:e)):eF(e=>e.map(e=>e.no===er.rowNo?{...e,[er.colKey]:ed}:e)),el(null),es(""))};return y.filter(e=>!["applicationStatus"].includes(e.key)),(0,o.useEffect)(()=>{let e=e=>{if(e.origin===window.location.origin&&"ASSET_SELECTED"===e.data.type){let t=e.data.assets.map(e=>({asset:{...e,name:e.item,no:0,qrCode:"",facility:"",building:"",floor:"",department:"",section:"",category:e.category||"",largeClass:e.largeClass||"",mediumClass:e.mediumClass||"",item:e.item||"",maker:e.maker||"",model:e.model||"",quantity:1,width:0,depth:0,height:0},quantity:1,unit:"å°"}));ew(e=>[...e,...t])}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]),(0,t.jsxs)("div",{className:"h-dvh flex flex-col overflow-hidden",style:{background:"white"},children:[(0,t.jsx)(h.Header,{title:I?`ç·¨é›†ãƒªã‚¹ãƒˆ: ${I.name}`:`ãƒªãƒ¢ãƒ‡ãƒ«ç®¡ç† - ${T} ${D}`,resultCount:tn.length,onViewToggle:()=>q("list"===E?"card":"list"),onExport:()=>alert("Excel/PDFå‡ºåŠ›"),onPrint:()=>window.print(),onColumnSettings:()=>P(!0),showBackButton:!0,backHref:"/main",backLabel:"ãƒ¡ã‚¤ãƒ³ç”»é¢ã«æˆ»ã‚‹",hideMenu:!0,facility:T,department:D,targetFacilities:I?.facilities,createdAt:I?.createdAt}),(0,t.jsxs)("div",{style:{background:"#fff",padding:"12px 20px",borderBottom:"1px solid #dee2e6",display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap",justifyContent:"space-between"},children:[(0,t.jsxs)("div",{style:{display:"flex",gap:"10px",alignItems:"center",flexWrap:"wrap"},children:[(0,t.jsx)("button",{onClick:()=>alert("APIé€£æºæ©Ÿèƒ½ï¼ˆé–‹ç™ºä¸­ï¼‰"),style:{padding:"8px 16px",background:"#27ae60",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"background 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#229954"},onMouseLeave:e=>{e.currentTarget.style.background="#27ae60"},children:"APIé€£æº"}),(0,t.jsx)("button",{onClick:()=>alert("è¦æœ›åŒºåˆ†æ©Ÿèƒ½ï¼ˆé–‹ç™ºä¸­ï¼‰"),style:{padding:"8px 16px",background:"#27ae60",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"background 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#229954"},onMouseLeave:e=>{e.currentTarget.style.background="#27ae60"},children:"è¦æœ›åŒºåˆ†"}),(0,t.jsx)("button",{onClick:()=>{window.open("/medical-device-mgmt/ship-asset-master","_blank","width=1200,height=800")},style:{padding:"8px 16px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"background 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#c0392b"},onMouseLeave:e=>{e.currentTarget.style.background="#e74c3c"},children:"ãƒžã‚¹ã‚¿ã‚’é–‹ã"}),(0,t.jsx)("button",{onClick:()=>{window.open("/medical-device-mgmt/quotation-data-box","_blank","width=1200,height=800")},style:{padding:"8px 16px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"background 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#c0392b"},onMouseLeave:e=>{e.currentTarget.style.background="#e74c3c"},children:"è¦‹ç©DBã‚’é–‹ã"}),(0,t.jsx)("button",{onClick:()=>alert("åŽŸæœ¬ã‚’é–‹ãæ©Ÿèƒ½ï¼ˆé–‹ç™ºä¸­ï¼‰"),style:{padding:"8px 16px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:500,transition:"background 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#c0392b"},onMouseLeave:e=>{e.currentTarget.style.background="#e74c3c"},children:"åŽŸæœ¬ã‚’é–‹ã"}),(0,t.jsxs)("button",{onClick:()=>{0===A.size?alert("è¦‹ç©ä¾é ¼ã‚°ãƒ«ãƒ¼ãƒ—ã«å«ã‚ã‚‹è³‡ç”£ã‚’é¸æŠžã—ã¦ãã ã•ã„"):eo(!0)},disabled:0===A.size,style:{padding:"8px 16px",background:0===A.size?"#bdc3c7":"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:0===A.size?"not-allowed":"pointer",fontSize:"14px",fontWeight:600,transition:"background 0.2s"},children:["è¦‹ç©ä¾é ¼ã‚°ãƒ«ãƒ¼ãƒ—ä½œæˆï¼ˆ",A.size,"ä»¶é¸æŠžä¸­ï¼‰"]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"20px",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{padding:"8px 16px",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #dee2e6"},children:[(0,t.jsx)("span",{style:{fontSize:"12px",color:"#666",marginRight:"8px"},children:"è¡¨ç¤ºæ•°é‡åˆè¨ˆ:"}),(0,t.jsxs)("span",{style:{fontSize:"16px",fontWeight:"bold",color:"#2c3e50"},children:[tn.length,"ä»¶"]})]}),(0,t.jsxs)("div",{style:{padding:"8px 16px",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #dee2e6"},children:[(0,t.jsx)("span",{style:{fontSize:"12px",color:"#666",marginRight:"8px"},children:"è¡¨ç¤ºé‡‘é¡åˆè¨ˆ:"}),(0,t.jsxs)("span",{style:{fontSize:"16px",fontWeight:"bold",color:"#27ae60"},children:["Â¥",tn.reduce((e,t)=>{let o=t.rfqAmount;if("number"==typeof o)return e+o;if("string"==typeof o&&o){let t=parseInt(o.replace(/[^0-9]/g,""),10);return e+(isNaN(t)?0:t)}return e},0).toLocaleString()]})]})]})]}),(0,t.jsx)("div",{style:{background:"#f8f9fa",padding:"15px 20px",borderBottom:"1px solid #dee2e6"},children:(0,t.jsxs)("div",{style:{display:"flex",gap:"15px",flexWrap:"wrap"},children:[(0,t.jsx)("div",{style:{flex:"1",minWidth:"120px"},children:(0,t.jsx)(a.SearchableSelect,{label:"éƒ¨é–€",value:eY.department,onChange:e=>eG({...eY,department:e}),options:["",...eZ],placeholder:"ã™ã¹ã¦",isMobile:B})}),(0,t.jsx)("div",{style:{flex:"1",minWidth:"120px"},children:(0,t.jsx)(a.SearchableSelect,{label:"éƒ¨ç½²",value:eY.section,onChange:e=>eG({...eY,section:e}),options:["",...e0],placeholder:"ã™ã¹ã¦",isMobile:B})}),(0,t.jsx)("div",{style:{flex:"1",minWidth:"120px"},children:(0,t.jsx)(a.SearchableSelect,{label:"Category",value:eY.category,onChange:e=>eG({...eY,category:e}),options:["",...eU],placeholder:"ã™ã¹ã¦",isMobile:B})}),(0,t.jsx)("div",{style:{flex:"1",minWidth:"120px"},children:(0,t.jsx)(a.SearchableSelect,{label:"å¤§åˆ†é¡ž",value:eY.largeClass,onChange:e=>eG({...eY,largeClass:e}),options:["",...eV],placeholder:"ã™ã¹ã¦",isMobile:B})}),(0,t.jsx)("div",{style:{flex:"1",minWidth:"120px"},children:(0,t.jsx)(a.SearchableSelect,{label:"ä¸­åˆ†é¡ž",value:eY.mediumClass,onChange:e=>eG({...eY,mediumClass:e}),options:["",...eJ],placeholder:"ã™ã¹ã¦",isMobile:B})}),(0,t.jsx)("div",{style:{flex:"1",minWidth:"120px"},children:(0,t.jsx)(a.SearchableSelect,{label:"è³‡ç”£ç®¡ç†éƒ¨ç½²",value:eY.section,onChange:e=>eG({...eY,section:e}),options:["",...e0],placeholder:"ã™ã¹ã¦",isMobile:B})})]})}),(0,t.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",padding:"20px"},children:(0,t.jsxs)("div",{style:{flex:1,overflow:"auto",position:"relative"},children:["list"===E&&(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"separate",borderSpacing:0,fontSize:"13px",tableLayout:"fixed"},children:[(0,t.jsx)("thead",{style:{position:"sticky",top:0,zIndex:102,background:"#f8f9fa"},children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"12px 8px",textAlign:"left",fontWeight:"bold",color:"#2c3e50",width:`${tl.checkbox}px`,minWidth:`${tl.checkbox}px`,position:"sticky",left:0,zIndex:101,background:"#f8f9fa",whiteSpace:"nowrap",overflow:"hidden",boxShadow:"2px 0 4px rgba(0,0,0,0.1)",borderRight:"1px solid #dee2e6",borderBottom:"2px solid #dee2e6"},children:(0,t.jsxs)("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[(0,t.jsx)("input",{type:"checkbox",onChange:e=>{e.target.checked?N(new Set(tn.map(e=>e.no))):N(new Set)}}),(0,t.jsx)("div",{onMouseDown:e=>tc(e,"checkbox"),style:{position:"absolute",right:-8,top:-12,bottom:-12,width:"4px",cursor:"col-resize",background:"checkbox"===td?"#3498db":"transparent",transition:"background 0.2s"},onMouseEnter:e=>{td||(e.currentTarget.style.background="#ddd")},onMouseLeave:e=>{td||(e.currentTarget.style.background="transparent")}})]})}),ti.filter(e=>tr[e.key]).map(e=>{let o=e1?.key===e.key,i=e4[e.key]?.length>0,n=e8(e.key);return(0,t.jsxs)("th",{draggable:!0,onDragStart:()=>te(e.key),onDragOver:t=>tt(t,e.key),onDragEnd:to,style:{padding:"8px",textAlign:"left",fontWeight:"bold",color:"#2c3e50",width:`${tl[e.key]}px`,position:"relative",whiteSpace:"nowrap",overflow:"visible",background:e7===e.key?"#e3f2fd":"#f8f9fa",zIndex:e6===e.key?100:1,borderRight:"1px solid #dee2e6",borderBottom:"2px solid #dee2e6",cursor:"grab"},children:[(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[(0,t.jsx)("span",{onClick:()=>e2(e.key),style:{cursor:"pointer",flex:1,overflow:"hidden",textOverflow:"ellipsis"},title:e.label,children:e.label}),(0,t.jsx)("span",{onClick:()=>e2(e.key),style:{cursor:"pointer",fontSize:"10px",color:o?"#3498db":"#aaa"},children:o?"asc"===e1.direction?"â–²":"â–¼":"â‡…"}),(0,t.jsx)("span",{onClick:t=>{t.stopPropagation(),e3(e6===e.key?null:e.key)},style:{cursor:"pointer",fontSize:"10px",color:i?"#e74c3c":"#aaa",padding:"2px"},children:"â–¼"})]}),e6===e.key&&(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{position:"absolute",top:"100%",left:0,background:"white",border:"1px solid #dee2e6",borderRadius:"4px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",zIndex:1e3,maxHeight:"200px",overflowY:"auto",minWidth:"150px"},children:[(0,t.jsxs)("div",{style:{padding:"8px",borderBottom:"1px solid #dee2e6",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("span",{style:{fontSize:"11px",fontWeight:"bold"},children:"çµžã‚Šè¾¼ã¿"}),(0,t.jsx)("button",{onClick:()=>e9(e.key),style:{fontSize:"10px",padding:"2px 6px",background:"#e74c3c",color:"white",border:"none",borderRadius:"2px",cursor:"pointer"},children:"ã‚¯ãƒªã‚¢"})]}),n.map(o=>(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"6px",padding:"6px 8px",cursor:"pointer",fontSize:"12px",borderBottom:"1px solid #f0f0f0"},children:[(0,t.jsx)("input",{type:"checkbox",checked:e4[e.key]?.includes(o)||!1,onChange:()=>e5(e.key,o)}),(0,t.jsx)("span",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:o||"(ç©º)"})]},o))]})]}),(0,t.jsx)("div",{onMouseDown:t=>{t.stopPropagation(),tc(t,e.key)},style:{position:"absolute",right:0,top:0,bottom:0,width:"4px",cursor:"col-resize",background:td===e.key?"#3498db":"transparent",transition:"background 0.2s"},onMouseEnter:e=>{td||(e.currentTarget.style.background="#ddd")},onMouseLeave:e=>{td||(e.currentTarget.style.background="transparent")}})]},e.key)})]})}),(0,t.jsx)("tbody",{children:tn.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"12px 8px",whiteSpace:"nowrap",overflow:"hidden",position:"sticky",left:0,zIndex:100,background:A.has(e.no)?"#e3f2fd":"white",boxShadow:"2px 0 4px rgba(0,0,0,0.1)",borderRight:"1px solid #dee2e6",borderBottom:"1px solid #dee2e6"},children:(0,t.jsx)("input",{type:"checkbox",checked:A.has(e.no),onChange:()=>tu(e.no)})}),ti.filter(e=>tr[e.key]).map(o=>{let i=er?.rowNo===e.no&&er?.colKey===o.key,n=ea?.rowNo===e.no&&ea?.colKey===o.key,r=tx(e,o.key),l="applicationStatus"!==o.key,d=A.has(e.no);return(0,t.jsx)("td",{style:{padding:i?"4px":"12px 8px",color:"#2c3e50",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",background:i?"#fff3cd":n&&l?d?"#bbdefb":"#e8f4fd":d?"#e3f2fd":"white",cursor:l?"pointer":"default",transition:"background 0.15s",position:"relative",zIndex:0,borderRight:"1px solid #dee2e6",borderBottom:"1px solid #dee2e6"},onMouseEnter:()=>l&&ep({rowNo:e.no,colKey:o.key}),onMouseLeave:()=>ep(null),onDoubleClick:()=>l&&((e,t,o)=>{if("rfqNo"===t){0!==A.size&&A.has(e)||N(new Set([e])),eo(!0);return}el({rowNo:e,colKey:t}),es(o)})(e.no,o.key,r),children:"applicationStatus"===o.key?(e=>{let o=j.filter(t=>t.asset.name===e.name&&t.asset.model===e.model);if(0===o.length)return(0,t.jsx)("span",{style:{color:"#95a5a6",fontSize:"12px"},children:"-"});let i={æ–°è¦ç”³è«‹:"#27ae60",å¢—è¨­ç”³è«‹:"#3498db",æ›´æ–°ç”³è«‹:"#e67e22",ç§»å‹•ç”³è«‹:"#9b59b6",å»ƒæ£„ç”³è«‹:"#e74c3c",ä¿ç•™:"#95a5a6"},n=Array.from(new Set(o.map(e=>e.applicationType)));return(0,t.jsx)("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:n.map((e,o)=>(0,t.jsx)("span",{style:{padding:"2px 8px",background:i[e]||"#95a5a6",color:"white",borderRadius:"12px",fontSize:"11px",fontWeight:"bold",whiteSpace:"nowrap"},children:e},o))})})(e):i?(0,t.jsx)("input",{type:"text",value:ed,onChange:e=>es(e.target.value),onBlur:th,onKeyDown:e=>{"Enter"===e.key&&th(),"Escape"===e.key&&(el(null),es(""))},autoFocus:!0,style:{width:"100%",padding:"6px 8px",border:"2px solid #3498db",borderRadius:"4px",fontSize:"13px",boxSizing:"border-box"}}):r},o.key)})]},e.no))})]}),"card"===E&&(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:tn.map(o=>(0,t.jsxs)("div",{style:{background:"white",border:"1px solid #dee2e6",borderRadius:"8px",padding:"20px",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onDoubleClick:()=>e.push(`/asset-karte/${o.no}`),onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[(0,t.jsxs)("div",{style:{marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("input",{type:"checkbox",checked:A.has(o.no),onChange:()=>tu(o.no)}),(0,t.jsxs)("strong",{style:{color:"#2c3e50"},children:["No. ",o.no]})]}),(0,t.jsx)("h3",{style:{fontSize:"16px",marginBottom:"10px",color:"#2c3e50"},children:o.name}),(0,t.jsxs)("div",{style:{fontSize:"13px",color:"#5a6c7d",lineHeight:"1.6"},children:[(0,t.jsxs)("div",{children:["æ–½è¨­: ",o.facility]}),(0,t.jsxs)("div",{children:["å ´æ‰€: ",o.building," ",o.floor]}),(0,t.jsxs)("div",{children:["éƒ¨é–€: ",o.department]}),(0,t.jsxs)("div",{children:["ãƒ¡ãƒ¼ã‚«ãƒ¼: ",o.maker]}),(0,t.jsxs)("div",{children:["åž‹å¼: ",o.model]})]})]},o.no))})]})}),(0,t.jsx)(p.ColumnSettingsModal,{isOpen:L,onClose:()=>P(!1),columns:y,visibleColumns:tr,onVisibilityChange:ts,onSelectAll:ta,onDeselectAll:tp}),F&&(0,t.jsx)("div",{onClick:()=>O(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"90vh",boxShadow:"0 4px 20px rgba(0,0,0,0.3)",overflow:"auto",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{background:"#3498db",color:"white",padding:"20px 24px",fontSize:"18px",fontWeight:"bold",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[(0,t.jsx)("span",{children:H}),(0,t.jsx)("button",{onClick:()=>O(!1),style:{background:"transparent",border:"none",color:"white",fontSize:"24px",cursor:"pointer",padding:"0",width:"30px",height:"30px"},children:"Ã—"})]}),(0,t.jsxs)("div",{style:{padding:"32px",flex:1},children:[(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsxs)("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#2c3e50",marginBottom:"12px",borderBottom:"2px solid #3498db",paddingBottom:"8px"},children:["é¸æŠžã•ã‚ŒãŸè³‡ç”£ (",A.size,"ä»¶)"]}),(0,t.jsx)("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #dee2e6",borderRadius:"4px"},children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[(0,t.jsx)("thead",{style:{background:"#f8f9fa",position:"sticky",top:0},children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontWeight:"bold",color:"#2c3e50"},children:"å“ç›®"}),(0,t.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontWeight:"bold",color:"#2c3e50"},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼"}),(0,t.jsx)("th",{style:{padding:"10px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontWeight:"bold",color:"#2c3e50"},children:"åž‹å¼"})]})}),(0,t.jsx)("tbody",{children:tn.filter(e=>A.has(e.no)).map(e=>(0,t.jsxs)("tr",{style:{borderBottom:"1px solid #f0f0f0"},children:[(0,t.jsx)("td",{style:{padding:"10px",color:"#2c3e50"},children:e.name}),(0,t.jsx)("td",{style:{padding:"10px",color:"#2c3e50"},children:e.maker}),(0,t.jsx)("td",{style:{padding:"10px",color:"#2c3e50"},children:e.model})]},e.no))})]})}),"å»ƒæ£„ç”³è«‹"!==H&&(0,t.jsx)("p",{style:{fontSize:"13px",color:"#777",marginTop:"12px"},children:"â€» ä¸€æ‹¬ç”³è«‹ã®å ´åˆã€ã™ã¹ã¦ã®è³‡ç”£ã«åŒã˜è¨­ç½®æƒ…å ±ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚"})]}),"å»ƒæ£„ç”³è«‹"!==H&&(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px",borderBottom:"2px solid #3498db",paddingBottom:"8px"},children:[(0,t.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#2c3e50",margin:0},children:"æ–°ã—ã„è¨­ç½®æƒ…å ±"}),(0,t.jsxs)("button",{type:"button",onClick:()=>{let e=tn.filter(e=>A.has(e.no));if(0===e.length)return void alert("è³‡ç”£ã‚’é¸æŠžã—ã¦ãã ã•ã„");let t=e[0],o=k({hospitalId:T,building:t.building,floor:t.floor,department:t.department,section:t.roomName||t.section});o&&o.floor?(U(o.floor),J(o.department),ee(o.section),alert("å€‹åˆ¥æ–½è¨­ãƒžã‚¹ã‚¿ã‹ã‚‰æ–°å±…æƒ…å ±ã‚’å–å¾—ã—ã¾ã—ãŸ")):alert("å€‹åˆ¥æ–½è¨­ãƒžã‚¹ã‚¿ã«è©²å½“ã™ã‚‹ãƒžãƒƒãƒ”ãƒ³ã‚°æƒ…å ±ãŒã‚ã‚Šã¾ã›ã‚“ã€‚\nå€‹åˆ¥æ–½è¨­ãƒžã‚¹ã‚¿ã§ç¾çŠ¶â†’æ–°å±…ã®ãƒžãƒƒãƒ”ãƒ³ã‚°ã‚’ç™»éŒ²ã—ã¦ãã ã•ã„ã€‚")},style:{padding:"6px 12px",background:"linear-gradient(135deg, #8e44ad, #9b59b6)",color:"white",border:"none",borderRadius:"4px",fontSize:"12px",fontWeight:600,cursor:"pointer",display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsx)("span",{children:"ðŸ¢"}),(0,t.jsx)("span",{children:"å€‹åˆ¥æ–½è¨­ãƒžã‚¹ã‚¿ã‹ã‚‰è‡ªå‹•å…¥åŠ›"})]})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"20px"},children:[(0,t.jsx)("div",{style:{position:"relative",zIndex:5},children:(0,t.jsx)(a.SearchableSelect,{label:"æ£Ÿ",value:Y,onChange:G,options:eQ,placeholder:"é¸æŠžã—ã¦ãã ã•ã„",isMobile:B})}),(0,t.jsx)("div",{style:{position:"relative",zIndex:4},children:(0,t.jsx)(a.SearchableSelect,{label:"éšŽ",value:_,onChange:U,options:eX,placeholder:"é¸æŠžã—ã¦ãã ã•ã„",isMobile:B})}),(0,t.jsx)("div",{style:{position:"relative",zIndex:3},children:(0,t.jsx)(a.SearchableSelect,{label:"éƒ¨é–€",value:V,onChange:J,options:eZ,placeholder:"é¸æŠžã—ã¦ãã ã•ã„",isMobile:B})}),(0,t.jsx)("div",{style:{position:"relative",zIndex:2},children:(0,t.jsx)(a.SearchableSelect,{label:"éƒ¨ç½²",value:Q,onChange:X,options:e0,placeholder:"é¸æŠžã—ã¦ãã ã•ã„",isMobile:B})}),(0,t.jsxs)("div",{style:{gridColumn:"1 / -1"},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#2c3e50",marginBottom:"8px"},children:"è«¸å®¤å"}),(0,t.jsx)("input",{type:"text",value:Z,onChange:e=>ee(e.target.value),placeholder:"è«¸å®¤åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",style:{width:"100%",padding:"10px 12px",border:"1px solid #d0d0d0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]})]}),"ç§»å‹•ç”³è«‹"===H&&(0,t.jsxs)("div",{style:{display:"grid",gap:"20px",marginTop:"20px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#2c3e50",marginBottom:"8px"},children:"ç¾åœ¨ã®æŽ¥ç¶šçŠ¶æ³"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"radio",checked:"connected"===eC,onChange:()=>ez("connected"),style:{cursor:"pointer"}}),(0,t.jsx)("span",{style:{fontSize:"14px",color:"#2c3e50"},children:"æŽ¥ç¶šã‚ã‚Š"})]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"radio",checked:"disconnected"===eC,onChange:()=>ez("disconnected"),style:{cursor:"pointer"}}),(0,t.jsx)("span",{style:{fontSize:"14px",color:"#2c3e50"},children:"æŽ¥ç¶šãªã—"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#2c3e50",marginBottom:"8px"},children:"ç¾åœ¨ã®æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("input",{type:"text",value:eW,onChange:e=>eR(e.target.value),placeholder:"æŽ¥ç¶šå…ˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",style:{width:"100%",padding:"10px 12px",border:"1px solid #d0d0d0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]})]})]})]}),(0,t.jsxs)("div",{style:{padding:"16px 24px",borderTop:"1px solid #dee2e6",display:"flex",justifyContent:"flex-end",gap:"12px"},children:[(0,t.jsx)("button",{onClick:()=>O(!1),style:{padding:"10px 24px",background:"#95a5a6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,t.jsx)("button",{onClick:()=>{if(!H)return void alert("ç”³è«‹ã‚¿ã‚¤ãƒ—ã‚’é¸æŠžã—ã¦ãã ã•ã„");let e=tn.filter(e=>A.has(e.no));"å»ƒæ£„ç”³è«‹"===H||Y&&V&&Q&&Z?(e.forEach(e=>{m({applicationNo:`APP-${Date.now()}-${Math.floor(1e4*Math.random())}`,applicationDate:new Date().toISOString().split("T")[0],applicationType:H,asset:{name:e.name,model:e.model},vendor:e.maker,quantity:"1",unit:"å°",status:"æ‰¿èªå¾…ã¡",approvalProgress:{current:0,total:3},facility:{building:"å»ƒæ£„ç”³è«‹"!==H?Y:e.building,floor:"å»ƒæ£„ç”³è«‹"!==H?_:e.floor,department:"å»ƒæ£„ç”³è«‹"!==H?V:e.department,section:"å»ƒæ£„ç”³è«‹"!==H?Q:e.section},roomName:"å»ƒæ£„ç”³è«‹"!==H?Z:void 0,freeInput:"å»ƒæ£„ç”³è«‹"!==H?Z:"å»ƒæ£„",executionYear:new Date().getFullYear().toString(),currentConnectionStatus:"ç§»å‹•ç”³è«‹"===H?eC:void 0,currentConnectionDestination:"ç§»å‹•ç”³è«‹"===H?eW:void 0})}),alert(`${H}ã‚’é€ä¿¡ã—ã¾ã—ãŸ
ç”³è«‹ä»¶æ•°: ${e.length}ä»¶`),O(!1),N(new Set)):alert("ã™ã¹ã¦ã®è¨­ç½®æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")},style:{padding:"10px 24px",background:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"ç”³è«‹ã™ã‚‹"})]})]})}),ec&&(0,t.jsx)("div",{onClick:()=>ex(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"1000px",maxHeight:"90vh",boxShadow:"0 4px 20px rgba(0,0,0,0.3)",overflow:"auto",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{background:"#3498db",color:"white",padding:"20px 24px",fontSize:"18px",fontWeight:"bold",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[(0,t.jsx)("span",{children:"æ–°è¦ç”³è«‹"}),(0,t.jsx)("button",{onClick:()=>ex(!1),style:{background:"transparent",border:"none",color:"white",fontSize:"24px",cursor:"pointer",padding:"0",width:"30px",height:"30px"},children:"Ã—"})]}),(0,t.jsxs)("div",{style:{padding:"32px",flex:1,overflowY:"auto"},children:[(0,t.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,t.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#2c3e50",marginBottom:"16px",borderBottom:"2px solid #3498db",paddingBottom:"8px"},children:"è¨­ç½®æƒ…å ±"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:B?"1fr":"repeat(2, 1fr)",gap:"20px"},children:[(0,t.jsx)("div",{style:{position:"relative",zIndex:5},children:(0,t.jsx)(a.SearchableSelect,{label:"æ£Ÿ",value:eu,onChange:eh,options:eQ,placeholder:"é¸æŠžã—ã¦ãã ã•ã„",isMobile:B})}),(0,t.jsx)("div",{style:{position:"relative",zIndex:4},children:(0,t.jsx)(a.SearchableSelect,{label:"éšŽ",value:eg,onChange:eb,options:eX,placeholder:"é¸æŠžã—ã¦ãã ã•ã„",isMobile:B})}),(0,t.jsx)("div",{style:{position:"relative",zIndex:3},children:(0,t.jsx)(a.SearchableSelect,{label:"éƒ¨é–€",value:ef,onChange:ey,options:eZ,placeholder:"é¸æŠžã—ã¦ãã ã•ã„",isMobile:B})}),(0,t.jsx)("div",{style:{position:"relative",zIndex:2},children:(0,t.jsx)(a.SearchableSelect,{label:"éƒ¨ç½²",value:em,onChange:ej,options:e0,placeholder:"é¸æŠžã—ã¦ãã ã•ã„",isMobile:B})}),(0,t.jsxs)("div",{style:{gridColumn:B?"1":"1 / -1"},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#2c3e50",marginBottom:"8px"},children:"è«¸å®¤å"}),(0,t.jsx)("input",{type:"text",value:ek,onChange:e=>eS(e.target.value),placeholder:"è«¸å®¤åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",style:{width:"100%",padding:"10px 12px",border:"1px solid #d0d0d0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,t.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:(0,t.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#2c3e50",borderBottom:"2px solid #3498db",paddingBottom:"8px",flex:1},children:"è³‡ç”£é¸æŠž"})}),(0,t.jsx)("button",{onClick:()=>{let e=(window.screen.width-1200)/2,t=(window.screen.height-800)/2;window.open("/medical-device-mgmt/asset-master","AssetMasterWindow",`width=1200,height=800,left=${e},top=${t},resizable=yes,scrollbars=yes`)},style:{padding:"12px 24px",background:"#27ae60",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",marginBottom:"16px",transition:"background 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#229954"},onMouseLeave:e=>{e.currentTarget.style.background="#27ae60"},children:"ðŸ“‹ è³‡ç”£ãƒžã‚¹ã‚¿ã‚’åˆ¥ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§é–‹ã"}),ev.length>0&&(0,t.jsx)("div",{style:{border:"1px solid #dee2e6",borderRadius:"8px",overflow:"hidden"},children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[(0,t.jsx)("thead",{style:{background:"#f8f9fa"},children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontWeight:"bold",color:"#2c3e50"},children:"å“ç›®"}),(0,t.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontWeight:"bold",color:"#2c3e50"},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼"}),(0,t.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontWeight:"bold",color:"#2c3e50"},children:"åž‹å¼"}),(0,t.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontWeight:"bold",color:"#2c3e50",width:"120px"},children:"æ•°é‡"}),(0,t.jsx)("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontWeight:"bold",color:"#2c3e50",width:"120px"},children:"å˜ä½"}),(0,t.jsx)("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #dee2e6",fontWeight:"bold",color:"#2c3e50",width:"80px"},children:"å‰Šé™¤"})]})}),(0,t.jsx)("tbody",{children:ev.map((e,o)=>(0,t.jsxs)("tr",{style:{borderBottom:o<ev.length-1?"1px solid #f0f0f0":"none"},children:[(0,t.jsx)("td",{style:{padding:"12px",color:"#2c3e50"},children:e.asset.name}),(0,t.jsx)("td",{style:{padding:"12px",color:"#2c3e50"},children:e.asset.maker}),(0,t.jsx)("td",{style:{padding:"12px",color:"#2c3e50"},children:e.asset.model}),(0,t.jsx)("td",{style:{padding:"8px"},children:(0,t.jsx)("input",{type:"number",value:e.quantity,onChange:e=>{var t;return t=Number(e.target.value),void ew(e=>e.map((e,i)=>i===o?{...e,quantity:t}:e))},min:"1",style:{width:"100%",padding:"6px 8px",border:"1px solid #d0d0d0",borderRadius:"4px",fontSize:"13px",boxSizing:"border-box"}})}),(0,t.jsx)("td",{style:{padding:"8px"},children:(0,t.jsxs)("select",{value:e.unit,onChange:e=>{var t;return t=e.target.value,void ew(e=>e.map((e,i)=>i===o?{...e,unit:t}:e))},style:{width:"100%",padding:"6px 8px",border:"1px solid #d0d0d0",borderRadius:"4px",fontSize:"13px",boxSizing:"border-box",cursor:"pointer"},children:[(0,t.jsx)("option",{value:"å°",children:"å°"}),(0,t.jsx)("option",{value:"å€‹",children:"å€‹"}),(0,t.jsx)("option",{value:"å¼",children:"å¼"}),(0,t.jsx)("option",{value:"ã‚»ãƒƒãƒˆ",children:"ã‚»ãƒƒãƒˆ"})]})}),(0,t.jsx)("td",{style:{padding:"8px",textAlign:"center"},children:(0,t.jsx)("button",{onClick:()=>{ew(e=>e.filter((e,t)=>t!==o))},style:{padding:"6px 12px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",transition:"background 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#c0392b"},onMouseLeave:e=>{e.currentTarget.style.background="#e74c3c"},children:"å‰Šé™¤"})})]},o))})]})}),0===ev.length&&(0,t.jsx)("div",{style:{padding:"24px",textAlign:"center",color:"#7f8c8d",background:"#f8f9fa",borderRadius:"8px",border:"1px dashed #d0d0d0"},children:"è³‡ç”£ãŒé¸æŠžã•ã‚Œã¦ã„ã¾ã›ã‚“"})]}),(0,t.jsxs)("div",{style:{marginBottom:"32px"},children:[(0,t.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#2c3e50",marginBottom:"16px",borderBottom:"2px solid #3498db",paddingBottom:"8px"},children:"ã‚·ã‚¹ãƒ†ãƒ é–¢é€£æƒ…å ±ï¼ˆä»»æ„ï¼‰"}),(0,t.jsxs)("div",{style:{display:"grid",gap:"20px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#2c3e50",marginBottom:"8px"},children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šè¦æœ›"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"16px"},children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"radio",checked:"required"===eB,onChange:()=>eM("required"),style:{cursor:"pointer"}}),(0,t.jsx)("span",{style:{fontSize:"14px",color:"#2c3e50"},children:"æŽ¥ç¶šè¦æœ›"})]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"radio",checked:"not-required"===eB,onChange:()=>eM("not-required"),style:{cursor:"pointer"}}),(0,t.jsx)("span",{style:{fontSize:"14px",color:"#2c3e50"},children:"æŽ¥ç¶šä¸è¦"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#2c3e50",marginBottom:"8px"},children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("input",{type:"text",value:eI,onChange:e=>eT(e.target.value),placeholder:"æŽ¥ç¶šå…ˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",style:{width:"100%",padding:"10px 12px",border:"1px solid #d0d0d0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}})]})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsx)("h3",{style:{fontSize:"16px",fontWeight:"bold",color:"#2c3e50",marginBottom:"16px",borderBottom:"2px solid #3498db",paddingBottom:"8px"},children:"ãã®ä»–æƒ…å ±ï¼ˆä»»æ„ï¼‰"}),(0,t.jsxs)("div",{style:{display:"grid",gap:"20px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#2c3e50",marginBottom:"8px"},children:"ç”³è«‹ç†ç”±ãƒ»ã‚³ãƒ¡ãƒ³ãƒˆç­‰"}),(0,t.jsx)("textarea",{value:eD,onChange:e=>eA(e.target.value),placeholder:"ç”³è«‹ç†ç”±ã‚„ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",rows:4,style:{width:"100%",padding:"10px 12px",border:"1px solid #d0d0d0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box",resize:"vertical"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"14px",fontWeight:600,color:"#2c3e50",marginBottom:"8px"},children:"åŸ·è¡Œå¹´åº¦"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("input",{type:"number",value:eN,onChange:e=>eE(e.target.value),placeholder:"ä¾‹: 2024",style:{width:"150px",padding:"10px 12px",border:"1px solid #d0d0d0",borderRadius:"6px",fontSize:"14px",boxSizing:"border-box"}}),(0,t.jsx)("span",{style:{fontSize:"14px",color:"#2c3e50"},children:"å¹´åº¦"})]})]})]})]})]}),(0,t.jsxs)("div",{style:{padding:"16px 24px",borderTop:"1px solid #dee2e6",display:"flex",justifyContent:"flex-end",gap:"12px",background:"#f8f9fa"},children:[(0,t.jsx)("button",{onClick:()=>ex(!1),style:{padding:"10px 24px",background:"#95a5a6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"background 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#7f8c8d"},onMouseLeave:e=>{e.currentTarget.style.background="#95a5a6"},children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,t.jsx)("button",{onClick:()=>{eu&&ef&&em&&ek?0===ev.length?alert("è³‡ç”£ã‚’é¸æŠžã—ã¦ãã ã•ã„"):(ev.forEach(({asset:e,quantity:t,unit:o})=>{m({applicationNo:`APP-${Date.now()}-${Math.floor(1e4*Math.random())}`,applicationDate:new Date().toISOString().split("T")[0],applicationType:"æ–°è¦ç”³è«‹",asset:{name:e.name,model:e.model},vendor:e.maker,quantity:`${t}`,unit:o,status:"æ‰¿èªå¾…ã¡",approvalProgress:{current:0,total:3},facility:{building:eu,floor:eg,department:ef,section:em},roomName:ek,freeInput:eD,executionYear:eN||new Date().getFullYear().toString(),requestConnectionStatus:eB,requestConnectionDestination:eI,applicationReason:eD})}),alert(`æ–°è¦ç”³è«‹ã‚’é€ä¿¡ã—ã¾ã—ãŸ
ç”³è«‹ä»¶æ•°: ${ev.length}ä»¶`),ex(!1),ew([])):alert("ã™ã¹ã¦ã®è¨­ç½®æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")},style:{padding:"10px 24px",background:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",transition:"background 0.2s"},onMouseEnter:e=>{e.currentTarget.style.background="#2980b9"},onMouseLeave:e=>{e.currentTarget.style.background="#3498db"},children:"ç”³è«‹ã™ã‚‹"})]})]})}),eq&&(0,t.jsx)("div",{onClick:()=>eL(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"500px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)",overflow:"hidden"},children:[(0,t.jsxs)("div",{style:{background:"#2c3e50",color:"white",padding:"20px 24px",fontSize:"18px",fontWeight:"bold",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("span",{children:"ãƒªãƒ¢ãƒ‡ãƒ«ã‚¯ãƒ­ãƒ¼ã‚ºç¢ºèª"}),(0,t.jsx)("button",{onClick:()=>eL(!1),style:{background:"transparent",border:"none",color:"white",fontSize:"24px",cursor:"pointer",padding:"0",width:"30px",height:"30px"},children:"Ã—"})]}),(0,t.jsxs)("div",{style:{padding:"24px"},children:[(0,t.jsxs)("div",{style:{background:"#fff3cd",border:"1px solid #ffc107",borderRadius:"8px",padding:"16px",marginBottom:"20px"},children:[(0,t.jsx)("p",{style:{margin:0,color:"#856404",fontWeight:"bold",marginBottom:"8px"},children:"ä»¥ä¸‹ã®å‡¦ç†ãŒå®Ÿè¡Œã•ã‚Œã¾ã™:"}),(0,t.jsxs)("ul",{style:{margin:0,paddingLeft:"20px",color:"#856404",fontSize:"14px"},children:[(0,t.jsx)("li",{children:"å€‹åˆ¥æ–½è¨­ãƒžã‚¹ã‚¿ã®ã€Œæ–°å±…ã€æƒ…å ±ãŒã€Œç¾çŠ¶ã€ã«åæ˜ ã•ã‚Œã¾ã™"}),(0,t.jsx)("li",{children:"è³‡ç”£ã®è¨­ç½®å ´æ‰€ãŒæ–°ã—ã„å ´æ‰€ã«æ›´æ–°ã•ã‚Œã¾ã™"}),(0,t.jsx)("li",{children:"ã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã™ã“ã¨ãŒã§ãã¾ã›ã‚“"})]})]}),(0,t.jsxs)("div",{style:{background:"#e8f5e9",border:"1px solid #a5d6a7",borderRadius:"8px",padding:"16px"},children:[(0,t.jsxs)("p",{style:{margin:0,color:"#2e7d32",fontSize:"14px"},children:["å¯¾è±¡æ–½è¨­: ",(0,t.jsx)("strong",{children:T})]}),(0,t.jsxs)("p",{style:{margin:"8px 0 0 0",color:"#2e7d32",fontSize:"14px"},children:["å€‹åˆ¥æ–½è¨­ãƒžã‚¹ã‚¿: ",(0,t.jsxs)("strong",{children:[eH.total,"ä»¶"]})]})]})]}),(0,t.jsxs)("div",{style:{padding:"16px 24px",borderTop:"1px solid #dee2e6",display:"flex",justifyContent:"flex-end",gap:"12px",background:"#f8f9fa"},children:[(0,t.jsx)("button",{onClick:()=>eL(!1),style:{padding:"10px 24px",background:"#95a5a6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,t.jsx)("button",{onClick:()=>{let e=S.filter(e=>e.hospitalName===T);e.forEach(e=>{"completed"!==e.status&&e.newFloor&&v(e.id)}),w.forEach(t=>{let o=e.find(e=>e.currentFloor===t.location.floor&&e.currentDepartment===t.location.department);o&&o.newFloor&&C(t.id,{location:{...t.location,floor:o.newFloor,department:o.newDepartment,section:o.newSection}})}),alert("ãƒªãƒ¢ãƒ‡ãƒ«ç®¡ç†ã‚’ã‚¯ãƒ­ãƒ¼ã‚ºã—ã¾ã—ãŸã€‚\n\nãƒ»å€‹åˆ¥æ–½è¨­ãƒžã‚¹ã‚¿ã®æ–°å±…ãŒç¾çŠ¶ã«åæ˜ ã•ã‚Œã¾ã—ãŸ\nãƒ»è³‡ç”£ã®è¨­ç½®å ´æ‰€ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ"),eL(!1)},style:{padding:"10px 24px",background:"#2c3e50",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"ã‚¯ãƒ­ãƒ¼ã‚ºå®Ÿè¡Œ"})]})]})}),(0,t.jsx)(b,{isOpen:et,onClose:()=>eo(!1),rfqGroupName:ei,setRfqGroupName:en,selectedCount:A.size,generatedRfqNo:R(),onSubmit:()=>{let e=R(),t=new Date,o=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;W({rfqNo:e,groupName:ei.trim(),createdDate:o,applicationIds:Array.from(A).map(String),status:"è¦‹ç©ä¾é ¼"}),eF(t=>t.map(t=>A.has(t.no)?{...t,rfqNo:e,rfqGroupName:ei.trim()}:t)),alert(`è¦‹ç©ä¾é ¼ã‚°ãƒ«ãƒ¼ãƒ—ã€Œ${ei.trim()}ã€ã‚’ä½œæˆã—ã¾ã—ãŸ

è¦‹ç©ä¾é ¼No.: ${e}
é¸æŠžãƒ¬ã‚³ãƒ¼ãƒ‰: ${A.size}ä»¶`),eo(!1),en(""),N(new Set)}})]})}function j(){return(0,t.jsx)(o.Suspense,{fallback:(0,t.jsx)("div",{children:"Loading..."}),children:(0,t.jsx)(m,{})})}e.s(["default",()=>j],5767)}]);