(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,41336,e=>{"use strict";e.s(["FACILITY_CONSTANTS",0,{buildings:["本館","新館","東棟","西棟","診療棟"],divisions:["内科","外科","手術部","放射線科","検査科","薬剤部","事務部"],sectionsByDivision:{内科:["循環器内科","消化器内科","呼吸器内科"],外科:["一般外科","整形外科","脳神経外科"],手術部:["中央手術室","ICU","HCU"],放射線科:["X線撮影室","CT室","MRI室"],検査科:["検体検査室","生理検査室","病理検査室"]},roomRangesBySection:{循環器内科:["外来診察室","病棟","処置室"],中央手術室:["手術室1","手術室2","手術室3","リカバリー室"],X線撮影室:["一般撮影室","ポータブル撮影室","TV撮影室"],CT室:["CT1号機室","CT2号機室","操作室"]}}])},77656,e=>{"use strict";e.s(["ledgerDataSample",0,[{id:"L1",assetNo:"10605379-000",department:"手術部門",section:"中央手術室",roomName:"手術室1",category:"医療機器",majorCategory:"治療機器",middleCategory:"滅菌器",item:"燻蒸滅菌装置",manufacturer:"VENLE GO",model:"CEパルサマドライ",quantity:1,acquisitionDate:"2022-04-15"},{id:"L2",assetNo:"10605480-000",department:"放射線科",section:"MRI室",roomName:"MRI検査室",category:"医療機器",majorCategory:"画像診断装置",middleCategory:"MRI",item:"MRI装置",manufacturer:"シーメンス",model:"MAGNETOM Vida 3T",quantity:1,acquisitionDate:"2023-03-15"},{id:"L3",assetNo:"10605421-000",department:"検査科",section:"臨床検査室",roomName:"検査室A",category:"医療機器",majorCategory:"検査機器",middleCategory:"血液検査",item:"自動血球計数器",manufacturer:"シスメックス",model:"XN-3100",quantity:1,acquisitionDate:"2023-01-20"},{id:"L4",assetNo:"10605502-000",department:"手術部門",section:"中央手術室",roomName:"手術室2",category:"医療機器",majorCategory:"治療機器",middleCategory:"人工呼吸器",item:"人工呼吸器",manufacturer:"ドレーゲル",model:"Savina 300",quantity:2,acquisitionDate:"2023-02-10"},{id:"L5",assetNo:"10605205-000",department:"手術部門",section:"中央手術室",roomName:"手術室3",category:"医療機器",majorCategory:"治療機器",middleCategory:"麻酔器",item:"麻酔器",manufacturer:"GEヘルスケア",model:"Aisys CS2",quantity:1,acquisitionDate:"2022-06-10"},{id:"L6",assetNo:"10605590-000",department:"放射線科",section:"CT室",roomName:"CT検査室",category:"医療機器",majorCategory:"画像診断装置",middleCategory:"CT",item:"CT装置",manufacturer:"GEヘルスケア",model:"Revolution CT",quantity:1,acquisitionDate:"2023-05-20"},{id:"L7",assetNo:"10605691-000",department:"検査科",section:"病理検査室",roomName:"検査室D",category:"医療機器",majorCategory:"検査機器",middleCategory:"病理検査",item:"顕微鏡",manufacturer:"オリンパス",model:"BX53",quantity:1,acquisitionDate:"2022-08-15"},{id:"L8",assetNo:"10605792-000",department:"手術部門",section:"中央手術室",roomName:"手術室5",category:"医療機器",majorCategory:"治療機器",middleCategory:"モニター",item:"生体情報モニター",manufacturer:"フクダ電子",model:"DS-7100",quantity:1,acquisitionDate:"2022-09-20"},{id:"L9",assetNo:"10605893-000",department:"放射線科",section:"X線撮影室",roomName:"一般撮影室",category:"医療機器",majorCategory:"画像診断装置",middleCategory:"X線撮影",item:"X線撮影装置",manufacturer:"島津製作所",model:"RADspeed Pro",quantity:1,acquisitionDate:"2022-10-10"},{id:"L10",assetNo:"10605994-000",department:"検査科",section:"輸血検査室",roomName:"検査室E",category:"医療機器",majorCategory:"検査機器",middleCategory:"輸血検査",item:"血液型判定装置",manufacturer:"オーソクリニカル",model:"AutoVue Innova",quantity:1,acquisitionDate:"2022-11-25"}],"meLedgerDataSample",0,[{id:"ME1",meNo:"ME-2022-001",assetNo:"10605379-000",department:"手術部門",section:"中央手術室",roomName:"手術室1",category:"医療機器",majorCategory:"治療機器",middleCategory:"滅菌器",item:"燻蒸滅菌装置",manufacturer:"VENLE GO",model:"CEパルサマドライ",serialNo:"VG-2022-00123",quantity:1,inspectionDate:"2025-12-15"},{id:"ME2",meNo:"ME-2022-002",assetNo:"10605502-000",department:"手術部門",section:"中央手術室",roomName:"手術室2",category:"医療機器",majorCategory:"治療機器",middleCategory:"人工呼吸器",item:"人工呼吸器",manufacturer:"ドレーゲル",model:"Savina 300",serialNo:"DR-2023-00456",quantity:2,inspectionDate:"2025-11-20"},{id:"ME3",meNo:"ME-2022-003",assetNo:"10605205-000",department:"手術部門",section:"中央手術室",roomName:"手術室3",category:"医療機器",majorCategory:"治療機器",middleCategory:"麻酔器",item:"麻酔器",manufacturer:"GEヘルスケア",model:"Aisys CS2",serialNo:"GE-2022-00789",quantity:1,inspectionDate:"2025-10-10"},{id:"ME4",meNo:"ME-2023-001",assetNo:"",department:"手術部門",section:"中央手術室",roomName:"手術室4",category:"医療機器",majorCategory:"治療機器",middleCategory:"除細動器",item:"AED",manufacturer:"フィリップス",model:"HeartStart FRx",serialNo:"PH-2023-00111",quantity:1,inspectionDate:"2025-09-05"},{id:"ME5",meNo:"ME-2023-002",assetNo:"10605421-000",department:"検査科",section:"臨床検査室",roomName:"検査室A",category:"医療機器",majorCategory:"検査機器",middleCategory:"血液検査",item:"自動血球計数器",manufacturer:"シスメックス",model:"XN-3100",serialNo:"SYS-2023-00222",quantity:1,inspectionDate:"2025-08-20"},{id:"ME6",meNo:"ME-2023-003",assetNo:"",department:"検査科",section:"微生物検査室",roomName:"検査室C",category:"医療機器",majorCategory:"検査機器",middleCategory:"微生物検査",item:"培養装置",manufacturer:"サーモフィッシャー",model:"Thermo Scientific 3110",serialNo:"TF-2023-00333",quantity:1,inspectionDate:"2025-07-15"},{id:"ME7",meNo:"ME-2023-004",assetNo:"",department:"放射線科",section:"X線撮影室",roomName:"一般撮影室",category:"医療機器",majorCategory:"画像診断装置",middleCategory:"内視鏡",item:"特殊内視鏡",manufacturer:"オリンパスメディカル",model:"BF-ABC-123",serialNo:"OLY-2023-00444",quantity:1,inspectionDate:"2025-06-10"},{id:"ME8",meNo:"ME-2022-004",assetNo:"10605792-000",department:"手術部門",section:"中央手術室",roomName:"手術室5",category:"医療機器",majorCategory:"治療機器",middleCategory:"モニター",item:"生体情報モニター",manufacturer:"フクダ電子",model:"DS-7100",serialNo:"FD-2022-00555",quantity:1,inspectionDate:"2025-05-25"}],"surveyDataSample",0,[{id:"1",qrCode:"22-00474",assetNo:"10605379-000",department:"手術部門",section:"中央手術室",roomName:"手術室1",category:"医療機器",majorCategory:"治療機器",middleCategory:"滅菌器",item:"燻蒸滅菌装置",manufacturer:"VENLE GO",model:"CEパルサマドライ",quantity:1,acquisitionDate:"2022-04-15"},{id:"2",qrCode:"22-00812",assetNo:"10605421-000",department:"検査科",section:"臨床検査室",roomName:"検査室A",category:"医療機器",majorCategory:"検査機器",middleCategory:"血液検査",item:"自動血球計数器",manufacturer:"シスメックス",model:"XN-3000",quantity:1,acquisitionDate:"2023-01-20"},{id:"3",qrCode:"23-00156",assetNo:"",department:"放射線科",section:"X線撮影室",roomName:"一般撮影室",category:"医療機器",majorCategory:"画像診断装置",middleCategory:"内視鏡",item:"特殊内視鏡 BF-TYPE ABC",manufacturer:"オリンパスメディカル",model:"BF-ABC-123-XYZ",quantity:1,acquisitionDate:""},{id:"4",qrCode:"22-00923",assetNo:"10605502-000",department:"手術部門",section:"中央手術室",roomName:"手術室2",category:"医療機器",majorCategory:"治療機器",middleCategory:"人工呼吸器",item:"人工呼吸器",manufacturer:"ドレーゲル",model:"Savina 300",quantity:1,acquisitionDate:"2023-02-10"},{id:"5",qrCode:"22-00924",assetNo:"10605502-000",department:"手術部門",section:"中央手術室",roomName:"手術室2",category:"医療機器",majorCategory:"治療機器",middleCategory:"人工呼吸器",item:"人工呼吸器",manufacturer:"ドレーゲル",model:"Savina 300",quantity:1,acquisitionDate:"2023-02-10"},{id:"6",qrCode:"23-00234",assetNo:"10605603-000",department:"放射線科",section:"MRI室",roomName:"MRI検査室",category:"医療機器",majorCategory:"画像診断装置",middleCategory:"MRI",item:"MRI装置",manufacturer:"シーメンスヘルスケア",model:"MAGNETOM Vida 3T",quantity:1,acquisitionDate:"2023-03-15"},{id:"7",qrCode:"23-00345",assetNo:"10605704-000",department:"検査科",section:"生化学検査室",roomName:"検査室B",category:"医療機器",majorCategory:"検査機器",middleCategory:"生化学分析",item:"自動分析装置",manufacturer:"日立ハイテク",model:"7600-120",quantity:1,acquisitionDate:"2023-04-20"},{id:"8",qrCode:"22-00511",assetNo:"10605205-000",department:"手術部門",section:"中央手術室",roomName:"手術室3",category:"医療機器",majorCategory:"治療機器",middleCategory:"麻酔器",item:"麻酔器",manufacturer:"GEヘルスケア",model:"Aisys CS2",quantity:1,acquisitionDate:"2022-06-10"},{id:"9",qrCode:"23-00456",assetNo:"",department:"検査科",section:"微生物検査室",roomName:"検査室C",category:"医療機器",majorCategory:"検査機器",middleCategory:"微生物検査",item:"培養装置",manufacturer:"サーモフィッシャー",model:"Thermo Scientific 3110",quantity:1,acquisitionDate:"2023-05-15"},{id:"10",qrCode:"22-00789",assetNo:"10605306-000",department:"放射線科",section:"CT室",roomName:"CT検査室",category:"医療機器",majorCategory:"画像診断装置",middleCategory:"CT",item:"CT装置",manufacturer:"GEヘルスケア",model:"Revolution CT",quantity:1,acquisitionDate:"2023-05-20"},{id:"11",qrCode:"23-00567",assetNo:"10605807-000",department:"手術部門",section:"中央手術室",roomName:"手術室4",category:"医療機器",majorCategory:"治療機器",middleCategory:"電気メス",item:"電気メス",manufacturer:"オリンパス",model:"ESG-400",quantity:1,acquisitionDate:"2023-06-01"}]])},71891,e=>{"use strict";var t=e.i(43476),o=e.i(71645),a=e.i(77656),r=e.i(41336);function i(){let[e,i]=(0,o.useState)(a.ledgerDataSample),[d,n]=(0,o.useState)(new Set),[s,l]=(0,o.useState)("none"),[c,m]=(0,o.useState)({category:"",department:"",section:"",majorCategory:"",middleCategory:"",matchingStatus:"全て",keyword:""});(0,o.useEffect)(()=>{let e=localStorage.getItem("dataMatchingFilters");if(e)try{m(JSON.parse(e))}catch(e){console.error("Failed to parse filters from localStorage",e)}let t=localStorage.getItem("dataMatchingMatchFilter");t&&["none","category","assetNo","item","manufacturer"].includes(t)&&l(t)},[]),(0,o.useEffect)(()=>{localStorage.setItem("dataMatchingFilters",JSON.stringify(c)),window.opener&&window.opener.postMessage({type:"FILTER_UPDATE",filters:c},"*"),window.postMessage({type:"FILTER_UPDATE",filters:c},"*")},[c]),(0,o.useEffect)(()=>{localStorage.setItem("dataMatchingMatchFilter",s),window.opener&&window.opener.postMessage({type:"MATCH_FILTER_UPDATE",matchFilter:s},"*")},[s]),(0,o.useEffect)(()=>{window.opener&&window.opener.postMessage({type:"LEDGER_SELECTION",selectedIds:Array.from(d)},"*")},[d]),(0,o.useEffect)(()=>{let e=e=>{if("FILTER_UPDATE"===e.data.type&&e.source!==window&&m(e.data.filters),"MATCH_FILTER_UPDATE"===e.data.type&&e.source!==window&&l(e.data.matchFilter),"MATCH_COMPLETE"===e.data.type){let{ledgerIds:t,matchingStatus:o}=e.data,a=new Date().toISOString();i(e=>e.map(e=>t.includes(e.id)?{...e,matchingStatus:o,matchedAt:a,matchedBy:"現在のユーザー"}:e)),n(new Set)}if("REVERT_MATCH"===e.data.type){let{ledgerIds:t}=e.data;i(e=>e.map(e=>t.includes(e.id)?{...e,matchingStatus:void 0,matchedSurveyId:void 0,matchedAt:void 0,matchedBy:void 0}:e))}};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[]);let p=(0,o.useMemo)(()=>e.filter(e=>!e.matchingStatus||"再確認"===e.matchingStatus),[e]),g=(0,o.useMemo)(()=>e.filter(e=>e.matchingStatus),[e]),x=(0,o.useMemo)(()=>[...r.FACILITY_CONSTANTS.divisions],[]),u=(0,o.useMemo)(()=>{if(!c.department)return[];let e=r.FACILITY_CONSTANTS.sectionsByDivision[c.department];return e?[...e]:[]},[c.department]),y=(0,o.useMemo)(()=>Array.from(new Set(e.map(e=>e.category))).filter(Boolean),[e]),f=(0,o.useMemo)(()=>Array.from(new Set(e.map(e=>e.majorCategory))).filter(Boolean),[e]),h=(0,o.useMemo)(()=>Array.from(new Set(e.map(e=>e.middleCategory))).filter(Boolean),[e]),C=(0,o.useMemo)(()=>{let e=p;if(c.department&&(e=e.filter(e=>e.department===c.department)),c.section&&(e=e.filter(e=>e.section===c.section)),c.category&&(e=e.filter(e=>e.category===c.category)),c.majorCategory&&(e=e.filter(e=>e.majorCategory===c.majorCategory)),c.middleCategory&&(e=e.filter(e=>e.middleCategory===c.middleCategory)),c.keyword){let t=c.keyword.toLowerCase();e=e.filter(e=>e.assetNo?.toLowerCase().includes(t)||e.item?.toLowerCase().includes(t)||e.manufacturer?.toLowerCase().includes(t)||e.model?.toLowerCase().includes(t))}return e},[p,c]),j=()=>{d.size===S.length?n(new Set):n(new Set(S.map(e=>e.id)))},S=(0,o.useMemo)(()=>{if("none"===s)return C;let e=new Set;return a.surveyDataSample.filter(e=>!e.matchingStatus).forEach(t=>{switch(s){case"category":t.category&&e.add(t.category);break;case"assetNo":t.assetNo&&e.add(t.assetNo);break;case"item":t.item&&e.add(t.item);break;case"manufacturer":t.manufacturer&&e.add(t.manufacturer)}}),C.filter(t=>{switch(s){case"category":return t.category&&e.has(t.category);case"assetNo":return t.assetNo&&e.has(t.assetNo);case"item":return t.item&&e.has(t.item);case"manufacturer":return t.manufacturer&&e.has(t.manufacturer);default:return!0}})},[C,s]),b=e=>{s===e?l("none"):l(e)},N=e=>{if(!e)return"#757575";switch(e){case"完全一致":return"#4caf50";case"部分一致":return"#8bc34a";case"数量不一致":return"#ff9800";case"再確認":return"#2196f3";case"未確認":return"#f44336";case"未登録":return"#9c27b0";default:return"#999"}},w={total:e.length,対応中:p.length,突合済:g.length,再確認:e.filter(e=>"再確認"===e.matchingStatus).length,未確認:e.filter(e=>"未確認"===e.matchingStatus).length};return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",minHeight:"100vh",backgroundColor:"#f5f5f5"},children:[(0,t.jsx)("header",{style:{backgroundColor:"#ffffff",borderBottom:"1px solid #e0e0e0",padding:"16px 24px"},children:(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",maxWidth:"1600px",margin:"0 auto"},children:[(0,t.jsx)("h1",{style:{fontSize:"24px",fontWeight:"bold",color:"#2c3e50",margin:0},children:"固定資産台帳（対応中）"}),(0,t.jsx)("div",{style:{fontSize:"14px",color:"#5a6c7d"},children:"※フィルターは現有品調査リストと連動"})]})}),(0,t.jsx)("div",{style:{backgroundColor:"#ffffff",borderBottom:"1px solid #e0e0e0",padding:"12px 24px"},children:(0,t.jsxs)("div",{style:{maxWidth:"1600px",margin:"0 auto",display:"flex",alignItems:"center",gap:"16px",flexWrap:"wrap"},children:[(0,t.jsx)("span",{style:{fontSize:"14px",color:"#5a6c7d",fontWeight:"600"},children:"資産台帳:"}),(0,t.jsxs)("span",{style:{fontSize:"14px",color:"#2c3e50"},children:["全",w.total,"件 |",(0,t.jsxs)("span",{style:{color:"#757575",fontWeight:"600",marginLeft:"4px"},children:["対応中 ",w.対応中]})," |",(0,t.jsxs)("span",{style:{color:"#4caf50",fontWeight:"600",marginLeft:"4px"},children:["突合済 ",w.突合済]}),w.再確認>0&&(0,t.jsxs)("span",{style:{color:N("再確認"),fontWeight:"600",marginLeft:"4px"},children:["| 再確認 ",w.再確認]})]}),0===w.対応中&&(0,t.jsx)("span",{style:{padding:"4px 12px",backgroundColor:"#e8f5e9",borderRadius:"4px",color:"#2e7d32",fontWeight:"600",fontSize:"13px"},children:"突合完了！"})]})}),(0,t.jsx)("div",{style:{backgroundColor:"#e8f4fd",borderBottom:"1px solid #b8daff",padding:"12px 24px"},children:(0,t.jsxs)("div",{style:{maxWidth:"1600px",margin:"0 auto",display:"flex",alignItems:"center",gap:"12px",flexWrap:"wrap"},children:[(0,t.jsx)("span",{style:{fontSize:"14px",color:"#1976d2",fontWeight:"600"},children:"一致検索（現有品との照合）:"}),(0,t.jsx)("button",{onClick:()=>b("category"),style:{padding:"6px 16px",backgroundColor:"category"===s?"#1976d2":"#ffffff",color:"category"===s?"#ffffff":"#1976d2",border:"1px solid #1976d2",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600",transition:"all 0.2s"},children:"category"}),(0,t.jsx)("button",{onClick:()=>b("assetNo"),style:{padding:"6px 16px",backgroundColor:"assetNo"===s?"#1976d2":"#ffffff",color:"assetNo"===s?"#ffffff":"#1976d2",border:"1px solid #1976d2",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600",transition:"all 0.2s"},children:"資産番号一致"}),(0,t.jsx)("button",{onClick:()=>b("item"),style:{padding:"6px 16px",backgroundColor:"item"===s?"#1976d2":"#ffffff",color:"item"===s?"#ffffff":"#1976d2",border:"1px solid #1976d2",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600",transition:"all 0.2s"},children:"個体管理品目一致"}),(0,t.jsx)("button",{onClick:()=>b("manufacturer"),style:{padding:"6px 16px",backgroundColor:"manufacturer"===s?"#1976d2":"#ffffff",color:"manufacturer"===s?"#ffffff":"#1976d2",border:"1px solid #1976d2",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"600",transition:"all 0.2s"},children:"メーカー一致"}),"none"!==s&&(0,t.jsx)("button",{onClick:()=>{l("none")},style:{padding:"6px 12px",backgroundColor:"#f5f5f5",color:"#666",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"13px",marginLeft:"8px"},children:"一致検索解除"}),"none"!==s&&(0,t.jsxs)("span",{style:{fontSize:"13px",color:"#1976d2",marginLeft:"8px"},children:["※ 未突合の現有品と","category"===s?"カテゴリ":"assetNo"===s?"資産番号":"item"===s?"品目":"メーカー","が一致するレコードを表示中"]})]})}),(0,t.jsx)("div",{style:{backgroundColor:"#ffffff",borderBottom:"1px solid #e0e0e0",padding:"16px 24px"},children:(0,t.jsx)("div",{style:{maxWidth:"1600px",margin:"0 auto"},children:(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"12px",marginBottom:"12px"},children:[(0,t.jsxs)("select",{value:c.department,onChange:e=>m({...c,department:e.target.value,section:""}),style:{padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},children:[(0,t.jsx)("option",{value:"",children:"部門: 全て"}),x.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{value:c.section,onChange:e=>m({...c,section:e.target.value}),disabled:!c.department,style:{padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px",backgroundColor:c.department?"white":"#f5f5f5"},children:[(0,t.jsx)("option",{value:"",children:"部署: 全て"}),u.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{value:c.category,onChange:e=>m({...c,category:e.target.value}),style:{padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},children:[(0,t.jsx)("option",{value:"",children:"カテゴリ: 全て"}),y.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{value:c.majorCategory,onChange:e=>m({...c,majorCategory:e.target.value}),style:{padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},children:[(0,t.jsx)("option",{value:"",children:"大分類: 全て"}),f.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsxs)("select",{value:c.middleCategory,onChange:e=>m({...c,middleCategory:e.target.value}),style:{padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"},children:[(0,t.jsx)("option",{value:"",children:"中分類: 全て"}),h.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]}),(0,t.jsx)("input",{type:"text",placeholder:"キーワード検索...",value:c.keyword,onChange:e=>m({...c,keyword:e.target.value}),style:{padding:"8px",border:"1px solid #ccc",borderRadius:"4px",fontSize:"14px"}}),(0,t.jsx)("button",{onClick:()=>{m({category:"",department:"",section:"",majorCategory:"",middleCategory:"",matchingStatus:"全て",keyword:""})},style:{padding:"8px 16px",backgroundColor:"#f5f5f5",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"フィルター解除"})]})})}),(0,t.jsx)("div",{style:{flex:1,overflow:"auto",padding:"24px"},children:(0,t.jsxs)("div",{style:{maxWidth:"1600px",margin:"0 auto"},children:[(0,t.jsxs)("div",{style:{backgroundColor:"#ffffff",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",marginBottom:"16px",padding:"16px"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px",gap:"12px"},children:[(0,t.jsx)("h2",{style:{fontSize:"18px",fontWeight:"600",color:"#2c3e50",margin:0},children:"固定資産台帳リスト（対応中）"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[(0,t.jsxs)("span",{style:{fontSize:"14px",color:"#5a6c7d"},children:["選択: ",d.size,"件"]}),(0,t.jsx)("button",{onClick:j,style:{padding:"6px 12px",backgroundColor:"#f0f0f0",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:d.size===S.length&&S.length>0?"全解除":"全選択"}),(0,t.jsx)("button",{onClick:()=>{if(0===d.size)return void alert("「未確認」として確定するレコードを選択してください");if(!confirm(`選択した${d.size}件を「未確認」（現場に存在しない）として確定しますか？
確定後、リストから消えて個体管理リストに追加されます。`))return;let t=new Date().toISOString(),o=e.filter(e=>d.has(e.id));if(i(e.map(e=>d.has(e.id)?{...e,matchingStatus:"未確認",matchedAt:t,matchedBy:"現在のユーザー"}:e)),window.opener){let e=o.map(e=>({id:e.id,assetNo:e.assetNo,item:e.item,manufacturer:e.manufacturer,model:e.model,department:e.department,section:e.section,roomName:e.roomName,category:e.category,majorCategory:e.majorCategory,middleCategory:e.middleCategory,quantity:e.quantity,acquisitionDate:e.acquisitionDate}));window.opener.postMessage({type:"LEDGER_UNCONFIRMED",ledgerItems:e},"*")}n(new Set),alert(`${d.size}件を「未確認」として確定しました。
個体管理リストに追加されます。`)},disabled:0===d.size,style:{padding:"6px 16px",backgroundColor:d.size>0?"#f44336":"#cccccc",color:"white",border:"none",borderRadius:"4px",cursor:d.size>0?"pointer":"not-allowed",fontSize:"13px",fontWeight:"600"},children:"未確認として確定"})]})]}),(0,t.jsx)("div",{style:{marginBottom:"12px"},children:(0,t.jsxs)("span",{style:{fontSize:"14px",color:"#5a6c7d"},children:["表示: ",S.length,"件 / 対応中全体: ",p.length,"件","none"!==s&&(0,t.jsx)("span",{style:{color:"#1976d2",marginLeft:"8px"},children:"（一致検索適用中）"})]})}),(0,t.jsx)("div",{style:{overflow:"auto"},children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{backgroundColor:"#f5f5f5"},children:[(0,t.jsx)("th",{style:{padding:"12px 8px",borderBottom:"2px solid #e0e0e0",width:"50px"},children:(0,t.jsx)("input",{type:"checkbox",checked:d.size===S.length&&S.length>0,onChange:j,style:{cursor:"pointer",width:"16px",height:"16px"}})}),(0,t.jsx)("th",{style:{padding:"12px 8px",borderBottom:"2px solid #e0e0e0",whiteSpace:"nowrap"},children:"突合状況"}),(0,t.jsx)("th",{style:{padding:"12px 8px",borderBottom:"2px solid #e0e0e0",whiteSpace:"nowrap"},children:"資産番号"}),(0,t.jsx)("th",{style:{padding:"12px 8px",borderBottom:"2px solid #e0e0e0",whiteSpace:"nowrap"},children:"部門"}),(0,t.jsx)("th",{style:{padding:"12px 8px",borderBottom:"2px solid #e0e0e0",whiteSpace:"nowrap"},children:"部署"}),(0,t.jsx)("th",{style:{padding:"12px 8px",borderBottom:"2px solid #e0e0e0",whiteSpace:"nowrap"},children:"諸室名称"}),(0,t.jsx)("th",{style:{padding:"12px 8px",borderBottom:"2px solid #e0e0e0",whiteSpace:"nowrap"},children:"大分類"}),(0,t.jsx)("th",{style:{padding:"12px 8px",borderBottom:"2px solid #e0e0e0",whiteSpace:"nowrap"},children:"中分類"}),(0,t.jsx)("th",{style:{padding:"12px 8px",borderBottom:"2px solid #e0e0e0",whiteSpace:"nowrap"},children:"品目"}),(0,t.jsx)("th",{style:{padding:"12px 8px",borderBottom:"2px solid #e0e0e0",whiteSpace:"nowrap"},children:"メーカー"}),(0,t.jsx)("th",{style:{padding:"12px 8px",borderBottom:"2px solid #e0e0e0",whiteSpace:"nowrap"},children:"型式"}),(0,t.jsx)("th",{style:{padding:"12px 8px",borderBottom:"2px solid #e0e0e0",whiteSpace:"nowrap"},children:"数量"}),(0,t.jsx)("th",{style:{padding:"12px 8px",borderBottom:"2px solid #e0e0e0",whiteSpace:"nowrap"},children:"取得年月日"})]})}),(0,t.jsxs)("tbody",{children:[S.map(e=>(0,t.jsxs)("tr",{style:{backgroundColor:d.has(e.id)?"#e3f2fd":"transparent"},children:[(0,t.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #e0e0e0",textAlign:"center"},children:(0,t.jsx)("input",{type:"checkbox",checked:d.has(e.id),onChange:()=>{var t;let o;return t=e.id,void((o=new Set(d)).has(t)?o.delete(t):o.add(t),n(o))},style:{cursor:"pointer",width:"16px",height:"16px"}})}),(0,t.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #e0e0e0"},children:e.matchingStatus?(0,t.jsx)("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:N(e.matchingStatus)+"20",color:N(e.matchingStatus),fontWeight:"600"},children:e.matchingStatus}):(0,t.jsx)("span",{style:{color:"#999",fontSize:"12px"},children:"ー"})}),(0,t.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #e0e0e0",whiteSpace:"nowrap"},children:e.assetNo}),(0,t.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #e0e0e0",whiteSpace:"nowrap"},children:e.department}),(0,t.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #e0e0e0",whiteSpace:"nowrap"},children:e.section}),(0,t.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #e0e0e0",whiteSpace:"nowrap"},children:e.roomName||"-"}),(0,t.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #e0e0e0",whiteSpace:"nowrap"},children:e.majorCategory}),(0,t.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #e0e0e0",whiteSpace:"nowrap"},children:e.middleCategory}),(0,t.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #e0e0e0",whiteSpace:"nowrap"},children:e.item}),(0,t.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #e0e0e0",whiteSpace:"nowrap"},children:e.manufacturer||"-"}),(0,t.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #e0e0e0",whiteSpace:"nowrap"},children:e.model||"-"}),(0,t.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #e0e0e0",textAlign:"center"},children:e.quantity}),(0,t.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #e0e0e0",whiteSpace:"nowrap"},children:e.acquisitionDate})]},e.id)),0===S.length&&(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:13,style:{padding:"24px",textAlign:"center",color:"#999"},children:0===p.length?"全ての台帳レコードの突合が完了しました":"該当するデータがありません"})})]})]})})]}),(0,t.jsxs)("div",{style:{backgroundColor:"#e3f2fd",borderRadius:"8px",padding:"16px",fontSize:"14px",color:"#1976d2"},children:[(0,t.jsx)("h3",{style:{margin:"0 0 12px 0",fontSize:"16px"},children:"使用方法"}),(0,t.jsxs)("ul",{style:{margin:0,paddingLeft:"20px"},children:[(0,t.jsx)("li",{children:"このリストには未突合の資産台帳レコードのみ表示されます"}),(0,t.jsx)("li",{children:"現有品調査リストと見比べて、対応するレコードをチェックしてください"}),(0,t.jsx)("li",{children:"現有品調査リスト側で「台帳と突合実行」をクリックすると突合が完了します"}),(0,t.jsx)("li",{children:"現場に存在しない資産は「未確認として確定」をクリックしてください"}),(0,t.jsx)("li",{children:"突合が完了したレコードはリストから消えます"})]})]})]})})]})}e.s(["default",()=>i])}]);