(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,53980,e=>{"use strict";var t=e.i(43476),d=e.i(71645),n=e.i(57616);e.i(17363);var r=e.i(50140),i=e.i(11276);let l=[{id:1,qrLabel:"QR-001",meManagementNo:"ME-2024-001",itemName:"äººå·¥å‘¼å¸å™¨",maker:"ãƒ•ã‚¯ãƒ€é›»å­",model:"FV-500",category:"MEæ©Ÿå™¨",majorCategory:"ç”Ÿå‘½ç¶­æŒç®¡ç†è£…ç½®",middleCategory:"äººå·¥å‘¼å¸å™¨",status:"è²¸å‡ºä¸­",installedDepartment:"ICU",lendingDate:"2026-01-15",expectedReturnDate:"2026-02-15",overduedays:0,inspectionMarginDays:45,isFixedPlacement:!1,freeComment:""},{id:2,qrLabel:"QR-002",meManagementNo:"ME-2024-002",itemName:"è¼¸æ¶²ãƒãƒ³ãƒ—",maker:"ãƒ†ãƒ«ãƒ¢",model:"TE-171",category:"MEæ©Ÿå™¨",majorCategory:"è¼¸æ¶²ãƒ»è¼¸è¡€ç”¨å™¨å…·",middleCategory:"è¼¸æ¶²ãƒãƒ³ãƒ—",status:"è²¸å‡ºä¸­",installedDepartment:"3éšŽæ±ç—…æ£Ÿ",lendingDate:"2026-01-20",expectedReturnDate:"2026-02-01",overduedays:7,inspectionMarginDays:30,isFixedPlacement:!0,freeComment:"é•·æœŸè²¸å‡ºç”³è«‹ä¸­"},{id:3,qrLabel:"QR-003",meManagementNo:"ME-2024-003",itemName:"ã‚·ãƒªãƒ³ã‚¸ãƒãƒ³ãƒ—",maker:"ãƒ†ãƒ«ãƒ¢",model:"TE-SS700",category:"MEæ©Ÿå™¨",majorCategory:"è¼¸æ¶²ãƒ»è¼¸è¡€ç”¨å™¨å…·",middleCategory:"ã‚·ãƒªãƒ³ã‚¸ãƒãƒ³ãƒ—",status:"è²¸å‡ºå¯",installedDepartment:"MEå®¤",lendingDate:null,expectedReturnDate:null,overduedays:0,inspectionMarginDays:60,isFixedPlacement:!1,freeComment:""},{id:4,qrLabel:"QR-004",meManagementNo:"ME-2024-004",itemName:"é™¤ç´°å‹•å™¨",maker:"æ—¥æœ¬å…‰é›»",model:"TEC-5600",category:"MEæ©Ÿå™¨",majorCategory:"ç”Ÿå‘½ç¶­æŒç®¡ç†è£…ç½®",middleCategory:"é™¤ç´°å‹•å™¨",status:"ç‚¹æ¤œä¸­",installedDepartment:"å¤–æ¥",lendingDate:null,expectedReturnDate:null,overduedays:0,inspectionMarginDays:15,isFixedPlacement:!0,freeComment:"å®šæœŸç‚¹æ¤œä¸­"},{id:5,qrLabel:"QR-005",meManagementNo:"ME-2024-005",itemName:"å¿ƒé›»è¨ˆ",maker:"ãƒ•ã‚¯ãƒ€é›»å­",model:"FX-8000",category:"MEæ©Ÿå™¨",majorCategory:"ç”Ÿä½“æƒ…å ±ãƒ¢ãƒ‹ã‚¿",middleCategory:"å¿ƒé›»è¨ˆ",status:"è²¸å‡ºä¸­",installedDepartment:"2éšŽè¥¿ç—…æ£Ÿ",lendingDate:"2026-01-10",expectedReturnDate:"2026-01-25",overduedays:14,inspectionMarginDays:20,isFixedPlacement:!1,freeComment:""}],o=[{id:"H001",deviceId:1,qrLabel:"QR-001",itemName:"äººå·¥å‘¼å¸å™¨",maker:"ãƒ•ã‚¯ãƒ€é›»å­",model:"FV-500",lendingDate:"2026-01-15",returnDate:null,lendingDepartment:"ICU",staffName:"å±±ç”°å¤ªéƒŽ",status:"è²¸å‡ºä¸­"},{id:"H002",deviceId:1,qrLabel:"QR-001",itemName:"äººå·¥å‘¼å¸å™¨",maker:"ãƒ•ã‚¯ãƒ€é›»å­",model:"FV-500",lendingDate:"2025-12-01",returnDate:"2025-12-20",lendingDepartment:"3éšŽæ±ç—…æ£Ÿ",staffName:"ä½è—¤èŠ±å­",status:"è¿”å´æ¸ˆ"},{id:"H003",deviceId:1,qrLabel:"QR-001",itemName:"äººå·¥å‘¼å¸å™¨",maker:"ãƒ•ã‚¯ãƒ€é›»å­",model:"FV-500",lendingDate:"2025-10-15",returnDate:"2025-11-10",lendingDepartment:"ICU",staffName:"ç”°ä¸­ä¸€éƒŽ",status:"è¿”å´æ¸ˆ"},{id:"H004",deviceId:2,qrLabel:"QR-002",itemName:"è¼¸æ¶²ãƒãƒ³ãƒ—",maker:"ãƒ†ãƒ«ãƒ¢",model:"TE-171",lendingDate:"2026-01-20",returnDate:null,lendingDepartment:"3éšŽæ±ç—…æ£Ÿ",staffName:"éˆ´æœ¨æ¬¡éƒŽ",status:"è²¸å‡ºä¸­"},{id:"H005",deviceId:2,qrLabel:"QR-002",itemName:"è¼¸æ¶²ãƒãƒ³ãƒ—",maker:"ãƒ†ãƒ«ãƒ¢",model:"TE-171",lendingDate:"2025-12-10",returnDate:"2026-01-05",lendingDepartment:"2éšŽè¥¿ç—…æ£Ÿ",staffName:"é«˜æ©‹ä¸‰éƒŽ",status:"è¿”å´æ¸ˆ"},{id:"H006",deviceId:3,qrLabel:"QR-003",itemName:"ã‚·ãƒªãƒ³ã‚¸ãƒãƒ³ãƒ—",maker:"ãƒ†ãƒ«ãƒ¢",model:"TE-SS700",lendingDate:"2025-11-01",returnDate:"2025-11-20",lendingDepartment:"ICU",staffName:"ä¼Šè—¤å››éƒŽ",status:"è¿”å´æ¸ˆ"},{id:"H007",deviceId:5,qrLabel:"QR-005",itemName:"å¿ƒé›»è¨ˆ",maker:"ãƒ•ã‚¯ãƒ€é›»å­",model:"FX-8000",lendingDate:"2026-01-10",returnDate:null,lendingDepartment:"2éšŽè¥¿ç—…æ£Ÿ",staffName:"æ¸¡è¾ºäº”éƒŽ",status:"è²¸å‡ºä¸­"},{id:"H008",deviceId:5,qrLabel:"QR-005",itemName:"å¿ƒé›»è¨ˆ",maker:"ãƒ•ã‚¯ãƒ€é›»å­",model:"FX-8000",lendingDate:"2025-12-15",returnDate:"2026-01-05",lendingDepartment:"å¤–æ¥",staffName:"ä¸­æ‘å…­éƒŽ",status:"è¿”å´æ¸ˆ"},{id:"H009",deviceId:3,qrLabel:"QR-003",itemName:"ã‚·ãƒªãƒ³ã‚¸ãƒãƒ³ãƒ—",maker:"ãƒ†ãƒ«ãƒ¢",model:"TE-SS700",lendingDate:"2026-01-25",returnDate:"2026-02-05",lendingDepartment:"æ‰‹è¡“å®¤",staffName:"å°æž—ä¸ƒéƒŽ",status:"è¿”å´æ¸ˆ"},{id:"H010",deviceId:4,qrLabel:"QR-004",itemName:"é™¤ç´°å‹•å™¨",maker:"æ—¥æœ¬å…‰é›»",model:"TEC-5600",lendingDate:"2025-11-20",returnDate:"2025-12-10",lendingDepartment:"æ•‘æ€¥å¤–æ¥",staffName:"åŠ è—¤å…«éƒŽ",status:"è¿”å´æ¸ˆ"}],a=()=>{let{assets:e}=(0,r.useAssetStore)(),[n,a]=(0,d.useState)(l),[s,p]=(0,d.useState)({category:"",majorCategory:"",middleCategory:"",itemName:"",maker:"",model:"",status:"",installedDepartment:"",overdueOnly:!1,fixedPlacementOnly:!1}),[x,c]=(0,d.useState)(!1),[g,h]=(0,d.useState)(!1),[u,m]=(0,d.useState)({building:"",floor:"",department:"",section:"",category:"",largeClass:"",mediumClass:""}),[f,y]=(0,d.useState)([]),[b,j]=(0,d.useState)(new Set),[v,S]=(0,d.useState)(!1),[C,k]=(0,d.useState)([]),[w,D]=(0,d.useState)(90),[z,R]=(0,d.useState)(!1),[M,N]=(0,d.useState)("single"),[I,W]=(0,d.useState)(null),[A,B]=(0,d.useState)(90),[L,T]=(0,d.useState)(!1),[q,E]=(0,d.useState)(null),[F,P]=(0,d.useState)(""),[Q,O]=(0,d.useState)(!1),[H,V]=(0,d.useState)(null),[$,U]=(0,d.useState)(""),[_,X]=(0,d.useState)(!1),[K,Y]=(0,d.useState)(!1),[G,J]=(0,d.useState)(null),[Z,ee]=(0,d.useState)(""),[et,ed]=(0,d.useState)(new Date().toISOString().slice(0,7)),[en,er]=(0,d.useState)(new Date(new Date().getFullYear(),new Date().getMonth()-2,1).toISOString().split("T")[0]),[ei,el]=(0,d.useState)(new Date().toISOString().split("T")[0]),[eo]=(0,d.useState)(o),ea=(0,d.useMemo)(()=>Array.from(new Set(e.map(e=>e.building))).filter(Boolean),[e]),es=(0,d.useMemo)(()=>{let t=e;return u.building&&(t=t.filter(e=>e.building===u.building)),Array.from(new Set(t.map(e=>e.floor))).filter(Boolean)},[e,u.building]),ep=(0,d.useMemo)(()=>{let t=e;return u.building&&(t=t.filter(e=>e.building===u.building)),u.floor&&(t=t.filter(e=>e.floor===u.floor)),Array.from(new Set(t.map(e=>e.department))).filter(Boolean)},[e,u.building,u.floor]),ex=(0,d.useMemo)(()=>{let t=e;return u.building&&(t=t.filter(e=>e.building===u.building)),u.floor&&(t=t.filter(e=>e.floor===u.floor)),u.department&&(t=t.filter(e=>e.department===u.department)),Array.from(new Set(t.map(e=>e.section))).filter(Boolean)},[e,u.building,u.floor,u.department]),ec=(0,d.useMemo)(()=>Array.from(new Set(e.map(e=>e.category))).filter(Boolean),[e]),eg=(0,d.useMemo)(()=>{let t=e;return u.category&&(t=t.filter(e=>e.category===u.category)),Array.from(new Set(t.map(e=>e.largeClass))).filter(Boolean)},[e,u.category]),eh=(0,d.useMemo)(()=>{let t=e;return u.category&&(t=t.filter(e=>e.category===u.category)),u.largeClass&&(t=t.filter(e=>e.largeClass===u.largeClass)),Array.from(new Set(t.map(e=>e.mediumClass))).filter(Boolean)},[e,u.category,u.largeClass]),eu=n.filter(e=>(!s.category||e.category===s.category)&&(!s.majorCategory||e.majorCategory===s.majorCategory)&&(!s.middleCategory||e.middleCategory===s.middleCategory)&&(!s.itemName||!!e.itemName.includes(s.itemName))&&(!s.maker||e.maker===s.maker)&&(!s.model||!!e.model.includes(s.model))&&(!s.status||e.status===s.status)&&(!s.installedDepartment||e.installedDepartment===s.installedDepartment)&&(!s.overdueOnly||!(e.overduedays<=0))&&(!s.fixedPlacementOnly||!!e.isFixedPlacement)&&!0),em=[...new Set(n.map(e=>e.category))],ef=[...new Set(n.map(e=>e.majorCategory))],ey=[...new Set(n.map(e=>e.middleCategory))],eb=[...new Set(n.map(e=>e.maker))],ej=[...new Set(n.map(e=>e.installedDepartment))],ev=(0,d.useMemo)(()=>new Set(n.map(e=>e.qrLabel)),[n]),eS=e=>{let t=new Set(b);t.has(e)?t.delete(e):t.add(e),j(t)},eC=e=>{q&&(a(t=>t.map(t=>t.id===q.id?{...t,isFixedPlacement:e,installedDepartment:e?F:t.installedDepartment,expectedReturnDate:e?null:t.expectedReturnDate}:t)),T(!1),E(null))},ek=e=>{J(e),X(!1),Y(!0),ee("")},ew=(e,t,d)=>{let n=new Blob(["\uFEFF"+[t.join(","),...d.map(e=>e.map(e=>`"${e}"`).join(","))].join("\n")],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)};return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,t.jsxs)("div",{style:{background:"#f8f9fa",padding:"12px 16px",borderBottom:"1px solid #ddd",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{fontSize:"14px",color:"#333"},children:["ç™»éŒ²æ¸ˆã¿æ©Ÿå™¨: ",(0,t.jsxs)("strong",{children:[n.length,"ä»¶"]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[(0,t.jsxs)("div",{style:{position:"relative"},children:[(0,t.jsxs)("button",{onClick:()=>X(!_),style:{padding:"8px 16px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsx)("span",{style:{fontSize:"14px"},children:"ðŸ“Š"}),"ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ",(0,t.jsx)("span",{style:{fontSize:"10px",marginLeft:"4px"},children:"â–¼"})]}),_&&(0,t.jsxs)("div",{style:{position:"absolute",top:"100%",right:0,marginTop:"4px",backgroundColor:"white",border:"1px solid #ddd",borderRadius:"6px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",minWidth:"220px",zIndex:100},children:[(0,t.jsx)("button",{onClick:()=>ek("device-history"),style:{display:"block",width:"100%",padding:"12px 16px",textAlign:"left",border:"none",background:"none",cursor:"pointer",fontSize:"13px",color:"#333",borderBottom:"1px solid #eee"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f5f5f5",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:"â‘  æ©Ÿå™¨å˜ä½“ã®è²¸å‡ºå±¥æ­´"}),(0,t.jsx)("button",{onClick:()=>ek("monthly-summary"),style:{display:"block",width:"100%",padding:"12px 16px",textAlign:"left",border:"none",background:"none",cursor:"pointer",fontSize:"13px",color:"#333",borderBottom:"1px solid #eee"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f5f5f5",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:"â‘¡ æœˆæ¬¡è²¸å‡ºå®Ÿç¸¾ä¸€è¦§"}),(0,t.jsx)("button",{onClick:()=>ek("utilization-rate"),style:{display:"block",width:"100%",padding:"12px 16px",textAlign:"left",border:"none",background:"none",cursor:"pointer",fontSize:"13px",color:"#333",borderBottom:"1px solid #eee"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f5f5f5",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:"â‘¢ æ©Ÿå™¨åˆ¥ç¨¼åƒçŽ‡è¡¨"}),(0,t.jsx)("button",{onClick:()=>ek("ward-summary"),style:{display:"block",width:"100%",padding:"12px 16px",textAlign:"left",border:"none",background:"none",cursor:"pointer",fontSize:"13px",color:"#333",borderBottom:"1px solid #eee"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f5f5f5",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:"â‘£ ç—…æ£Ÿåˆ¥è²¸å‡ºå°æ•°é›†è¨ˆ"}),(0,t.jsx)("button",{onClick:()=>ek("overdue-list"),style:{display:"block",width:"100%",padding:"12px 16px",textAlign:"left",border:"none",background:"none",cursor:"pointer",fontSize:"13px",color:"#333"},onMouseEnter:e=>e.currentTarget.style.backgroundColor="#f5f5f5",onMouseLeave:e=>e.currentTarget.style.backgroundColor="transparent",children:"â‘¤ é…å»¶æ©Ÿå™¨ä¸€è¦§"})]})]}),(0,t.jsxs)("button",{onClick:()=>{c(!0),S(!1),y([]),j(new Set)},style:{padding:"8px 16px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"bold",display:"flex",alignItems:"center",gap:"6px"},children:[(0,t.jsx)("span",{style:{fontSize:"16px"},children:"+"}),"è²¸å‡ºæ©Ÿå™¨ã‚’è¿½åŠ "]})]})]}),(0,t.jsxs)("div",{style:{background:"white",padding:"12px 16px",borderBottom:"1px solid #ddd",display:"flex",gap:"16px",alignItems:"center",flexWrap:"wrap"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("label",{style:{fontSize:"12px",color:"#555"},children:"ã‚«ãƒ†ã‚´ãƒª"}),(0,t.jsxs)("select",{value:s.category,onChange:e=>p(t=>({...t,category:e.target.value})),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid #ddd",borderRadius:"3px"},children:[(0,t.jsx)("option",{value:"",children:"ã™ã¹ã¦"}),em.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("label",{style:{fontSize:"12px",color:"#555"},children:"å¤§åˆ†é¡ž"}),(0,t.jsxs)("select",{value:s.majorCategory,onChange:e=>p(t=>({...t,majorCategory:e.target.value})),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid #ddd",borderRadius:"3px"},children:[(0,t.jsx)("option",{value:"",children:"ã™ã¹ã¦"}),ef.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("label",{style:{fontSize:"12px",color:"#555"},children:"ä¸­åˆ†é¡ž"}),(0,t.jsxs)("select",{value:s.middleCategory,onChange:e=>p(t=>({...t,middleCategory:e.target.value})),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid #ddd",borderRadius:"3px"},children:[(0,t.jsx)("option",{value:"",children:"ã™ã¹ã¦"}),ey.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("label",{style:{fontSize:"12px",color:"#555"},children:"å“ç›®"}),(0,t.jsx)("input",{type:"text",value:s.itemName,onChange:e=>p(t=>({...t,itemName:e.target.value})),placeholder:"å“ç›®å",style:{padding:"4px 8px",fontSize:"12px",border:"1px solid #ddd",borderRadius:"3px",width:"120px"}})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("label",{style:{fontSize:"12px",color:"#555"},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼"}),(0,t.jsxs)("select",{value:s.maker,onChange:e=>p(t=>({...t,maker:e.target.value})),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid #ddd",borderRadius:"3px"},children:[(0,t.jsx)("option",{value:"",children:"ã™ã¹ã¦"}),eb.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("label",{style:{fontSize:"12px",color:"#555"},children:"åž‹å¼"}),(0,t.jsx)("input",{type:"text",value:s.model,onChange:e=>p(t=>({...t,model:e.target.value})),placeholder:"åž‹å¼",style:{padding:"4px 8px",fontSize:"12px",border:"1px solid #ddd",borderRadius:"3px",width:"100px"}})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("label",{style:{fontSize:"12px",color:"#555"},children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"}),(0,t.jsxs)("select",{value:s.status,onChange:e=>p(t=>({...t,status:e.target.value})),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid #ddd",borderRadius:"3px"},children:[(0,t.jsx)("option",{value:"",children:"ã™ã¹ã¦"}),["è²¸å‡ºå¯","è²¸å‡ºä¸­","ç‚¹æ¤œä¸­","ä¿®ç†ä¸­","å»ƒæ£„äºˆå®š"].map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("label",{style:{fontSize:"12px",color:"#555"},children:"è¨­ç½®éƒ¨ç½²"}),(0,t.jsxs)("select",{value:s.installedDepartment,onChange:e=>p(t=>({...t,installedDepartment:e.target.value})),style:{padding:"4px 8px",fontSize:"12px",border:"1px solid #ddd",borderRadius:"3px"},children:[(0,t.jsx)("option",{value:"",children:"ã™ã¹ã¦"}),ej.map(e=>(0,t.jsx)("option",{value:e,children:e},e))]})]}),(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer",fontSize:"12px",color:"#555"},children:[(0,t.jsx)("input",{type:"checkbox",checked:s.overdueOnly,onChange:e=>p(t=>({...t,overdueOnly:e.target.checked}))}),"è¿”å´è¶…éŽæ©Ÿå™¨"]})}),(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer",fontSize:"12px",color:"#555"},children:[(0,t.jsx)("input",{type:"checkbox",checked:s.fixedPlacementOnly,onChange:e=>p(t=>({...t,fixedPlacementOnly:e.target.checked}))}),"å®šæ•°é…ç½®è¨­å®šæ©Ÿå™¨"]})})]}),(0,t.jsx)("div",{style:{flex:1,overflow:"auto"},children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[(0,t.jsxs)("thead",{children:[(0,t.jsxs)("tr",{style:{background:"#e8ecef"},children:[(0,t.jsx)("th",{colSpan:5,style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600},children:"å•†å“æƒ…å ±"}),(0,t.jsx)("th",{style:{borderLeft:"2px solid #ccc",width:"1px",border:"1px solid #ddd"}}),(0,t.jsx)("th",{colSpan:6,style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600},children:"è²¸å‡ºæ©Ÿå™¨çŠ¶æ³"}),(0,t.jsx)("th",{style:{borderLeft:"2px solid #ccc",width:"1px",border:"1px solid #ddd"}}),(0,t.jsx)("th",{colSpan:3,style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600},children:"æ“ä½œ"})]}),(0,t.jsxs)("tr",{style:{background:"#f8f9fa"},children:[(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"QRãƒ©ãƒ™ãƒ«"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"MEç®¡ç†No."}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"å“ç›®"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"åž‹å¼"}),(0,t.jsx)("th",{style:{borderLeft:"2px solid #ccc",border:"1px solid #ddd",width:"1px",padding:0}}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,whiteSpace:"nowrap"},children:"ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"è¨­ç½®éƒ¨ç½²"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,whiteSpace:"nowrap"},children:"è²¸å‡ºæ—¥"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,whiteSpace:"nowrap"},children:"è¿”å´äºˆå®šæ—¥"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,whiteSpace:"nowrap"},children:"è¿”å´è¶…éŽæ—¥æ•°"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,whiteSpace:"nowrap"},children:"ç‚¹æ¤œä½™è£•æ—¥æ•°"}),(0,t.jsx)("th",{style:{borderLeft:"2px solid #ccc",border:"1px solid #ddd",width:"1px",padding:0}}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",whiteSpace:"nowrap",color:"#c0392b"},children:"è¿”å´æœŸé–“è¨­å®š"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",whiteSpace:"nowrap",color:"#c0392b"},children:"å®šæ•°æ©Ÿå™¨è¨­å®š"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",whiteSpace:"nowrap",color:"#c0392b"},children:"ãƒ•ãƒªãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆ"})]})]}),(0,t.jsx)("tbody",{children:0===eu.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:16,style:{padding:"40px",textAlign:"center",color:"#999",border:"1px solid #ddd"},children:"ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“"})}):eu.map((e,d)=>(0,t.jsxs)("tr",{style:{background:d%2==0?"white":"#fafafa",...e.overduedays>0?{background:"#fff5f5"}:{}},children:[(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",fontFamily:"monospace"},children:e.qrLabel}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",fontFamily:"monospace"},children:e.meManagementNo}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.itemName}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.maker}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.model}),(0,t.jsx)("td",{style:{borderLeft:"2px solid #ccc",border:"1px solid #ddd",width:"1px",padding:0}}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:(0,t.jsx)("span",{style:(e=>{let t={padding:"2px 8px",borderRadius:"10px",fontSize:"11px",fontWeight:"bold"};switch(e){case"è²¸å‡ºå¯":return{...t,background:"#e8f5e9",color:"#2e7d32"};case"è²¸å‡ºä¸­":return{...t,background:"#e3f2fd",color:"#1565c0"};case"ç‚¹æ¤œä¸­":return{...t,background:"#fff3e0",color:"#ef6c00"};case"ä¿®ç†ä¸­":return{...t,background:"#fce4ec",color:"#c2185b"};case"å»ƒæ£„äºˆå®š":return{...t,background:"#f5f5f5",color:"#616161"};default:return t}})(e.status),children:e.status})}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.installedDepartment}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:e.lendingDate||"-"}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:e.expectedReturnDate||"-"}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:e.overduedays>0?"bold":"normal",color:e.overduedays>0?"#c0392b":"#333"},children:e.overduedays>0?`${e.overduedays}æ—¥`:"-"}),(0,t.jsxs)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",color:e.inspectionMarginDays<=14?"#e67e22":"#333"},children:[e.inspectionMarginDays,"æ—¥"]}),(0,t.jsx)("td",{style:{borderLeft:"2px solid #ccc",border:"1px solid #ddd",width:"1px",padding:0}}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[(0,t.jsx)("span",{style:{fontSize:"12px",fontWeight:500,fontVariantNumeric:"tabular-nums"},children:e.isFixedPlacement?"-":`${e.inspectionMarginDays}æ—¥`}),!e.isFixedPlacement&&(0,t.jsx)("button",{onClick:()=>{W(e),B(e.inspectionMarginDays),N("single"),R(!0)},style:{padding:"2px 8px",fontSize:"10px",background:"#fff",border:"1px solid #c0392b",color:"#c0392b",borderRadius:"3px",cursor:"pointer"},children:"å¤‰æ›´"})]})}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[e.isFixedPlacement?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{style:{fontSize:"10px",padding:"2px 6px",background:"#e8f5e9",color:"#2e7d32",borderRadius:"3px",fontWeight:500},children:"å®šæ•°é…ç½®"}),(0,t.jsx)("span",{style:{fontSize:"11px",color:"#666"},children:e.installedDepartment})]}):(0,t.jsx)("span",{style:{fontSize:"11px",color:"#999"},children:"æœªè¨­å®š"}),(0,t.jsx)("button",{onClick:()=>{E(e),P(e.isFixedPlacement?e.installedDepartment:""),T(!0)},style:{padding:"2px 8px",fontSize:"10px",background:"#fff",border:"1px solid #c0392b",color:"#c0392b",borderRadius:"3px",cursor:"pointer"},children:e.isFixedPlacement?"è§£é™¤":"è¨­å®š"})]})}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:[e.freeComment?(0,t.jsx)("span",{style:{fontSize:"11px",color:"#333",maxWidth:"150px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.freeComment}):(0,t.jsx)("span",{style:{fontSize:"11px",color:"#999"},children:"-"}),(0,t.jsx)("button",{onClick:()=>{V(e),U(e.freeComment),O(!0)},style:{padding:"2px 8px",fontSize:"10px",background:"#fff",border:"1px solid #c0392b",color:"#c0392b",borderRadius:"3px",cursor:"pointer",alignSelf:"flex-start"},children:e.freeComment?"ç·¨é›†":"å…¥åŠ›"})]})})]},e.id))})]})}),x&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"1000px",maxHeight:"85vh",display:"flex",flexDirection:"column",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[(0,t.jsxs)("div",{style:{padding:"16px 20px",borderBottom:"1px solid #ddd",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("h3",{style:{margin:0,fontSize:"18px",fontWeight:"bold"},children:"è²¸å‡ºæ©Ÿå™¨ã‚’è¿½åŠ "}),(0,t.jsx)("button",{onClick:()=>c(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",lineHeight:1},children:"Ã—"})]}),(0,t.jsxs)("div",{style:{padding:"16px 20px",borderBottom:"1px solid #eee",backgroundColor:"#f8f9fa"},children:[(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap",marginBottom:"12px",alignItems:"flex-end"},children:[(0,t.jsxs)("div",{style:{width:"120px"},children:[(0,t.jsx)("label",{style:{fontSize:"11px",color:"#555",display:"block",marginBottom:"4px"},children:"æ£Ÿ"}),(0,t.jsx)(i.SearchableSelect,{value:u.building,onChange:e=>{m(t=>({...t,building:e,floor:"",department:"",section:""}))},options:ea,placeholder:"ã™ã¹ã¦",dropdownMinWidth:"120px"})]}),(0,t.jsxs)("div",{style:{width:"100px"},children:[(0,t.jsx)("label",{style:{fontSize:"11px",color:"#555",display:"block",marginBottom:"4px"},children:"éšŽ"}),(0,t.jsx)(i.SearchableSelect,{value:u.floor,onChange:e=>{m(t=>({...t,floor:e,department:"",section:""}))},options:es,placeholder:"ã™ã¹ã¦",dropdownMinWidth:"100px"})]}),(0,t.jsxs)("div",{style:{width:"120px"},children:[(0,t.jsx)("label",{style:{fontSize:"11px",color:"#555",display:"block",marginBottom:"4px"},children:"éƒ¨é–€"}),(0,t.jsx)(i.SearchableSelect,{value:u.department,onChange:e=>{m(t=>({...t,department:e,section:""}))},options:ep,placeholder:"ã™ã¹ã¦",dropdownMinWidth:"140px"})]}),(0,t.jsxs)("div",{style:{width:"120px"},children:[(0,t.jsx)("label",{style:{fontSize:"11px",color:"#555",display:"block",marginBottom:"4px"},children:"éƒ¨ç½²"}),(0,t.jsx)(i.SearchableSelect,{value:u.section,onChange:e=>m(t=>({...t,section:e})),options:ex,placeholder:"ã™ã¹ã¦",dropdownMinWidth:"140px"})]}),(0,t.jsxs)("div",{style:{width:"120px"},children:[(0,t.jsx)("label",{style:{fontSize:"11px",color:"#555",display:"block",marginBottom:"4px"},children:"Category"}),(0,t.jsx)(i.SearchableSelect,{value:u.category,onChange:e=>{m(t=>({...t,category:e,largeClass:"",mediumClass:""}))},options:ec,placeholder:"ã™ã¹ã¦",dropdownMinWidth:"140px"})]}),(0,t.jsxs)("div",{style:{width:"140px"},children:[(0,t.jsx)("label",{style:{fontSize:"11px",color:"#555",display:"block",marginBottom:"4px"},children:"å¤§åˆ†é¡ž"}),(0,t.jsx)(i.SearchableSelect,{value:u.largeClass,onChange:e=>{m(t=>({...t,largeClass:e,mediumClass:""}))},options:eg,placeholder:"ã™ã¹ã¦",dropdownMinWidth:"180px"})]}),(0,t.jsxs)("div",{style:{width:"140px"},children:[(0,t.jsx)("label",{style:{fontSize:"11px",color:"#555",display:"block",marginBottom:"4px"},children:"ä¸­åˆ†é¡ž"}),(0,t.jsx)(i.SearchableSelect,{value:u.mediumClass,onChange:e=>m(t=>({...t,mediumClass:e})),options:eh,placeholder:"ã™ã¹ã¦",dropdownMinWidth:"180px"})]})]}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"flex-end"},children:(0,t.jsx)("button",{onClick:()=>{y(e.filter(e=>!ev.has(e.qrCode)&&(!u.building||!!e.building.includes(u.building))&&(!u.floor||!!e.floor.includes(u.floor))&&(!u.department||!!e.department.includes(u.department))&&(!u.section||!!e.section.includes(u.section))&&(!u.category||!!e.category.includes(u.category))&&(!u.largeClass||!!e.largeClass.includes(u.largeClass))&&(!u.mediumClass||!!e.mediumClass.includes(u.mediumClass))&&!0)),j(new Set),S(!0)},style:{padding:"8px 24px",backgroundColor:"#3498db",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"bold"},children:"æ¤œç´¢"})})]}),(0,t.jsx)("div",{style:{flex:1,overflow:"auto",padding:"0"},children:v?0===f.length?(0,t.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#999"},children:"è©²å½“ã™ã‚‹æœªç™»éŒ²ã®æ©Ÿå™¨ãŒã‚ã‚Šã¾ã›ã‚“"}):(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{background:"#f8f9fa"},children:[(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"40px"},children:(0,t.jsx)("input",{type:"checkbox",checked:b.size===f.length&&f.length>0,onChange:()=>{b.size===f.length?j(new Set):j(new Set(f.map(e=>e.qrCode)))}})}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"æ–½è¨­å"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"QRã‚³ãƒ¼ãƒ‰"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"æ£Ÿ"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"éšŽ"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"éƒ¨é–€"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"å€‹ä½“ç®¡ç†åç§°"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼å"}),(0,t.jsx)("th",{style:{padding:"10px 8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600,whiteSpace:"nowrap"},children:"åž‹å¼"})]})}),(0,t.jsx)("tbody",{children:f.map((e,d)=>(0,t.jsxs)("tr",{style:{background:b.has(e.qrCode)?"#e3f2fd":d%2==0?"white":"#fafafa",cursor:"pointer"},onClick:()=>eS(e.qrCode),children:[(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:(0,t.jsx)("input",{type:"checkbox",checked:b.has(e.qrCode),onChange:()=>eS(e.qrCode),onClick:e=>e.stopPropagation()})}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.facility}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"},children:e.qrCode}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.building}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.floor}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.department}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.name}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.maker}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.model})]},e.qrCode))})]}):(0,t.jsx)("div",{style:{padding:"40px",textAlign:"center",color:"#999"},children:"æ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã¦ã€Œæ¤œç´¢ã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãã ã•ã„"})}),(0,t.jsxs)("div",{style:{padding:"16px 20px",borderTop:"1px solid #ddd",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f8f9fa"},children:[(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:f.length>0&&`${b.size}ä»¶é¸æŠžä¸­`}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px"},children:[(0,t.jsx)("button",{onClick:()=>c(!1),style:{padding:"8px 20px",backgroundColor:"#fff",color:"#666",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,t.jsxs)("button",{onClick:()=>{k(f.filter(e=>b.has(e.qrCode))),c(!1),h(!0)},disabled:0===b.size,style:{padding:"8px 20px",backgroundColor:b.size>0?"#27ae60":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:b.size>0?"pointer":"not-allowed",fontSize:"13px",fontWeight:"bold"},children:["é¸æŠžã—ãŸæ©Ÿå™¨ã‚’è²¸å‡ºç™»éŒ²ï¼ˆ",b.size,"ä»¶ï¼‰"]})]})]})]})}),g&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{style:{backgroundColor:"#f5f5f5",borderRadius:"12px",width:"500px",padding:"32px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[(0,t.jsx)("h3",{style:{margin:"0 0 32px 0",fontSize:"22px",fontWeight:"bold",color:"#333"},children:"è²¸å‡ºæ©Ÿå™¨ç™»éŒ²"}),(0,t.jsx)("div",{style:{marginBottom:"24px",padding:"12px 16px",backgroundColor:"#e3f2fd",borderRadius:"8px"},children:(0,t.jsxs)("span",{style:{fontSize:"14px",color:"#1565c0"},children:["é¸æŠžæ©Ÿå™¨: ",(0,t.jsxs)("strong",{children:[C.length,"ä»¶"]})]})}),(0,t.jsx)("div",{style:{marginBottom:"32px"},children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"16px"},children:[(0,t.jsx)("span",{style:{fontSize:"16px",color:"#333"},children:"è¿”å´ã¾ã§ã®æœŸé™"}),(0,t.jsx)("input",{type:"number",value:w,onChange:e=>D(Number(e.target.value)),min:1,max:365,style:{width:"80px",padding:"10px 12px",fontSize:"18px",fontVariantNumeric:"tabular-nums",border:"1px solid #ccc",borderRadius:"8px",textAlign:"center"}}),(0,t.jsx)("span",{style:{fontSize:"16px",color:"#333"},children:"æ—¥"})]})}),(0,t.jsx)("button",{onClick:()=>{let e=C.map((e,t)=>({id:n.length+t+1,qrLabel:e.qrCode,meManagementNo:"",itemName:e.name,maker:e.maker,model:e.model,category:e.category,majorCategory:e.largeClass,middleCategory:e.mediumClass,status:"è²¸å‡ºå¯",installedDepartment:e.section,lendingDate:null,expectedReturnDate:null,overduedays:0,inspectionMarginDays:w,isFixedPlacement:!1,freeComment:""}));a(t=>[...t,...e]),h(!1),k([]),D(90),m({building:"",floor:"",department:"",section:"",category:"",largeClass:"",mediumClass:""}),y([]),j(new Set),S(!1),alert(`${e.length}ä»¶ã®æ©Ÿå™¨ã‚’è²¸å‡ºç®¡ç†ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã«è¿½åŠ ã—ã¾ã—ãŸ`)},style:{width:"100%",padding:"16px",backgroundColor:"#d4edda",color:"#333",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"16px",fontWeight:"bold"},children:"è²¸å‡ºç®¡ç†ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã«è¿½åŠ ã™ã‚‹"}),(0,t.jsx)("div",{style:{marginTop:"16px",textAlign:"center"},children:(0,t.jsx)("button",{onClick:()=>{h(!1),c(!0)},style:{background:"none",border:"none",color:"#666",fontSize:"14px",cursor:"pointer",textDecoration:"underline"},children:"æˆ»ã‚‹"})})]})}),z&&I&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"450px",padding:"24px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[(0,t.jsx)("h3",{style:{margin:"0 0 20px 0",fontSize:"18px",fontWeight:"bold",color:"#333"},children:"ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¿”å´æœŸé–“ã®è¨­å®š"}),(0,t.jsxs)("div",{style:{padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px",marginBottom:"20px",fontSize:"13px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"å“ç›®:"})," ",I.itemName]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"ãƒ¡ãƒ¼ã‚«ãƒ¼:"})," ",I.maker]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"åž‹å¼:"})," ",I.model]})]}),(0,t.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,t.jsx)("label",{style:{fontSize:"13px",fontWeight:600,display:"block",marginBottom:"8px"},children:"è¨­å®šå¯¾è±¡"}),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"radio",name:"returnPeriodTarget",checked:"single"===M,onChange:()=>N("single")}),(0,t.jsx)("span",{style:{fontSize:"13px"},children:"ã“ã®æ©Ÿå™¨ã®ã¿"})]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"radio",name:"returnPeriodTarget",checked:"deviceType"===M,onChange:()=>N("deviceType")}),(0,t.jsxs)("span",{style:{fontSize:"13px"},children:["åŒã˜æ©Ÿç¨®ã‚’ã¾ã¨ã‚ã¦è¨­å®š",(0,t.jsxs)("span",{style:{color:"#666",fontSize:"11px",marginLeft:"4px"},children:["ï¼ˆ",I.itemName," / ",I.maker," / ",I.model,"ï¼‰"]})]})]})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsx)("label",{style:{fontSize:"13px",fontWeight:600,display:"block",marginBottom:"8px"},children:"è¿”å´æœŸé–“"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("input",{type:"number",value:A,onChange:e=>B(Number(e.target.value)),min:1,max:365,style:{width:"100px",padding:"10px 12px",fontSize:"16px",fontVariantNumeric:"tabular-nums",border:"1px solid #ccc",borderRadius:"4px",textAlign:"right"}}),(0,t.jsx)("span",{style:{fontSize:"14px"},children:"æ—¥"})]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,t.jsx)("button",{onClick:()=>{R(!1),W(null)},style:{padding:"10px 20px",backgroundColor:"#fff",color:"#666",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,t.jsx)("button",{onClick:()=>{I&&("single"===M?a(e=>e.map(e=>e.id===I.id?{...e,inspectionMarginDays:A}:e)):a(e=>e.map(e=>e.itemName===I.itemName&&e.maker===I.maker&&e.model===I.model?{...e,inspectionMarginDays:A}:e)),R(!1),W(null))},style:{padding:"10px 20px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"ä¿å­˜"})]})]})}),L&&q&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"450px",padding:"24px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[(0,t.jsx)("h3",{style:{margin:"0 0 20px 0",fontSize:"18px",fontWeight:"bold",color:"#333"},children:"å®šæ•°è¨­ç½®æ©Ÿå™¨ã®è¨­å®š"}),(0,t.jsxs)("div",{style:{padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px",marginBottom:"20px",fontSize:"13px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"QRãƒ©ãƒ™ãƒ«:"})," ",q.qrLabel]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"å“ç›®:"})," ",q.itemName]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"ãƒ¡ãƒ¼ã‚«ãƒ¼:"})," ",q.maker]})]}),q.isFixedPlacement?(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{padding:"16px",backgroundColor:"#fff3e0",borderRadius:"6px",marginBottom:"20px",fontSize:"13px",color:"#e65100"},children:["ã“ã®æ©Ÿå™¨ã¯ç¾åœ¨ã€Œ",q.installedDepartment,"ã€ã«å®šæ•°é…ç½®ã•ã‚Œã¦ã„ã¾ã™ã€‚ è§£é™¤ã™ã‚‹ã¨è¿”å´æœŸé–“ãŒé©ç”¨ã•ã‚Œã¾ã™ã€‚"]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,t.jsx)("button",{onClick:()=>{T(!1),E(null)},style:{padding:"10px 20px",backgroundColor:"#fff",color:"#666",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,t.jsx)("button",{onClick:()=>eC(!1),style:{padding:"10px 20px",backgroundColor:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"å®šæ•°é…ç½®ã‚’è§£é™¤"})]})]}):(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{padding:"12px",backgroundColor:"#e8f5e9",borderRadius:"6px",marginBottom:"20px",fontSize:"13px",color:"#2e7d32"},children:"å®šæ•°è¨­ç½®æ©Ÿå™¨ã«è¨­å®šã™ã‚‹ã¨ã€è¿”å´æœŸé–“ãŒç„¡ã—ã¨ãªã‚Šã¾ã™ã€‚"}),(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsxs)("label",{style:{fontSize:"13px",fontWeight:600,display:"block",marginBottom:"8px"},children:["å®šæ•°é…ç½®ã™ã‚‹éƒ¨ç½² ",(0,t.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,t.jsxs)("select",{value:F,onChange:e=>P(e.target.value),style:{width:"100%",padding:"10px 12px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px"},children:[(0,t.jsx)("option",{value:"",children:"éƒ¨ç½²ã‚’é¸æŠž..."}),ej.map(e=>(0,t.jsx)("option",{value:e,children:e},e)),(0,t.jsx)("option",{value:"ICU",children:"ICU"}),(0,t.jsx)("option",{value:"æ‰‹è¡“å®¤",children:"æ‰‹è¡“å®¤"}),(0,t.jsx)("option",{value:"æ•‘æ€¥å¤–æ¥",children:"æ•‘æ€¥å¤–æ¥"}),(0,t.jsx)("option",{value:"MEå®¤",children:"MEå®¤"})]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,t.jsx)("button",{onClick:()=>{T(!1),E(null)},style:{padding:"10px 20px",backgroundColor:"#fff",color:"#666",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,t.jsx)("button",{onClick:()=>eC(!0),disabled:!F,style:{padding:"10px 20px",backgroundColor:F?"#27ae60":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:F?"pointer":"not-allowed",fontSize:"14px",fontWeight:"bold"},children:"å®šæ•°é…ç½®ã«è¨­å®š"})]})]})]})}),Q&&H&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"450px",padding:"24px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[(0,t.jsx)("h3",{style:{margin:"0 0 20px 0",fontSize:"18px",fontWeight:"bold",color:"#333"},children:"ãƒ•ãƒªãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆ"}),(0,t.jsxs)("div",{style:{padding:"12px",backgroundColor:"#f8f9fa",borderRadius:"6px",marginBottom:"20px",fontSize:"13px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"QRãƒ©ãƒ™ãƒ«:"})," ",H.qrLabel]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("strong",{children:"å“ç›®:"})," ",H.itemName]})]}),(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsx)("label",{style:{fontSize:"13px",fontWeight:600,display:"block",marginBottom:"8px"},children:"ã‚³ãƒ¡ãƒ³ãƒˆ"}),(0,t.jsx)("textarea",{value:$,onChange:e=>U(e.target.value),placeholder:"ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥åŠ›...",style:{width:"100%",padding:"10px 12px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px",minHeight:"100px",resize:"vertical",boxSizing:"border-box"}})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end"},children:[(0,t.jsx)("button",{onClick:()=>{O(!1),V(null)},style:{padding:"10px 20px",backgroundColor:"#fff",color:"#666",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,t.jsx)("button",{onClick:()=>{H&&(a(e=>e.map(e=>e.id===H.id?{...e,freeComment:$}:e)),O(!1),V(null))},style:{padding:"10px 20px",backgroundColor:"#27ae60",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"ä¿å­˜"})]})]})}),K&&G&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"500px",padding:"24px",boxShadow:"0 4px 20px rgba(0,0,0,0.3)"},children:[(0,t.jsx)("h3",{style:{margin:"0 0 20px 0",fontSize:"18px",fontWeight:"bold",color:"#333"},children:(e=>{switch(e){case"device-history":return"æ©Ÿå™¨å˜ä½“ã®è²¸å‡ºå±¥æ­´";case"monthly-summary":return"æœˆæ¬¡è²¸å‡ºå®Ÿç¸¾ä¸€è¦§";case"utilization-rate":return"æ©Ÿå™¨åˆ¥ç¨¼åƒçŽ‡è¡¨";case"ward-summary":return"ç—…æ£Ÿåˆ¥è²¸å‡ºå°æ•°é›†è¨ˆ";case"overdue-list":return"é…å»¶æ©Ÿå™¨ä¸€è¦§";default:return""}})(G)}),"device-history"===G&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{padding:"12px",backgroundColor:"#e3f2fd",borderRadius:"6px",marginBottom:"20px",fontSize:"13px",color:"#1565c0"},children:"é¸æŠžã—ãŸæ©Ÿå™¨ã®è²¸å‡ºå±¥æ­´ã‚’CSVã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™ï¼ˆãƒˆãƒ¬ãƒ¼ã‚µãƒ“ãƒªãƒ†ã‚£ç”¨ï¼‰"}),(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsxs)("label",{style:{fontSize:"13px",fontWeight:600,display:"block",marginBottom:"8px"},children:["å¯¾è±¡æ©Ÿå™¨ã‚’é¸æŠž ",(0,t.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,t.jsxs)("select",{value:Z,onChange:e=>ee(e.target.value),style:{width:"100%",padding:"10px 12px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px"},children:[(0,t.jsx)("option",{value:"",children:"æ©Ÿå™¨ã‚’é¸æŠž..."}),n.map(e=>(0,t.jsxs)("option",{value:e.qrLabel,children:[e.qrLabel," - ",e.itemName," (",e.maker," ",e.model,")"]},e.qrLabel))]})]})]}),"monthly-summary"===G&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{padding:"12px",backgroundColor:"#e3f2fd",borderRadius:"6px",marginBottom:"20px",fontSize:"13px",color:"#1565c0"},children:"æŒ‡å®šæœˆã®å…¨è²¸å‡ºå®Ÿç¸¾ã‚’CSVã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™"}),(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsxs)("label",{style:{fontSize:"13px",fontWeight:600,display:"block",marginBottom:"8px"},children:["å¯¾è±¡å¹´æœˆ ",(0,t.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,t.jsx)("input",{type:"month",value:et,onChange:e=>ed(e.target.value),style:{width:"200px",padding:"10px 12px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px"}})]})]}),"utilization-rate"===G&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{padding:"12px",backgroundColor:"#e3f2fd",borderRadius:"6px",marginBottom:"20px",fontSize:"13px",color:"#1565c0"},children:"æŒ‡å®šæœŸé–“ã«ãŠã‘ã‚‹å„æ©Ÿå™¨ã®ç¨¼åƒçŽ‡ã‚’ç®—å‡ºã—ã¦CSVã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™"}),(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsxs)("label",{style:{fontSize:"13px",fontWeight:600,display:"block",marginBottom:"8px"},children:["é›†è¨ˆæœŸé–“ ",(0,t.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[(0,t.jsx)("input",{type:"date",value:en,onChange:e=>er(e.target.value),style:{padding:"10px 12px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px"}}),(0,t.jsx)("span",{style:{fontSize:"14px",color:"#666"},children:"ã€œ"}),(0,t.jsx)("input",{type:"date",value:ei,onChange:e=>el(e.target.value),style:{padding:"10px 12px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px"}})]})]})]}),"ward-summary"===G&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{padding:"12px",backgroundColor:"#e3f2fd",borderRadius:"6px",marginBottom:"20px",fontSize:"13px",color:"#1565c0"},children:"æŒ‡å®šæœŸé–“ã«ãŠã‘ã‚‹éƒ¨ç½²åˆ¥ã®è²¸å‡ºå°æ•°ãƒ»è¿”å´çŠ¶æ³ã‚’CSVã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™"}),(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsxs)("label",{style:{fontSize:"13px",fontWeight:600,display:"block",marginBottom:"8px"},children:["é›†è¨ˆæœŸé–“ ",(0,t.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[(0,t.jsx)("input",{type:"date",value:en,onChange:e=>er(e.target.value),style:{padding:"10px 12px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px"}}),(0,t.jsx)("span",{style:{fontSize:"14px",color:"#666"},children:"ã€œ"}),(0,t.jsx)("input",{type:"date",value:ei,onChange:e=>el(e.target.value),style:{padding:"10px 12px",fontSize:"14px",border:"1px solid #ccc",borderRadius:"4px"}})]})]})]}),"overdue-list"===G&&(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{padding:"12px",backgroundColor:"#fff3e0",borderRadius:"6px",marginBottom:"20px",fontSize:"13px",color:"#e65100"},children:"ç¾åœ¨è¿”å´æœŸé™ã‚’è¶…éŽã—ã¦ã„ã‚‹æ©Ÿå™¨ã®ä¸€è¦§ã‚’CSVã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã™"}),(0,t.jsxs)("div",{style:{padding:"16px",backgroundColor:"#f8f9fa",borderRadius:"6px",textAlign:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"32px",fontWeight:"bold",color:"#e74c3c",fontVariantNumeric:"tabular-nums"},children:n.filter(e=>e.overduedays>0).length}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666",marginTop:"4px"},children:"ä»¶ã®é…å»¶æ©Ÿå™¨"})]})]}),(0,t.jsxs)("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",marginTop:"24px"},children:[(0,t.jsx)("button",{onClick:()=>{Y(!1),J(null)},style:{padding:"10px 20px",backgroundColor:"#fff",color:"#666",border:"1px solid #ccc",borderRadius:"4px",cursor:"pointer",fontSize:"14px"},children:"ã‚­ãƒ£ãƒ³ã‚»ãƒ«"}),(0,t.jsx)("button",{onClick:()=>{switch(G){case"device-history":(()=>{if(!Z)return;let e=eo.filter(e=>e.qrLabel===Z).map(e=>{let t=e.returnDate?Math.ceil((new Date(e.returnDate).getTime()-new Date(e.lendingDate).getTime())/864e5):"-";return[e.lendingDate,e.returnDate||"-",e.lendingDepartment,String(t),e.staffName,e.status]});ew(`æ©Ÿå™¨è²¸å‡ºå±¥æ­´_${Z}_${new Date().toISOString().split("T")[0]}.csv`,["è²¸å‡ºæ—¥","è¿”å´æ—¥","è²¸å‡ºå…ˆéƒ¨ç½²","è²¸å‡ºæœŸé–“(æ—¥)","æ‹…å½“è€…","ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"],e),Y(!1)})();break;case"monthly-summary":(()=>{let[e,t]=et.split("-").map(Number),d=new Date(e,t-1,1),n=new Date(e,t,0);ew(`æœˆæ¬¡è²¸å‡ºå®Ÿç¸¾_${et}.csv`,["QRãƒ©ãƒ™ãƒ«","æ©Ÿå™¨å","ãƒ¡ãƒ¼ã‚«ãƒ¼","åž‹å¼","è²¸å‡ºæ—¥","è¿”å´æ—¥","è²¸å‡ºå…ˆ","ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"],eo.filter(e=>{let t=new Date(e.lendingDate);return t>=d&&t<=n}).map(e=>[e.qrLabel,e.itemName,e.maker,e.model,e.lendingDate,e.returnDate||"-",e.lendingDepartment,e.status])),Y(!1)})();break;case"utilization-rate":let e,t,d,r;e=new Date(en),d=Math.ceil(((t=new Date(ei)).getTime()-e.getTime())/864e5)+1,r={},n.forEach(e=>{r[e.qrLabel]={itemName:e.itemName,maker:e.maker,model:e.model,activeDays:0,lendingCount:0}}),eo.forEach(d=>{if(!r[d.qrLabel])return;let n=new Date(d.lendingDate),i=d.returnDate?new Date(d.returnDate):t,l=n<e?e:n,o=i>t?t:i;if(l<=o){let e=Math.ceil((o.getTime()-l.getTime())/864e5)+1;r[d.qrLabel].activeDays+=e,r[d.qrLabel].lendingCount+=1}}),ew(`æ©Ÿå™¨åˆ¥ç¨¼åƒçŽ‡_${en}_${ei}.csv`,["QRãƒ©ãƒ™ãƒ«","æ©Ÿå™¨å","ãƒ¡ãƒ¼ã‚«ãƒ¼","åž‹å¼","ç¨¼åƒæ—¥æ•°","ç¨¼åƒçŽ‡(%)","è²¸å‡ºå›žæ•°"],Object.entries(r).map(([e,t])=>{let n=d>0?(t.activeDays/d*100).toFixed(1):"0";return[e,t.itemName,t.maker,t.model,String(t.activeDays),n,String(t.lendingCount)]})),Y(!1);break;case"ward-summary":let i,l,o;i=new Date(en),l=new Date(ei),o={},eo.forEach(e=>{let t=new Date(e.lendingDate);if(!(t<i)&&!(t>l))if(o[e.lendingDepartment]||(o[e.lendingDepartment]={lendingCount:0,returnCount:0,currentLending:0,totalDays:0}),o[e.lendingDepartment].lendingCount+=1,e.returnDate){o[e.lendingDepartment].returnCount+=1;let d=Math.ceil((new Date(e.returnDate).getTime()-t.getTime())/864e5);o[e.lendingDepartment].totalDays+=d}else o[e.lendingDepartment].currentLending+=1}),ew(`ç—…æ£Ÿåˆ¥è²¸å‡ºé›†è¨ˆ_${en}_${ei}.csv`,["éƒ¨ç½²å","è²¸å‡ºå°æ•°","è¿”å´å°æ•°","ç¾åœ¨è²¸å‡ºä¸­","å¹³å‡è²¸å‡ºæœŸé–“(æ—¥)"],Object.entries(o).map(([e,t])=>{let d=t.returnCount>0?(t.totalDays/t.returnCount).toFixed(1):"-";return[e,String(t.lendingCount),String(t.returnCount),String(t.currentLending),d]})),Y(!1);break;case"overdue-list":let a;a=n.filter(e=>e.overduedays>0).map(e=>[e.qrLabel,e.meManagementNo,e.itemName,e.maker,e.model,e.lendingDate||"-",e.expectedReturnDate||"-",String(e.overduedays),e.installedDepartment]),ew(`é…å»¶æ©Ÿå™¨ä¸€è¦§_${new Date().toISOString().split("T")[0]}.csv`,["QRãƒ©ãƒ™ãƒ«","MEç®¡ç†No.","æ©Ÿå™¨å","ãƒ¡ãƒ¼ã‚«ãƒ¼","åž‹å¼","è²¸å‡ºæ—¥","è¿”å´äºˆå®šæ—¥","è¶…éŽæ—¥æ•°","è²¸å‡ºå…ˆ"],a),Y(!1)}},disabled:"device-history"===G&&!Z||"overdue-list"===G&&0===n.filter(e=>e.overduedays>0).length,style:{padding:"10px 20px",backgroundColor:("device-history"!==G||Z)&&("overdue-list"!==G||0!==n.filter(e=>e.overduedays>0).length)?"#3498db":"#ccc",color:"white",border:"none",borderRadius:"4px",cursor:("device-history"!==G||Z)&&("overdue-list"!==G||0!==n.filter(e=>e.overduedays>0).length)?"pointer":"not-allowed",fontSize:"14px",fontWeight:"bold"},children:"CSVã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ"})]})]})}),_&&(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:50},onClick:()=>X(!1)})]})};var s=e.i(72822);function p(){return(0,t.jsxs)("div",{className:"min-h-dvh flex flex-col",style:{background:"#f5f5f5"},children:[(0,t.jsx)(n.Header,{title:"ã‚¿ã‚¹ã‚¯ç®¡ç†",showBackButton:!0,backHref:"/main",backLabel:"ãƒ¡ã‚¤ãƒ³ç”»é¢ã«æˆ»ã‚‹",hideMenu:!0}),(0,t.jsx)("div",{style:{display:"flex",flex:1,overflow:"hidden"},children:(0,t.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:"column",padding:"16px",overflow:"hidden"},children:[(0,t.jsx)(s.SubTabNavigation,{activeTab:"lendingManagement"}),(0,t.jsx)("div",{style:{flex:1,background:"white",overflow:"auto"},children:(0,t.jsx)(a,{})})]})})]})}function x(){return(0,t.jsx)(d.Suspense,{fallback:(0,t.jsx)("div",{style:{padding:"20px",textAlign:"center"},children:"èª­ã¿è¾¼ã¿ä¸­..."}),children:(0,t.jsx)(p,{})})}e.s(["default",()=>x],53980)}]);