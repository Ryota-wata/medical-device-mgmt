(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18042,e=>{"use strict";var t=e.i(43476),d=e.i(71645),i=e.i(18566);e.i(74604);var l=e.i(57616);e.i(17363);var n=e.i(50140),r=e.i(44830),s=e.i(11276),o=e.i(74164),a=e.i(26549),p=e.i(26569);let x=({isOpen:e,onClose:i,assets:l,onSuccess:n})=>{let{facilities:o}=(0,a.useMasterStore)(),{addApplication:x}=(0,r.useApplicationStore)(),{isMobile:c}=(0,p.useResponsive)(),[h,g]=(0,d.useState)(""),[u,b]=(0,d.useState)(""),[y,f]=(0,d.useState)(""),[j,m]=(0,d.useState)(""),v=new Date().toISOString().split("T")[0],S=(0,d.useMemo)(()=>Array.from(new Set(o.map(e=>e.department))).filter(Boolean),[o]),k=(0,d.useMemo)(()=>h?Array.from(new Set(o.filter(e=>e.department===h).map(e=>e.section))).filter(Boolean):Array.from(new Set(o.map(e=>e.section))).filter(Boolean),[o,h]);if(!e||0===l.length)return null;let w=l[0];return(0,t.jsx)("div",{onClick:()=>{g(""),b(""),f(""),m(""),i()},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"900px",maxHeight:"90vh",boxShadow:"0 4px 20px rgba(0,0,0,0.3)",overflow:"auto",display:"flex",flexDirection:"column"},children:[(0,t.jsx)("div",{style:{background:"#e0e0e0",padding:"16px 24px",fontSize:"18px",fontWeight:"bold",color:"#333",textAlign:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:"ç§»å‹•ç”³è«‹ ãƒ¢ãƒ¼ãƒ€ãƒ«"}),(0,t.jsxs)("div",{style:{padding:"24px",flex:1,overflowY:"auto"},children:[(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsx)("h3",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",marginBottom:"16px",borderBottom:"1px solid #ddd",paddingBottom:"8px"},children:"ç”³è«‹åŸºæœ¬æƒ…å ±"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:c?"1fr":"auto 1fr auto 1fr auto 1fr",gap:"12px 16px",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"ç®¡ç†éƒ¨ç½²"}),(0,t.jsx)("div",{style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",background:"#f9f9f9"},children:w.department||"-"}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"ç”³è«‹è€…"}),(0,t.jsx)("div",{style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",background:"#f9f9f9"},children:"æ‰‹éƒ¨ è¡“å¤ªéƒŽ"}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"ç”³è«‹æ—¥"}),(0,t.jsx)("div",{style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",background:"#f9f9f9"},children:v}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"è¨­ç½®éƒ¨é–€"}),(0,t.jsx)("div",{style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",background:"#f9f9f9"},children:w.department||"-"}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"è¨­ç½®éƒ¨ç½²"}),(0,t.jsx)("div",{style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",background:"#f9f9f9"},children:w.section||"-"}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"è¨­ç½®å®¤å"}),(0,t.jsx)("div",{style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",background:"#f9f9f9"},children:w.roomName||"-"})]}),l.length>1&&(0,t.jsxs)("div",{style:{marginTop:"12px",padding:"8px 12px",background:"#fff3e0",borderRadius:"4px",fontSize:"13px",color:"#e65100"},children:["â€» ",l.length,"ä»¶ã®è³‡ç”£ãŒé¸æŠžã•ã‚Œã¦ã„ã¾ã™"]})]}),(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsx)("h3",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",marginBottom:"16px",borderBottom:"1px solid #ddd",paddingBottom:"8px"},children:"ç§»å‹•å…ˆ"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:c?"1fr":"auto 1fr auto 1fr auto 1fr",gap:"12px 16px",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"è¨­ç½®éƒ¨é–€"}),(0,t.jsx)("div",{style:{position:"relative",zIndex:12},children:(0,t.jsx)(s.SearchableSelect,{value:h,onChange:e=>{g(e),u&&(o.find(t=>t.department===e&&t.section===u)||b(""))},options:S,placeholder:"é¸æŠžã—ã¦ãã ã•ã„",isMobile:c})}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"è¨­ç½®éƒ¨ç½²"}),(0,t.jsx)("div",{style:{position:"relative",zIndex:11},children:(0,t.jsx)(s.SearchableSelect,{value:u,onChange:e=>{if(b(e),e&&!h){let t=o.find(t=>t.section===e);t&&t.department&&g(t.department)}},options:k,placeholder:"é¸æŠžã—ã¦ãã ã•ã„",isMobile:c})}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"è¨­ç½®å®¤å"}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>f(e.target.value),placeholder:"å…¥åŠ›ã—ã¦ãã ã•ã„",style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",width:"100%",boxSizing:"border-box"}})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsx)("h3",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",marginBottom:"12px"},children:"ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆç§»å‹•ç†ç”±ä»–ï¼‰"}),(0,t.jsx)("textarea",{value:j,onChange:e=>m(e.target.value),placeholder:"ç§»å‹•ç†ç”±ã‚„ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",rows:5,style:{width:"100%",padding:"12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",boxSizing:"border-box",resize:"vertical"}})]}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,t.jsx)("button",{onClick:()=>{h&&u&&y?(l.forEach(e=>{x({applicationNo:`TRAN-${Date.now()}-${Math.floor(1e4*Math.random())}`,applicationDate:v,applicationType:"ç§»å‹•ç”³è«‹",asset:{name:e.name,model:e.model},vendor:e.maker,quantity:String(e.quantity||1),unit:"å°",status:"æ‰¿èªå¾…ã¡",approvalProgress:{current:0,total:3},facility:{building:e.building,floor:e.floor,department:e.department,section:e.section},roomName:e.roomName||"",freeInput:j,executionYear:new Date().getFullYear().toString(),transferDestination:{department:h,section:u,roomName:y}})}),alert(`ç§»å‹•ç”³è«‹ã‚’é€ä¿¡ã—ã¾ã—ãŸ
ç”³è«‹ä»¶æ•°: ${l.length}ä»¶`),g(""),b(""),f(""),m(""),i(),n?.()):alert("ç§»å‹•å…ˆã®è¨­ç½®éƒ¨é–€ã€è¨­ç½®éƒ¨ç½²ã€è¨­ç½®å®¤åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")},style:{padding:"12px 48px",background:"#4a6741",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},onMouseEnter:e=>{e.currentTarget.style.background="#3d5636"},onMouseLeave:e=>{e.currentTarget.style.background="#4a6741"},children:"ä¸Šè¨˜å†…å®¹ã§ç”³è«‹ã™ã‚‹"})})]})]})})},c=({isOpen:e,onClose:i,assets:l,onSuccess:n})=>{let{addApplication:s}=(0,r.useApplicationStore)(),{isMobile:o}=(0,p.useResponsive)(),a=(0,d.useRef)(null),[x,c]=(0,d.useState)(""),[h,g]=(0,d.useState)([]),u=new Date().toISOString().split("T")[0];if(!e||0===l.length)return null;let b=l[0];return(0,t.jsx)("div",{onClick:()=>{c(""),g([]),i()},style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"900px",maxHeight:"90vh",boxShadow:"0 4px 20px rgba(0,0,0,0.3)",overflow:"auto",display:"flex",flexDirection:"column"},children:[(0,t.jsx)("div",{style:{background:"#e0e0e0",padding:"16px 24px",fontSize:"18px",fontWeight:"bold",color:"#333",textAlign:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:"å»ƒæ£„ç”³è«‹ ãƒ¢ãƒ¼ãƒ€ãƒ«"}),(0,t.jsxs)("div",{style:{padding:"24px",flex:1,overflowY:"auto"},children:[(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsx)("h3",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",marginBottom:"16px",borderBottom:"1px solid #ddd",paddingBottom:"8px"},children:"ç”³è«‹åŸºæœ¬æƒ…å ±"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:o?"1fr":"auto 1fr auto 1fr auto 1fr",gap:"12px 16px",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"ç®¡ç†éƒ¨ç½²"}),(0,t.jsx)("div",{style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",background:"#f9f9f9"},children:b.department||"-"}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"ç”³è«‹è€…"}),(0,t.jsx)("div",{style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",background:"#f9f9f9"},children:"æ‰‹éƒ¨ è¡“å¤ªéƒŽ"}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"ç”³è«‹æ—¥"}),(0,t.jsx)("div",{style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",background:"#f9f9f9"},children:u}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"è¨­ç½®éƒ¨é–€"}),(0,t.jsx)("div",{style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",background:"#f9f9f9"},children:b.department||"-"}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"è¨­ç½®éƒ¨ç½²"}),(0,t.jsx)("div",{style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",background:"#f9f9f9"},children:b.section||"-"}),(0,t.jsx)("div",{style:{fontSize:"13px",color:"#666"},children:"è¨­ç½®å®¤å"}),(0,t.jsx)("div",{style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",background:"#f9f9f9"},children:b.roomName||"-"})]}),l.length>1&&(0,t.jsxs)("div",{style:{marginTop:"12px",padding:"8px 12px",background:"#fff3e0",borderRadius:"4px",fontSize:"13px",color:"#e65100"},children:["â€» ",l.length,"ä»¶ã®è³‡ç”£ãŒé¸æŠžã•ã‚Œã¦ã„ã¾ã™"]})]}),(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsx)("h3",{style:{fontSize:"14px",fontWeight:"bold",color:"#333",marginBottom:"12px"},children:"ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆå»ƒæ£„ç†ç”±ä»–ï¼‰"}),(0,t.jsx)("textarea",{value:x,onChange:e=>c(e.target.value),placeholder:"å»ƒæ£„ç†ç”±ã‚„ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„",rows:5,style:{width:"100%",padding:"12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",boxSizing:"border-box",resize:"vertical"}})]}),(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",border:"1px solid #4a6741",borderRadius:"4px",marginBottom:"8px"},children:[(0,t.jsx)("div",{style:{padding:"8px 16px",background:"#4a6741",color:"white",borderRadius:"4px",fontSize:"13px",fontWeight:"bold"},children:"æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«"}),(0,t.jsx)("input",{ref:a,type:"file",multiple:!0,onChange:e=>{let t=e.target.files;if(!t)return;let d=Array.from(t).map(e=>({name:e.name,size:e.size,type:e.type,file:e}));g(e=>[...e,...d]),a.current&&(a.current.value="")},style:{display:"none"},id:"disposal-file-input"}),(0,t.jsx)("label",{htmlFor:"disposal-file-input",style:{padding:"6px 12px",background:"#f5f5f5",border:"1px solid #ddd",borderRadius:"4px",fontSize:"13px",cursor:"pointer"},children:"ãƒ•ã‚¡ã‚¤ãƒ«ã®é¸æŠž"}),(0,t.jsx)("span",{style:{fontSize:"13px",color:"#666"},children:0===h.length?"ãƒ•ã‚¡ã‚¤ãƒ«ãŒé¸æŠžã•ã‚Œã¦ã„ã¾ã›ã‚“":`${h.length}ä»¶ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒé¸æŠžã•ã‚Œã¦ã„ã¾ã™`})]}),h.length>0&&(0,t.jsx)("div",{style:{marginBottom:"8px"},children:h.map((e,d)=>{var i;return(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",background:"#f8f9fa",borderRadius:"4px",marginBottom:"4px",fontSize:"13px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("span",{children:"ðŸ“„"}),(0,t.jsx)("span",{children:e.name}),(0,t.jsxs)("span",{style:{color:"#666"},children:["(",(i=e.size)<1024?`${i} B`:i<1048576?`${(i/1024).toFixed(1)} KB`:`${(i/1048576).toFixed(1)} MB`,")"]})]}),(0,t.jsx)("button",{onClick:()=>{g(e=>e.filter((e,t)=>t!==d))},style:{padding:"4px 8px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"å‰Šé™¤"})]},d)})}),(0,t.jsx)("p",{style:{fontSize:"12px",color:"#666",margin:0},children:"è¦‹ç©æ›¸ãƒ»ä¿®ç†ä¸èƒ½è¨¼æ˜Žãªã©æ‰‹æŒã¡ã®æ›¸é¡žã‚’æ·»ä»˜ã—ã¦ãã ã•ã„"})]}),(0,t.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,t.jsx)("button",{onClick:()=>{l.forEach(e=>{s({applicationNo:`DISP-${Date.now()}-${Math.floor(1e4*Math.random())}`,applicationDate:u,applicationType:"å»ƒæ£„ç”³è«‹",asset:{name:e.name,model:e.model},vendor:e.maker,quantity:String(e.quantity||1),unit:"å°",status:"æ‰¿èªå¾…ã¡",approvalProgress:{current:0,total:3},facility:{building:e.building,floor:e.floor,department:e.department,section:e.section},roomName:e.roomName||"",freeInput:x,executionYear:new Date().getFullYear().toString(),applicationReason:x})}),alert(`å»ƒæ£„ç”³è«‹ã‚’é€ä¿¡ã—ã¾ã—ãŸ
ç”³è«‹ä»¶æ•°: ${l.length}ä»¶${h.length>0?`
æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«: ${h.length}ä»¶`:""}`),c(""),g([]),i(),n?.()},style:{padding:"12px 48px",background:"#4a6741",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},onMouseEnter:e=>{e.currentTarget.style.background="#3d5636"},onMouseLeave:e=>{e.currentTarget.style.background="#4a6741"},children:"ä¸Šè¨˜å†…å®¹ã§ç”³è«‹ã™ã‚‹"})})]})]})})};e.i(47167);let h=[{id:1,applicationDate:"2025-12-01",companyName:"ã‚ªãƒªãƒ³ãƒ‘ã‚¹æ ªå¼ä¼šç¤¾",contactPerson:"å±±ç”° å¤ªéƒŽ",contactInfo:"03-1234-5678",email:"yamada@olympus.co.jp",managementDepartment:"æ‰‹è¡“éƒ¨",applicantName:"æ‰‹è¡“ ç´ºå¤ªéƒŽ",installationDivision:"è¨ºç™‚éƒ¨é–€",installationDepartment:"æ‰‹è¡“éƒ¨",installationRoom:"æ‰‹è¡“å®¤A",purposes:{demo:!0,clinicalTrial:!0,emergency:!1,accident:!1,training:!1,research:!1,deliveryDelay:!1,other:!1},desiredDeliveryYear:2026,desiredDeliveryMonth:1,returnYear:2026,returnMonth:3,casesPerMonth:"10",assets:[{item:"è…¹è…”é¡",maker:"ã‚ªãƒªãƒ³ãƒ‘ã‚¹",model:"OTV-S400",quantity:1,unit:"å°"}],costBurdens:{installation:"lender",removal:"lender",maintenance:"lender",consumables:"borrower",other:""},comment:"æ–°åž‹æ©Ÿç¨®ã®è©¦ç”¨è©•ä¾¡ã®ãŸã‚"},{id:2,applicationDate:"2025-11-15",companyName:"ãƒ†ãƒ«ãƒ¢æ ªå¼ä¼šç¤¾",contactPerson:"éˆ´æœ¨ èŠ±å­",contactInfo:"03-9876-5432",email:"suzuki@terumo.co.jp",managementDepartment:"MEã‚»ãƒ³ã‚¿ãƒ¼",applicantName:"ME æŠ€å¸«",installationDivision:"è¨ºç™‚éƒ¨é–€",installationDepartment:"å¾ªç’°å™¨å†…ç§‘",installationRoom:"ã‚«ãƒ†ãƒ¼ãƒ†ãƒ«å®¤",purposes:{demo:!1,clinicalTrial:!1,emergency:!1,accident:!0,training:!1,research:!1,deliveryDelay:!1,other:!1},desiredDeliveryYear:2025,desiredDeliveryMonth:11,returnYear:2025,returnMonth:12,casesPerMonth:"5",assets:[{item:"IABP",maker:"ãƒ†ãƒ«ãƒ¢",model:"BA-100",quantity:1,unit:"å°"}],costBurdens:{installation:"lender",removal:"lender",maintenance:"lender",consumables:"lender",other:"lender"},comment:"æ—¢å­˜æ©Ÿå™¨æ•…éšœå¯¾å¿œã®ãŸã‚ç·Šæ€¥è²¸å‡º"},{id:3,applicationDate:"2025-10-20",companyName:"GEãƒ˜ãƒ«ã‚¹ã‚±ã‚¢ãƒ»ã‚¸ãƒ£ãƒ‘ãƒ³",contactPerson:"ä½è—¤ ä¸€éƒŽ",contactInfo:"03-5555-1234",email:"sato@ge.com",managementDepartment:"æ”¾å°„ç·šç§‘",applicantName:"æ”¾å°„ç·š æŠ€å¸«",installationDivision:"è¨ºç™‚éƒ¨é–€",installationDepartment:"æ”¾å°„ç·šç§‘",installationRoom:"CTå®¤",purposes:{demo:!0,clinicalTrial:!1,emergency:!1,accident:!1,training:!0,research:!1,deliveryDelay:!1,other:!1},desiredDeliveryYear:2025,desiredDeliveryMonth:11,returnYear:2026,returnMonth:2,casesPerMonth:"50",assets:[{item:"CTè£…ç½®",maker:"GE",model:"Revolution CT",quantity:1,unit:"å°"}],costBurdens:{installation:"lender",removal:"lender",maintenance:"lender",consumables:"borrower",other:"borrower"},comment:"æ–°åž‹CTè£…ç½®ã®ãƒ‡ãƒ¢åŠã³ã‚¹ã‚¿ãƒƒãƒ•ç ”ä¿®"}];function g({isOpen:e,onClose:i,onSuccess:l}){let{departments:n}=(0,a.useMasterStore)(),r=[...new Set(n.map(e=>e.division))],o=[...new Set(n.map(e=>e.department))],[p,x]=(0,d.useState)(!1),[c,g]=(0,d.useState)(""),[u,b]=(0,d.useState)(""),[y,f]=(0,d.useState)(""),[j,m]=(0,d.useState)(""),[v,S]=(0,d.useState)(new Date().toISOString().split("T")[0]),[k,w]=(0,d.useState)(""),[z,C]=(0,d.useState)(""),[R,A]=(0,d.useState)(""),[I,W]=(0,d.useState)(""),[T,B]=(0,d.useState)(""),[D,$]=(0,d.useState)({demo:!1,clinicalTrial:!1,emergency:!1,accident:!1,training:!1,research:!1,deliveryDelay:!1,other:!1}),N=new Date().getFullYear(),[M,q]=(0,d.useState)(N),[E,L]=(0,d.useState)(new Date().getMonth()+1),[P,Y]=(0,d.useState)(N),[F,O]=(0,d.useState)(new Date().getMonth()+2>12?1:new Date().getMonth()+2),[H,V]=(0,d.useState)(""),[G,U]=(0,d.useState)([]),[Q,_]=(0,d.useState)({installation:"",removal:"",maintenance:"",consumables:"",other:""}),[K,J]=(0,d.useState)(""),[X,Z]=(0,d.useState)([]),ee=(0,d.useCallback)(e=>{if(e.origin===window.location.origin&&e.data?.type==="ASSET_SELECTED"&&e.data?.assets){let t=e.data.assets.map(e=>({item:e.item||"",maker:e.maker||"",model:e.model||"",quantity:1,unit:"å°"}));U(e=>[...e,...t])}},[]);if((0,d.useEffect)(()=>{if(e)return window.addEventListener("message",ee),()=>{window.removeEventListener("message",ee)}},[e,ee]),!e)return null;let et=Array.from({length:10},(e,t)=>N+t),ed=Array.from({length:12},(e,t)=>t+1),ei=(e,t)=>{_(d=>({...d,[e]:t}))};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{onClick:i,style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{background:"white",borderRadius:"8px",width:"95%",maxWidth:"950px",maxHeight:"90vh",boxShadow:"0 4px 20px rgba(0,0,0,0.3)",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{background:"#4a6741",color:"white",padding:"16px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"å€Ÿç”¨ç”³è«‹ ãƒ¢ãƒ¼ãƒ€ãƒ«"}),(0,t.jsx)("button",{onClick:i,style:{background:"transparent",border:"none",color:"white",fontSize:"20px",cursor:"pointer",padding:"0"},"aria-label":"é–‰ã˜ã‚‹",children:"Ã—"})]}),(0,t.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"20px"},children:[(0,t.jsxs)("div",{style:{marginBottom:"24px"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[(0,t.jsx)("div",{style:{background:"#4a6741",color:"white",padding:"6px 12px",fontSize:"13px",fontWeight:"bold"},children:"ç”³è«‹åŸºæœ¬æƒ…å ±"}),(0,t.jsx)("button",{onClick:()=>x(!0),style:{padding:"6px 16px",background:"#4a6741",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"å±¥æ­´ã‹ã‚‰ç”³è«‹ã™ã‚‹"})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"80px 1fr 1fr 1fr 1fr",gap:"8px",marginBottom:"12px",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"12px",color:"#333",fontWeight:"bold",background:"#f5f5f5",padding:"8px",borderRadius:"4px"},children:"è²¸å‡ºå…ƒ"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#666",marginBottom:"2px"},children:"ä¼æ¥­å"}),(0,t.jsx)("input",{type:"text",value:c,onChange:e=>g(e.target.value),style:{width:"100%",padding:"6px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",boxSizing:"border-box"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#666",marginBottom:"2px"},children:"æ‹…å½“è€…"}),(0,t.jsx)("input",{type:"text",value:u,onChange:e=>b(e.target.value),style:{width:"100%",padding:"6px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",boxSizing:"border-box"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#666",marginBottom:"2px"},children:"é€£çµ¡å…ˆ"}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>f(e.target.value),style:{width:"100%",padding:"6px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",boxSizing:"border-box"}})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"11px",color:"#666",marginBottom:"2px"},children:"mail"}),(0,t.jsx)("input",{type:"email",value:j,onChange:e=>m(e.target.value),style:{width:"100%",padding:"6px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",boxSizing:"border-box"}})]})]}),(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"12px",gap:"8px",alignItems:"center"},children:[(0,t.jsx)("label",{style:{fontSize:"12px",color:"#333",fontWeight:"bold"},children:"ç”³è«‹æ—¥"}),(0,t.jsx)("input",{type:"date",value:v,onChange:e=>S(e.target.value),style:{padding:"6px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",width:"150px"}})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"80px 1fr 80px 1fr",gap:"8px",marginBottom:"12px",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"12px",color:"#333",fontWeight:"bold",background:"#f5f5f5",padding:"8px",borderRadius:"4px"},children:"ç®¡ç†éƒ¨ç½²"}),(0,t.jsx)("div",{children:(0,t.jsx)(s.SearchableSelect,{value:k,onChange:w,options:o,placeholder:"é¸æŠž"})}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"#333",fontWeight:"bold",background:"#f5f5f5",padding:"8px",borderRadius:"4px"},children:"ç”³è«‹è€…"}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"text",value:z,onChange:e=>C(e.target.value),style:{width:"100%",padding:"6px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",boxSizing:"border-box"}})})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"80px 1fr 80px 1fr 80px 1fr",gap:"8px",marginBottom:"12px",alignItems:"center"},children:[(0,t.jsx)("div",{style:{fontSize:"12px",color:"#333",fontWeight:"bold",background:"#f5f5f5",padding:"8px",borderRadius:"4px"},children:"è¨­ç½®éƒ¨é–€"}),(0,t.jsx)("div",{children:(0,t.jsx)(s.SearchableSelect,{value:R,onChange:A,options:r,placeholder:"é¸æŠž"})}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"#333",fontWeight:"bold",background:"#f5f5f5",padding:"8px",borderRadius:"4px"},children:"è¨­ç½®éƒ¨ç½²"}),(0,t.jsx)("div",{children:(0,t.jsx)(s.SearchableSelect,{value:I,onChange:W,options:o,placeholder:"é¸æŠž"})}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"#333",fontWeight:"bold",background:"#f5f5f5",padding:"8px",borderRadius:"4px"},children:"è¨­ç½®å®¤å"}),(0,t.jsx)("div",{children:(0,t.jsx)("input",{type:"text",value:T,onChange:e=>B(e.target.value),placeholder:"å…¥åŠ›",style:{width:"100%",padding:"6px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",boxSizing:"border-box"}})})]})]}),(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsx)("div",{style:{fontSize:"12px",color:"#333",fontWeight:"bold",background:"#f5f5f5",padding:"8px",borderRadius:"4px",display:"inline-block",marginBottom:"8px"},children:"è²¸å‡ºç›®çš„"}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, auto)",gap:"8px 24px",fontSize:"12px"},children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"checkbox",checked:D.demo,onChange:e=>$(t=>({...t,demo:e.target.checked}))}),"ãƒ‡ãƒ¢"]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"checkbox",checked:D.clinicalTrial,onChange:e=>$(t=>({...t,clinicalTrial:e.target.checked}))}),"è‡¨åºŠè©¦ç”¨ï¼ˆæœ‰åŠ¹æ€§ãƒ»å®‰å…¨æ€§ã€æ“ä½œæ€§ç­‰ã®ç¢ºèªï¼‰"]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"checkbox",checked:D.emergency,onChange:e=>$(t=>({...t,emergency:e.target.checked}))}),"ç·Šæ€¥æ™‚ãƒ»ç½å®³æ™‚å¯¾å¿œ"]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"checkbox",checked:D.accident,onChange:e=>$(t=>({...t,accident:e.target.checked}))}),"äº‹æ•…ãƒ»æ•…éšœå¯¾å¿œ"]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"checkbox",checked:D.training,onChange:e=>$(t=>({...t,training:e.target.checked}))}),"ç ”ä¿®"]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"checkbox",checked:D.research,onChange:e=>$(t=>({...t,research:e.target.checked}))}),"ç ”ç©¶ç›®çš„ãƒ»å…¬ç›Šçš„ç ”ç©¶æ´»å‹•"]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"checkbox",checked:D.deliveryDelay,onChange:e=>$(t=>({...t,deliveryDelay:e.target.checked}))}),"ç´æœŸé…å»¶å¯¾å¿œ"]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"checkbox",checked:D.other,onChange:e=>$(t=>({...t,other:e.target.checked}))}),"ãã®ä»–"]})]})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"16px",flexWrap:"wrap"},children:[(0,t.jsx)("span",{style:{fontSize:"12px",color:"#333",fontWeight:"bold"},children:"å¸Œæœ›ç´æœŸ"}),(0,t.jsx)("select",{value:M,onChange:e=>q(Number(e.target.value)),style:{padding:"6px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px"},children:et.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("span",{style:{fontSize:"12px"},children:"å¹´"}),(0,t.jsx)("select",{value:E,onChange:e=>L(Number(e.target.value)),style:{padding:"6px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px"},children:ed.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("span",{style:{fontSize:"12px"},children:"æœˆ"}),(0,t.jsx)("span",{style:{fontSize:"12px",color:"#333",fontWeight:"bold",marginLeft:"16px"},children:"è¿”å´æ—¥"}),(0,t.jsx)("select",{value:P,onChange:e=>Y(Number(e.target.value)),style:{padding:"6px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px"},children:et.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("span",{style:{fontSize:"12px"},children:"å¹´"}),(0,t.jsx)("select",{value:F,onChange:e=>O(Number(e.target.value)),style:{padding:"6px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px"},children:ed.map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("span",{style:{fontSize:"12px"},children:"æœˆ"}),(0,t.jsx)("span",{style:{fontSize:"12px",color:"#333",fontWeight:"bold",marginLeft:"16px"},children:"ç—‡ä¾‹æ•°"}),(0,t.jsx)("input",{type:"text",value:H,onChange:e=>V(e.target.value),style:{width:"60px",padding:"6px 8px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px"}}),(0,t.jsx)("span",{style:{fontSize:"12px"},children:"ä»¶/æœˆ"})]}),(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[(0,t.jsx)("div",{style:{fontSize:"12px",color:"#333",fontWeight:"bold",background:"#f5f5f5",padding:"8px",borderRadius:"4px"},children:"è²¸å‡ºæ©Ÿå™¨"}),(0,t.jsx)("button",{onClick:()=>{let e=(window.screen.width-1200)/2,t=(window.screen.height-800)/2;window.open("/medical-device-mgmt/asset-master?mode=simple","AssetMasterWindow",`width=1200,height=800,left=${e},top=${t},resizable=yes,scrollbars=yes`)},style:{padding:"6px 16px",background:"#4a6741",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:"è³‡ç”£ãƒžã‚¹ã‚¿ã‹ã‚‰é¸æŠžã™ã‚‹"})]}),(0,t.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden"},children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{background:"#f8f9fa"},children:[(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600},children:"å“ç›®"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600},children:"åž‹å¼"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"70px"},children:"æ•°é‡"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"70px"},children:"å˜ä½"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"50px"},children:"å‰Šé™¤"})]})}),(0,t.jsx)("tbody",{children:0===G.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:6,style:{padding:"24px",textAlign:"center",color:"#999",border:"1px solid #ddd"},children:"è²¸å‡ºæ©Ÿå™¨ã‚’è³‡ç”£ãƒžã‚¹ã‚¿ã‹ã‚‰é¸æŠžã—ã¦ãã ã•ã„"})}):G.map((e,d)=>(0,t.jsxs)("tr",{style:{background:d%2==0?"white":"#fafafa"},children:[(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.item}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.maker}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.model}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:(0,t.jsx)("input",{type:"number",value:e.quantity,onChange:e=>{let t=[...G];t[d].quantity=Number(e.target.value)||1,U(t)},min:1,style:{width:"100%",padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",textAlign:"center",boxSizing:"border-box",fontVariantNumeric:"tabular-nums"}})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:(0,t.jsx)("input",{type:"text",value:e.unit,onChange:e=>{let t=[...G];t[d].unit=e.target.value,U(t)},placeholder:"å°",style:{width:"100%",padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",textAlign:"center",boxSizing:"border-box"}})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd",textAlign:"center"},children:(0,t.jsx)("button",{onClick:()=>{U(e=>e.filter((e,t)=>t!==d))},style:{padding:"4px 8px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},"aria-label":`${e.item}ã‚’å‰Šé™¤`,children:"å‰Šé™¤"})})]},d))})]})})]}),(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsx)("div",{style:{fontSize:"12px",color:"#333",fontWeight:"bold",marginBottom:"12px"},children:"è²¸å‡ºæœŸé–“ä¸­ã®è²»ç”¨è² æ‹…"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[{key:"installation",label:"1. å½“è©²åŒ»ç™‚æ©Ÿå™¨å…·ã®è¨­ç½®"},{key:"removal",label:"2. å½“è©²åŒ»ç™‚æ©Ÿå™¨å…·ã®æ’¤åŽ»"},{key:"maintenance",label:"3. è²¸å‡ºæœŸé–“ä¸­ã®ä¿å®ˆãƒ»ä¿®ç†è²»"},{key:"consumables",label:"4. è²¸å‡ºæœŸé–“ä¸­ã®æ¶ˆè€—å“ç­‰"},{key:"other",label:"5. ãã®ä»–è²»ç”¨"}].map(e=>(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"220px 1fr",gap:"16px",alignItems:"center"},children:[(0,t.jsx)("span",{style:{fontSize:"12px"},children:e.label}),(0,t.jsxs)("div",{style:{display:"flex",gap:"24px"},children:[(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"radio",name:`cost-${e.key}`,checked:"lender"===Q[e.key],onChange:()=>ei(e.key,"lender")}),"è²¸å‡ºå…ƒè² æ‹…"]}),(0,t.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"radio",name:`cost-${e.key}`,checked:"borrower"===Q[e.key],onChange:()=>ei(e.key,"borrower")}),"è²¸å‡ºå…ˆè² æ‹…"]})]})]},e.key))})]}),(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsx)("label",{style:{display:"block",fontSize:"12px",fontWeight:"bold",color:"#333",marginBottom:"8px"},children:"ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆè²¸å‡ºå¸Œæœ›ç†ç”±ä»–ï¼‰"}),(0,t.jsx)("textarea",{value:K,onChange:e=>J(e.target.value),rows:3,style:{width:"100%",padding:"10px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",resize:"vertical",boxSizing:"border-box"}})]}),(0,t.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,t.jsx)("div",{style:{fontSize:"12px",fontWeight:"bold",background:"#4a6741",color:"white",padding:"6px 12px",display:"inline-block",marginBottom:"8px"},children:"æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,t.jsxs)("label",{style:{padding:"6px 16px",background:"#f0f0f0",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:["ãƒ•ã‚¡ã‚¤ãƒ«ã®é¸æŠž",(0,t.jsx)("input",{type:"file",multiple:!0,onChange:e=>{let t=e.target.files;t&&Z(e=>[...e,...Array.from(t)])},style:{display:"none"}})]}),(0,t.jsx)("span",{style:{fontSize:"12px",color:"#666"},children:X.length>0?`${X.length}ä»¶ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒé¸æŠžã•ã‚Œã¦ã„ã¾ã™`:"ãƒ•ã‚¡ã‚¤ãƒ«ãŒé¸æŠžã•ã‚Œã¦ã„ã¾ã›ã‚“"})]}),X.length>0&&(0,t.jsx)("div",{style:{marginBottom:"8px"},children:X.map((e,d)=>(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"12px",color:"#333"},children:[(0,t.jsxs)("span",{children:["ðŸ“Ž ",e.name]}),(0,t.jsx)("button",{onClick:()=>Z(e=>e.filter((e,t)=>t!==d)),style:{background:"none",border:"none",color:"#e74c3c",cursor:"pointer",fontSize:"12px"},"aria-label":`${e.name}ã‚’å‰Šé™¤`,children:"Ã—"})]},d))}),(0,t.jsx)("p",{style:{fontSize:"11px",color:"#666",margin:0},children:"è¦æœ›æ©Ÿç¨®ã®è¦‹ç©æ›¸ãƒ»ä¿®ç†ä¸èƒ½è¨¼æ˜Žãªã©æ‰‹æŒã¡ã®æ›¸é¡žã‚’æ·»ä»˜ã—ã¦ãã ã•ã„"})]})]}),(0,t.jsx)("div",{style:{padding:"16px 20px",borderTop:"1px solid #ddd",background:"#f8f9fa",display:"flex",justifyContent:"center"},children:(0,t.jsx)("button",{onClick:()=>{alert("è¨˜è¼‰å†…å®¹ã‚’ç¢ºèªã—ã¾ã™"),l?.(),i()},style:{padding:"12px 48px",background:"#4a6741",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"è¨˜è¼‰å†…å®¹ã‚’ç¢ºèªã™ã‚‹"})})]})}),p&&(0,t.jsx)("div",{onClick:()=>x(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1100},children:(0,t.jsxs)("div",{onClick:e=>e.stopPropagation(),style:{background:"white",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"80vh",boxShadow:"0 4px 20px rgba(0,0,0,0.3)",overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,t.jsxs)("div",{style:{background:"#4a6741",color:"white",padding:"16px 20px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("span",{style:{fontSize:"16px",fontWeight:"bold"},children:"å€Ÿç”¨ç”³è«‹å±¥æ­´ã‹ã‚‰é¸æŠž"}),(0,t.jsx)("button",{onClick:()=>x(!1),style:{background:"transparent",border:"none",color:"white",fontSize:"20px",cursor:"pointer",padding:"0"},"aria-label":"é–‰ã˜ã‚‹",children:"Ã—"})]}),(0,t.jsxs)("div",{style:{flex:1,overflowY:"auto",padding:"16px"},children:[(0,t.jsx)("p",{style:{fontSize:"13px",color:"#666",marginBottom:"16px"},children:"éŽåŽ»ã®ç”³è«‹å±¥æ­´ã‚’é¸æŠžã™ã‚‹ã¨ã€ãã®å†…å®¹ãŒç”³è«‹ãƒ•ã‚©ãƒ¼ãƒ ã«ã‚»ãƒƒãƒˆã•ã‚Œã¾ã™ã€‚"}),(0,t.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:h.map(e=>{var d;let i;return(0,t.jsxs)("div",{onClick:()=>{g(e.companyName),b(e.contactPerson),f(e.contactInfo),m(e.email),w(e.managementDepartment),C(e.applicantName),A(e.installationDivision),W(e.installationDepartment),B(e.installationRoom),$(e.purposes),q(e.desiredDeliveryYear),L(e.desiredDeliveryMonth),Y(e.returnYear),O(e.returnMonth),V(e.casesPerMonth),U(e.assets.map(e=>({...e}))),_(e.costBurdens),J(e.comment),x(!1)},style:{border:"1px solid #ddd",borderRadius:"8px",padding:"16px",cursor:"pointer",transition:"all 0.2s",background:"#fafafa"},onMouseEnter:e=>{e.currentTarget.style.background="#e8f5e9",e.currentTarget.style.borderColor="#4a6741"},onMouseLeave:e=>{e.currentTarget.style.background="#fafafa",e.currentTarget.style.borderColor="#ddd"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[(0,t.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold",color:"#333"},children:e.companyName}),(0,t.jsxs)("div",{style:{fontSize:"12px",color:"#666",fontVariantNumeric:"tabular-nums"},children:["ç”³è«‹æ—¥: ",e.applicationDate]})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px",fontSize:"12px",color:"#666"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#999"},children:"è²¸å‡ºæ©Ÿå™¨: "}),e.assets.map(e=>`${e.item} (${e.maker})`).join(", ")]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#999"},children:"è¨­ç½®å ´æ‰€: "}),e.installationDepartment," / ",e.installationRoom]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#999"},children:"è²¸å‡ºç›®çš„: "}),(d=e.purposes,i=[],d.demo&&i.push("ãƒ‡ãƒ¢"),d.clinicalTrial&&i.push("è‡¨åºŠè©¦ç”¨"),d.emergency&&i.push("ç·Šæ€¥æ™‚å¯¾å¿œ"),d.accident&&i.push("äº‹æ•…å¯¾å¿œ"),d.training&&i.push("ç ”ä¿®"),d.research&&i.push("ç ”ç©¶"),d.deliveryDelay&&i.push("ç´æœŸé…å»¶"),d.other&&i.push("ãã®ä»–"),i).join(", ")||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#999"},children:"è²¸å‡ºæœŸé–“: "}),e.desiredDeliveryYear,"å¹´",e.desiredDeliveryMonth,"æœˆ ã€œ ",e.returnYear,"å¹´",e.returnMonth,"æœˆ"]})]}),e.comment&&(0,t.jsxs)("div",{style:{marginTop:"8px",fontSize:"11px",color:"#888",borderTop:"1px solid #eee",paddingTop:"8px"},children:["ã‚³ãƒ¡ãƒ³ãƒˆ: ",e.comment]})]},e.id)})})]}),(0,t.jsx)("div",{style:{padding:"12px 20px",borderTop:"1px solid #ddd",background:"#f8f9fa",display:"flex",justifyContent:"center"},children:(0,t.jsx)("button",{onClick:()=>x(!1),style:{padding:"8px 24px",background:"#95a5a6",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},children:"é–‰ã˜ã‚‹"})})]})})]})}var u=e.i(54420),b=e.i(80922);function y({isOpen:e,onClose:i,onSuccess:l}){let{departments:n,facilities:r}=(0,a.useMasterStore)(),{user:o}=(0,u.useAuthStore)(),{addApplication:p}=(0,b.usePurchaseApplicationStore)(),x=(0,d.useRef)(null),[c]=(0,d.useState)(o?.department||"æ‰‹è¡“éƒ¨"),[h]=(0,d.useState)(o?.username||"æ‰‹è¡“ ç´ºå¤ªéƒŽ"),[g]=(0,d.useState)(()=>{let e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}),[y,f]=(0,d.useState)(""),[j,m]=(0,d.useState)(""),[v,S]=(0,d.useState)(""),[k,w]=(0,d.useState)("1"),[z,C]=(0,d.useState)(()=>String(new Date().getFullYear()+1)),[R,A]=(0,d.useState)("3"),[I,W]=(0,d.useState)([]),[T,B]=(0,d.useState)(null),[D,$]=(0,d.useState)(""),[N,M]=(0,d.useState)(""),[q,E]=(0,d.useState)("ä»¶ï¼æœˆ"),[L,P]=(0,d.useState)(""),[Y,F]=(0,d.useState)([]),[O,H]=(0,d.useState)("disconnected"),[V,G]=(0,d.useState)(""),[U,Q]=(0,d.useState)("not-required"),[_,K]=(0,d.useState)(""),[J,X]=(0,d.useState)(!1),Z=[...new Set(n.map(e=>e.division))],ee=[...new Set(n.map(e=>e.department))],et=(0,d.useCallback)(e=>{if(e.origin===window.location.origin&&e.data?.type==="ASSET_SELECTED"&&e.data?.assets){let t=e.data.assets;if(t.length>0){let e=t[0],d=sessionStorage.getItem("editingEquipmentIndex");if(null!==d){let t=parseInt(d,10);W(d=>d.map((d,i)=>i===t?{...d,item:e.item||"",maker:e.maker||"",model:e.model||""}:d)),sessionStorage.removeItem("editingEquipmentIndex"),B(null)}}}},[]);if((0,d.useEffect)(()=>{if(e)return window.addEventListener("message",et),()=>{window.removeEventListener("message",et)}},[e,et]),!e)return null;let ed=(e,t)=>{W(d=>{let i=[...d],l="up"===t?e-1:e+1;return l<0||l>=i.length?d:([i[e],i[l]]=[i[l],i[e]],i)})},ei=e=>["ç¬¬ä¸€å¸Œæœ›","ç¬¬äºŒå¸Œæœ›","ç¬¬ä¸‰å¸Œæœ›"][e]||"",el=(e,t,d)=>{W(i=>i.map((i,l)=>l===e?{...i,[t]:d}:i))},en={marginBottom:"24px"},er={fontSize:"14px",fontWeight:"bold",color:"#4a6741",marginBottom:"16px",paddingBottom:"8px",borderBottom:"2px solid #4a6741"},es={display:"flex",flexDirection:"column",gap:"6px"},eo={fontSize:"13px",fontWeight:600,color:"#333"},ea={padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"14px",boxSizing:"border-box"},ep={padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",background:"#f5f5f5",color:"#666"},ex={padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"14px",cursor:"pointer"},ec={display:"flex",gap:"16px",alignItems:"center"},eh={display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"14px"};return(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:i,children:(0,t.jsxs)("div",{style:{background:"white",borderRadius:"8px",width:"95%",maxWidth:"900px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{style:{background:"#4a6741",color:"white",padding:"16px 24px",fontSize:"18px",fontWeight:"bold",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("span",{children:J?"æ–°è¦è³¼å…¥ç”³è«‹ - å†…å®¹ç¢ºèª":"æ–°è¦è³¼å…¥ç”³è«‹"}),(0,t.jsx)("button",{style:{background:"none",border:"none",color:"white",fontSize:"24px",cursor:"pointer",padding:"0",width:"30px",height:"30px"},onClick:i,"aria-label":"é–‰ã˜ã‚‹",children:"Ã—"})]}),(0,t.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:J?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{background:"#e8f5e9",padding:"12px 16px",borderRadius:"6px",marginBottom:"20px",textAlign:"center"},children:(0,t.jsx)("span",{style:{color:"#2e7d32",fontWeight:"bold"},children:"ä»¥ä¸‹ã®å†…å®¹ã§ç”³è«‹ã—ã¾ã™ã€‚å†…å®¹ã‚’ã”ç¢ºèªãã ã•ã„ã€‚"})}),(0,t.jsxs)("div",{style:en,children:[(0,t.jsx)("div",{style:er,children:"ç”³è«‹åŸºæœ¬æƒ…å ±"}),(0,t.jsx)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"ç®¡ç†éƒ¨ç½²"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:c}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"ç”³è«‹è€…"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:h})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"ç”³è«‹æ—¥"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:g}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"å„ªå…ˆé †ä½"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:k})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¨­ç½®éƒ¨é–€"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:y||"-"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¨­ç½®éƒ¨ç½²"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:j||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¨­ç½®å®¤å"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:v||"-"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"å¸Œæœ›ç´æœŸ"}),(0,t.jsxs)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:[z,"å¹´",R,"æœˆ"]})]})]})})]}),(0,t.jsxs)("div",{style:en,children:[(0,t.jsx)("div",{style:er,children:"è¦æœ›æ©Ÿå™¨"}),(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{background:"#f8f9fa"},children:[(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",width:"80px"},children:"å¸Œæœ›é †"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"å“ç›®"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"åž‹å¼"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",width:"60px"},children:"æ•°é‡"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",width:"60px"},children:"å˜ä½"})]})}),(0,t.jsx)("tbody",{children:I.filter(e=>""!==e.item.trim()).map((e,d)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,color:"#4a6741"},children:ei(d)}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.item}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.maker||"-"}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.model||"-"}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontVariantNumeric:"tabular-nums"},children:e.quantity}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:e.unit})]},d))})]})]}),(0,t.jsxs)("div",{style:en,children:[(0,t.jsx)("div",{style:er,children:"ä½¿ç”¨ç”¨é€”åŠã³ä»¶æ•°"}),(0,t.jsx)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:(0,t.jsx)("tbody",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"ç”¨é€”"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:D||"-"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"ç—‡ä¾‹æ•°"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:N?`${N} ${q}`:"-"})]})})})]}),L&&(0,t.jsxs)("div",{style:en,children:[(0,t.jsx)("div",{style:er,children:"ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆå¿…è¦ç†ç”± ä»–ï¼‰"}),(0,t.jsx)("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #ddd",whiteSpace:"pre-wrap"},children:L})]}),Y.length>0&&(0,t.jsxs)("div",{style:en,children:[(0,t.jsx)("div",{style:er,children:"æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«"}),(0,t.jsx)("ul",{style:{margin:0,paddingLeft:"20px"},children:Y.map((e,d)=>(0,t.jsx)("li",{style:{padding:"4px 0"},children:e.name},d))})]}),(0,t.jsxs)("div",{style:en,children:[(0,t.jsx)("div",{style:er,children:"ã‚·ã‚¹ãƒ†ãƒ æŽ¥ç¶šè¦æœ›"}),(0,t.jsx)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"180px"},children:"ç¾åœ¨ã®æŽ¥ç¶šçŠ¶æ³"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:"connected"===O?"æŽ¥ç¶šä¸­":"æŽ¥ç¶šç„¡ã—"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:V||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šè¦æœ›"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:"required"===U?"æŽ¥ç¶šè¦æœ›ã‚ã‚Š":"æŽ¥ç¶šä¸è¦"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:_||"-"})]})]})})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:en,children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("div",{style:er,children:"ç”³è«‹åŸºæœ¬æƒ…å ±"}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"#666",textAlign:"right",marginBottom:"12px"},children:"ç”³è«‹æƒ…å ±ã«å¤‰æ›´ãŒã‚ã‚Œã°è¨˜å…¥ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",alignItems:"end"},children:[(0,t.jsxs)("div",{style:es,children:[(0,t.jsx)("label",{style:eo,children:"ç®¡ç†éƒ¨ç½²"}),(0,t.jsx)("input",{style:ep,value:c,disabled:!0})]}),(0,t.jsxs)("div",{style:es,children:[(0,t.jsx)("label",{style:eo,children:"ç”³è«‹è€…"}),(0,t.jsx)("input",{style:ep,value:h,disabled:!0})]}),(0,t.jsxs)("div",{style:es,children:[(0,t.jsx)("label",{style:eo,children:"ç”³è«‹æ—¥"}),(0,t.jsx)("input",{style:ep,value:g,disabled:!0})]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{style:es,children:[(0,t.jsx)("label",{style:eo,children:"è¨­ç½®éƒ¨é–€"}),(0,t.jsx)(s.SearchableSelect,{value:y,onChange:f,options:Z,placeholder:"é¸æŠžã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:es,children:[(0,t.jsx)("label",{style:eo,children:"è¨­ç½®éƒ¨ç½²"}),(0,t.jsx)(s.SearchableSelect,{value:j,onChange:m,options:ee,placeholder:"é¸æŠžã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:es,children:[(0,t.jsx)("label",{style:eo,children:"è¨­ç½®å®¤å"}),(0,t.jsx)("input",{style:ea,value:v,onChange:e=>S(e.target.value),placeholder:"æ‰‹è¡“å®¤B"})]}),(0,t.jsxs)("div",{style:es,children:[(0,t.jsx)("label",{style:eo,children:"å„ªå…ˆé †ä½"}),(0,t.jsx)("select",{style:ex,value:k,onChange:e=>w(e.target.value),children:[1,2,3,4,5].map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{style:es,children:[(0,t.jsx)("label",{style:eo,children:"å¸Œæœ›ç´æœŸ"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("select",{style:{...ex,width:"90px"},value:z,onChange:e=>C(e.target.value),children:[2025,2026,2027,2028,2029,2030].map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("span",{children:"å¹´"}),(0,t.jsx)("select",{style:{...ex,width:"70px"},value:R,onChange:e=>A(e.target.value),children:Array.from({length:12},(e,t)=>t+1).map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("span",{children:"æœˆ"})]})]})]})]}),(0,t.jsxs)("div",{style:en,children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[(0,t.jsx)("div",{style:er,children:"è¦æœ›æ©Ÿå™¨ï¼ˆæœ€å¤§3ã¤ï¼‰"}),(0,t.jsxs)("button",{onClick:()=>{I.length>=3||W(e=>[...e,{item:"",maker:"",model:"",quantity:1,unit:"å°"}])},disabled:I.length>=3,style:{padding:"6px 16px",background:I.length>=3?"#ccc":"#4a6741",color:"white",border:"none",borderRadius:"4px",cursor:I.length>=3?"not-allowed":"pointer",fontSize:"12px"},children:["+ è³‡ç”£ã‚’è¿½åŠ  (",I.length,"/",3,")"]})]}),(0,t.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden"},children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{background:"#f8f9fa"},children:[(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"80px"},children:"å¸Œæœ›é †"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"50px"},children:"é †åº"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600},children:"å“ç›®"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600},children:"åž‹å¼"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"60px"},children:"æ•°é‡"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"60px"},children:"å˜ä½"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"120px"},children:"é¸æŠž"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"50px"},children:"å‰Šé™¤"})]})}),(0,t.jsx)("tbody",{children:0===I.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:9,style:{padding:"24px",textAlign:"center",color:"#999",border:"1px solid #ddd"},children:"ã€Œ+ è³‡ç”£ã‚’è¿½åŠ ã€ãƒœã‚¿ãƒ³ã§è¦æœ›æ©Ÿå™¨ã‚’è¿½åŠ ã—ã¦ãã ã•ã„"})}):I.map((e,d)=>(0,t.jsxs)("tr",{style:{background:d%2==0?"white":"#fafafa"},children:[(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,color:"#4a6741"},children:ei(d)}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd",textAlign:"center"},children:(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[(0,t.jsx)("button",{onClick:()=>ed(d,"up"),disabled:0===d,style:{padding:"2px 6px",background:0===d?"#ccc":"#6c757d",color:"white",border:"none",borderRadius:"2px",cursor:0===d?"not-allowed":"pointer",fontSize:"10px"},"aria-label":"ä¸Šã«ç§»å‹•",children:"â–²"}),(0,t.jsx)("button",{onClick:()=>ed(d,"down"),disabled:d===I.length-1,style:{padding:"2px 6px",background:d===I.length-1?"#ccc":"#6c757d",color:"white",border:"none",borderRadius:"2px",cursor:d===I.length-1?"not-allowed":"pointer",fontSize:"10px"},"aria-label":"ä¸‹ã«ç§»å‹•",children:"â–¼"})]})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:(0,t.jsx)("input",{type:"text",value:e.item,onChange:e=>el(d,"item",e.target.value),placeholder:"å“ç›®",style:{width:"100%",padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",boxSizing:"border-box"}})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:(0,t.jsx)("input",{type:"text",value:e.maker,onChange:e=>el(d,"maker",e.target.value),placeholder:"ãƒ¡ãƒ¼ã‚«ãƒ¼",style:{width:"100%",padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",boxSizing:"border-box"}})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:(0,t.jsx)("input",{type:"text",value:e.model,onChange:e=>el(d,"model",e.target.value),placeholder:"åž‹å¼",style:{width:"100%",padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",boxSizing:"border-box"}})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:(0,t.jsx)("input",{type:"number",value:e.quantity,onChange:e=>el(d,"quantity",Number(e.target.value)||1),min:1,style:{width:"100%",padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",textAlign:"center",boxSizing:"border-box",fontVariantNumeric:"tabular-nums"}})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:(0,t.jsxs)("select",{value:e.unit,onChange:e=>el(d,"unit",e.target.value),style:{width:"100%",padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",textAlign:"center",boxSizing:"border-box"},children:[(0,t.jsx)("option",{value:"å°",children:"å°"}),(0,t.jsx)("option",{value:"å€‹",children:"å€‹"}),(0,t.jsx)("option",{value:"å¼",children:"å¼"}),(0,t.jsx)("option",{value:"ã‚»ãƒƒãƒˆ",children:"ã‚»ãƒƒãƒˆ"})]})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd",textAlign:"center"},children:(0,t.jsx)("button",{onClick:()=>{let e,t;return sessionStorage.setItem("editingEquipmentIndex",String(d)),B(d),e=(window.screen.width-1200)/2,t=(window.screen.height-800)/2,void window.open("/medical-device-mgmt/asset-master?mode=simple","AssetMasterWindow",`width=1200,height=800,left=${e},top=${t},resizable=yes,scrollbars=yes`)},style:{padding:"4px 8px",background:"#4a6741",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px",whiteSpace:"nowrap"},children:"è³‡ç”£ãƒžã‚¹ã‚¿ã‹ã‚‰é¸æŠž"})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd",textAlign:"center"},children:(0,t.jsx)("button",{onClick:()=>{W(e=>e.filter((e,t)=>t!==d))},style:{padding:"4px 8px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},"aria-label":`${e.item||"æ©Ÿå™¨"}ã‚’å‰Šé™¤`,children:"å‰Šé™¤"})})]},d))})]})})]}),(0,t.jsxs)("div",{style:en,children:[(0,t.jsx)("div",{style:er,children:"ä½¿ç”¨ç”¨é€”åŠã³ä»¶æ•°"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"flex-end"},children:[(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("label",{style:eo,children:"ç”¨é€”"}),(0,t.jsx)("input",{style:{...ea,width:"100%"},value:D,onChange:e=>$(e.target.value),placeholder:"ä½¿ç”¨ç”¨é€”ã‚’å…¥åŠ›"})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("label",{style:eo,children:"ç—‡ä¾‹æ•°"}),(0,t.jsx)("input",{type:"number",style:{...ea,width:"80px"},value:N,onChange:e=>M(e.target.value)}),(0,t.jsxs)("select",{style:ex,value:q,onChange:e=>E(e.target.value),children:[(0,t.jsx)("option",{value:"ä»¶ï¼æœˆ",children:"ä»¶ï¼æœˆ"}),(0,t.jsx)("option",{value:"ä»¶ï¼é€±",children:"ä»¶ï¼é€±"}),(0,t.jsx)("option",{value:"ä»¶ï¼å¹´",children:"ä»¶ï¼å¹´"})]})]})]})]}),(0,t.jsxs)("div",{style:en,children:[(0,t.jsx)("div",{style:er,children:"ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆå¿…è¦ç†ç”± ä»–ï¼‰"}),(0,t.jsx)("textarea",{style:{width:"100%",minHeight:"100px",padding:"12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"14px",resize:"vertical",boxSizing:"border-box"},value:L,onChange:e=>P(e.target.value),placeholder:"ç”³è«‹ç†ç”±ã‚„ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:en,children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,t.jsx)("button",{style:{padding:"8px 16px",background:"#4a6741",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"bold"},children:"æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«"}),(0,t.jsx)("button",{style:{padding:"8px 16px",background:"white",color:"#333",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},onClick:()=>x.current?.click(),children:"ãƒ•ã‚¡ã‚¤ãƒ«ã®é¸æŠž"}),(0,t.jsx)("span",{style:{fontSize:"13px",color:"#666"},children:0===Y.length?"ãƒ•ã‚¡ã‚¤ãƒ«ãŒé¸æŠžã•ã‚Œã¦ã„ã¾ã›ã‚“":`${Y.length}ä»¶é¸æŠžä¸­`}),(0,t.jsx)("input",{ref:x,type:"file",multiple:!0,style:{display:"none"},onChange:e=>{var t;(t=e.target.files)&&F(e=>[...e,...Array.from(t)])}})]}),Y.length>0&&(0,t.jsx)("div",{style:{marginTop:"8px",display:"flex",gap:"8px",flexWrap:"wrap"},children:Y.map((e,d)=>(0,t.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",background:"#e3f2fd",borderRadius:"4px",fontSize:"12px"},children:[e.name,(0,t.jsx)("button",{onClick:()=>{F(e=>e.filter((e,t)=>t!==d))},style:{background:"none",border:"none",cursor:"pointer",color:"#e74c3c"},children:"Ã—"})]},d))}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"#e74c3c",marginTop:"8px"},children:"è¦æœ›æ©Ÿç¨®ã®è¦‹ç©æ›¸ãƒ»ä¿®ç†ä¸èƒ½è¨¼æ˜Žãªã©æ‰‹æŒã¡ã®æ›¸é¡žã‚’æ·»ä»˜ã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:en,children:[(0,t.jsx)("div",{style:er,children:"ã‚·ã‚¹ãƒ†ãƒ æŽ¥ç¶šè¦æœ›"}),(0,t.jsxs)("div",{style:{display:"grid",gap:"16px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:eo,children:"ç¾åœ¨ã®æŽ¥ç¶šçŠ¶æ³"}),(0,t.jsxs)("div",{style:{...ec,marginTop:"8px"},children:[(0,t.jsxs)("label",{style:eh,children:[(0,t.jsx)("input",{type:"radio",checked:"connected"===O,onChange:()=>H("connected")}),"æŽ¥ç¶šã‚ã‚Š"]}),(0,t.jsxs)("label",{style:eh,children:[(0,t.jsx)("input",{type:"radio",checked:"disconnected"===O,onChange:()=>H("disconnected")}),"æŽ¥ç¶šãªã—"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:eo,children:"ç¾åœ¨ã®æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("input",{style:{...ea,width:"100%",marginTop:"6px"},value:V,onChange:e=>G(e.target.value),placeholder:"æŽ¥ç¶šå…ˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:eo,children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šè¦æœ›"}),(0,t.jsxs)("div",{style:{...ec,marginTop:"8px"},children:[(0,t.jsxs)("label",{style:eh,children:[(0,t.jsx)("input",{type:"radio",checked:"required"===U,onChange:()=>Q("required")}),"æŽ¥ç¶šè¦æœ›"]}),(0,t.jsxs)("label",{style:eh,children:[(0,t.jsx)("input",{type:"radio",checked:"not-required"===U,onChange:()=>Q("not-required")}),"æŽ¥ç¶šä¸è¦"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:eo,children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("input",{style:{...ea,width:"100%",marginTop:"6px"},value:_,onChange:e=>K(e.target.value),placeholder:"æŽ¥ç¶šå…ˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"})]})]})]})]})}),(0,t.jsx)("div",{style:{padding:"16px 24px",borderTop:"1px solid #dee2e6",display:"flex",justifyContent:"center",background:"#f8f9fa"},children:J?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>{X(!1)},style:{padding:"12px 32px",background:"white",color:"#4a6741",border:"1px solid #4a6741",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",marginRight:"16px"},children:"â† ä¿®æ­£ã™ã‚‹"}),(0,t.jsx)("button",{onClick:()=>{let e=I.filter(e=>""!==e.item.trim()),t=e.map(e=>({name:e.item,maker:e.maker,model:e.model,quantity:e.quantity,unit:e.unit}));p({applicationType:"æ–°è¦ç”³è«‹",applicantId:o?.id||"user-unknown",applicantName:h,applicantDepartment:c,assets:t,facility:r.length>0?r[0].facilityName:"ã€‡ã€‡ç—…é™¢",building:"",floor:"",department:y,section:j,roomName:v,desiredDeliveryDate:`${z}-${String(R).padStart(2,"0")}-01`,applicationReason:"",attachedFiles:Y.map(e=>e.name),priority:k,usagePurpose:D,caseCount:N?`${N} ${q}`:"",comment:L,currentConnectionStatus:"connected"===O?"æŽ¥ç¶šä¸­":"æŽ¥ç¶šç„¡ã—",currentConnectionDestination:V,requestConnectionStatus:"required"===U?"æŽ¥ç¶šè¦æœ›ã‚ã‚Š":"æŽ¥ç¶šä¸è¦",requestConnectionDestination:_}),alert(`è³¼å…¥ç”³è«‹ã‚’é€ä¿¡ã—ã¾ã—ãŸ
è¦æœ›æ©Ÿå™¨: ${e.length}ä»¶`),X(!1),i(),l?.()},style:{padding:"12px 32px",background:"#4a6741",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"ç”³è«‹ã™ã‚‹"})]}):(0,t.jsx)("button",{style:{padding:"12px 48px",background:"#4a6741",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"15px",fontWeight:"bold"},onClick:()=>{y&&j?0===I.filter(e=>""!==e.item.trim()).length?alert("è¦æœ›æ©Ÿå™¨ã‚’1ã¤ä»¥ä¸Šå…¥åŠ›ã—ã¦ãã ã•ã„"):X(!0):alert("è¨­ç½®éƒ¨é–€ãƒ»è¨­ç½®éƒ¨ç½²ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")},children:"è¨˜è¼‰å†…å®¹ã‚’ç¢ºèªã™ã‚‹"})})]})})}function f({isOpen:e,onClose:i,assets:l,onSuccess:n}){let{departments:o,facilities:p}=(0,a.useMasterStore)(),{user:x}=(0,u.useAuthStore)(),{addApplication:c}=(0,b.usePurchaseApplicationStore)(),{addApplication:h}=(0,r.useApplicationStore)(),g=(0,d.useRef)(null),[y]=(0,d.useState)(x?.department||"æ‰‹è¡“éƒ¨"),[f]=(0,d.useState)(x?.username||"æ‰‹è¡“ ç´ºå¤ªéƒŽ"),[j]=(0,d.useState)(()=>{let e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}),[m,v]=(0,d.useState)(""),[S,k]=(0,d.useState)(""),[w,z]=(0,d.useState)(""),[C,R]=(0,d.useState)("1"),[A,I]=(0,d.useState)(()=>String(new Date().getFullYear()+1)),[W,T]=(0,d.useState)("3"),[B,D]=(0,d.useState)([]),[$,N]=(0,d.useState)(null),[M,q]=(0,d.useState)(""),[E,L]=(0,d.useState)(""),[P,Y]=(0,d.useState)("ä»¶ï¼æœˆ"),[F,O]=(0,d.useState)(""),[H,V]=(0,d.useState)([]),[G,U]=(0,d.useState)("disconnected"),[Q,_]=(0,d.useState)(""),[K,J]=(0,d.useState)("not-required"),[X,Z]=(0,d.useState)(""),[ee,et]=(0,d.useState)(!1),[ed,ei]=(0,d.useState)(!1),el=[...new Set(o.map(e=>e.division))],en=[...new Set(o.map(e=>e.department))];(0,d.useEffect)(()=>{if(l.length>0&&e){let e=l[0];v(e.department||""),k(e.section||""),z(e.roomName||"")}},[l,e]);let er=(0,d.useCallback)(e=>{if(e.origin===window.location.origin&&e.data?.type==="ASSET_SELECTED"&&e.data?.assets){let t=e.data.assets;if(t.length>0){let e=t[0],d=sessionStorage.getItem("editingEquipmentIndex");if(null!==d){let t=parseInt(d,10);D(d=>d.map((d,i)=>i===t?{...d,item:e.item||"",maker:e.maker||"",model:e.model||""}:d)),sessionStorage.removeItem("editingEquipmentIndex"),N(null)}}}},[]);if((0,d.useEffect)(()=>{if(e)return window.addEventListener("message",er),()=>{window.removeEventListener("message",er)}},[e,er]),!e||0===l.length)return null;let es=(e,t)=>{D(d=>{let i=[...d],l="up"===t?e-1:e+1;return l<0||l>=i.length?d:([i[e],i[l]]=[i[l],i[e]],i)})},eo=e=>["ç¬¬ä¸€å¸Œæœ›","ç¬¬äºŒå¸Œæœ›","ç¬¬ä¸‰å¸Œæœ›"][e]||"",ea=(e,t,d)=>{D(i=>i.map((i,l)=>l===e?{...i,[t]:d}:i))},ep={marginBottom:"24px"},ex={fontSize:"14px",fontWeight:"bold",color:"#e67e22",marginBottom:"16px",paddingBottom:"8px",borderBottom:"2px solid #e67e22"},ec={display:"flex",flexDirection:"column",gap:"6px"},eh={fontSize:"13px",fontWeight:600,color:"#333"},eg={padding:"8px 12px",border:"1px solid #e67e22",borderRadius:"4px",fontSize:"14px",boxSizing:"border-box"},eu={padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",background:"#f5f5f5",color:"#666"},eb={padding:"8px 12px",border:"1px solid #e67e22",borderRadius:"4px",fontSize:"14px",cursor:"pointer"},ey={display:"flex",gap:"16px",alignItems:"center"},ef={display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"14px"};return(0,t.jsx)("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:i,children:(0,t.jsxs)("div",{style:{background:"white",borderRadius:"8px",width:"95%",maxWidth:"950px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{style:{background:"#e67e22",color:"white",padding:"16px 24px",fontSize:"18px",fontWeight:"bold",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("span",{children:ed?"æ›´æ–°è³¼å…¥ç”³è«‹ - å†…å®¹ç¢ºèª":"æ›´æ–°è³¼å…¥ç”³è«‹"}),(0,t.jsx)("button",{style:{background:"none",border:"none",color:"white",fontSize:"24px",cursor:"pointer",padding:"0",width:"30px",height:"30px"},onClick:i,"aria-label":"é–‰ã˜ã‚‹",children:"Ã—"})]}),(0,t.jsx)("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:ed?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{background:"#fff3e0",padding:"12px 16px",borderRadius:"6px",marginBottom:"20px",textAlign:"center"},children:(0,t.jsx)("span",{style:{color:"#e65100",fontWeight:"bold"},children:"ä»¥ä¸‹ã®å†…å®¹ã§ç”³è«‹ã—ã¾ã™ã€‚å†…å®¹ã‚’ã”ç¢ºèªãã ã•ã„ã€‚"})}),(0,t.jsxs)("div",{style:ep,children:[(0,t.jsx)("div",{style:ex,children:"ç”³è«‹åŸºæœ¬æƒ…å ±"}),(0,t.jsx)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"ç®¡ç†éƒ¨ç½²"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:y}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"ç”³è«‹è€…"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:f})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"ç”³è«‹æ—¥"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:j}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"å„ªå…ˆé †ä½"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:C})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¨­ç½®éƒ¨é–€"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:m||"-"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¨­ç½®éƒ¨ç½²"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:S||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¨­ç½®å®¤å"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:w||"-"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"å¸Œæœ›ç´æœŸ"}),(0,t.jsxs)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:[A,"å¹´",W,"æœˆ"]})]})]})})]}),(0,t.jsxs)("div",{style:ep,children:[(0,t.jsx)("div",{style:{...ex,color:"#c0392b",borderBottomColor:"#c0392b"},children:"æ›´æ–°å¯¾è±¡æ©Ÿå™¨ï¼ˆå»ƒæ£„äºˆå®šï¼‰"}),(0,t.jsxs)("div",{style:{background:"#ffebee",border:"1px solid #ef9a9a",borderRadius:"8px",padding:"16px"},children:[(0,t.jsx)("div",{style:{fontSize:"16px",fontWeight:"bold",color:"#c0392b",marginBottom:"12px"},children:l[0]?.name}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px",fontSize:"13px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#666"},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼:"})," ",l[0]?.maker||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#666"},children:"åž‹å¼:"})," ",l[0]?.model||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#666"},children:"è¨­ç½®å ´æ‰€:"})," ",l[0]?.roomName||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#666"},children:"ç®¡ç†ç•ªå·:"})," ",l[0]?.managementNo||"-"]})]})]}),(0,t.jsx)("div",{style:{marginTop:"8px",padding:"8px 12px",background:"#ffebee",borderRadius:"4px",fontSize:"12px",color:"#c0392b",textAlign:"center"},children:"ã“ã®æ©Ÿå™¨ã¯å»ƒæ£„ç”³è«‹ã•ã‚Œã¾ã™"})]}),(0,t.jsxs)("div",{style:ep,children:[(0,t.jsx)("div",{style:ex,children:"è¦æœ›æ©Ÿå™¨ï¼ˆæ–°è¦è³¼å…¥å¸Œæœ›ï¼‰"}),(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{background:"#f8f9fa"},children:[(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",width:"80px"},children:"å¸Œæœ›é †"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"å“ç›®"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left"},children:"åž‹å¼"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",width:"60px"},children:"æ•°é‡"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",width:"60px"},children:"å˜ä½"})]})}),(0,t.jsx)("tbody",{children:B.filter(e=>""!==e.item.trim()).map((e,d)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,color:"#e67e22"},children:eo(d)}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.item}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.maker||"-"}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd"},children:e.model||"-"}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontVariantNumeric:"tabular-nums"},children:e.quantity}),(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center"},children:e.unit})]},d))})]})]}),(0,t.jsxs)("div",{style:ep,children:[(0,t.jsx)("div",{style:ex,children:"ä½¿ç”¨ç”¨é€”åŠã³ä»¶æ•°"}),(0,t.jsx)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:(0,t.jsx)("tbody",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"ç”¨é€”"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:M||"-"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"ç—‡ä¾‹æ•°"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:E?`${E} ${P}`:"-"})]})})})]}),F&&(0,t.jsxs)("div",{style:ep,children:[(0,t.jsx)("div",{style:ex,children:"ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆå¿…è¦ç†ç”± ä»–ï¼‰"}),(0,t.jsx)("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #ddd",whiteSpace:"pre-wrap"},children:F})]}),H.length>0&&(0,t.jsxs)("div",{style:ep,children:[(0,t.jsx)("div",{style:ex,children:"æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«"}),(0,t.jsx)("ul",{style:{margin:0,paddingLeft:"20px"},children:H.map((e,d)=>(0,t.jsx)("li",{style:{padding:"4px 0"},children:e.name},d))})]}),(0,t.jsxs)("div",{style:ep,children:[(0,t.jsx)("div",{style:ex,children:"ã‚·ã‚¹ãƒ†ãƒ æŽ¥ç¶šè¦æœ›"}),(0,t.jsx)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"180px"},children:"ç¾åœ¨ã®æŽ¥ç¶šçŠ¶æ³"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:"connected"===G?"æŽ¥ç¶šä¸­":"æŽ¥ç¶šç„¡ã—"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:Q||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šè¦æœ›"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:"required"===K?"æŽ¥ç¶šè¦æœ›ã‚ã‚Š":"æŽ¥ç¶šä¸è¦"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:X||"-"})]})]})})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:ep,children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("div",{style:ex,children:"ç”³è«‹åŸºæœ¬æƒ…å ±"}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"#666",textAlign:"right",marginBottom:"12px"},children:"ç”³è«‹æƒ…å ±ã«å¤‰æ›´ãŒã‚ã‚Œã°è¨˜å…¥ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",alignItems:"end"},children:[(0,t.jsxs)("div",{style:ec,children:[(0,t.jsx)("label",{style:eh,children:"ç®¡ç†éƒ¨ç½²"}),(0,t.jsx)("input",{style:eu,value:y,disabled:!0})]}),(0,t.jsxs)("div",{style:ec,children:[(0,t.jsx)("label",{style:eh,children:"ç”³è«‹è€…"}),(0,t.jsx)("input",{style:eu,value:f,disabled:!0})]}),(0,t.jsxs)("div",{style:ec,children:[(0,t.jsx)("label",{style:eh,children:"ç”³è«‹æ—¥"}),(0,t.jsx)("input",{style:eu,value:j,disabled:!0})]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{style:ec,children:[(0,t.jsxs)("label",{style:eh,children:["è¨­ç½®éƒ¨é–€ ",(0,t.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,t.jsx)(s.SearchableSelect,{value:m,onChange:v,options:el,placeholder:"é¸æŠžã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:ec,children:[(0,t.jsxs)("label",{style:eh,children:["è¨­ç½®éƒ¨ç½² ",(0,t.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,t.jsx)(s.SearchableSelect,{value:S,onChange:k,options:en,placeholder:"é¸æŠžã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:ec,children:[(0,t.jsx)("label",{style:eh,children:"è¨­ç½®å®¤å"}),(0,t.jsx)("input",{style:eg,value:w,onChange:e=>z(e.target.value),placeholder:"æ‰‹è¡“å®¤B"})]}),(0,t.jsxs)("div",{style:ec,children:[(0,t.jsx)("label",{style:eh,children:"å„ªå…ˆé †ä½"}),(0,t.jsx)("select",{style:eb,value:C,onChange:e=>R(e.target.value),children:[1,2,3,4,5].map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{style:ec,children:[(0,t.jsx)("label",{style:eh,children:"å¸Œæœ›ç´æœŸ"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("select",{style:{...eb,width:"90px"},value:A,onChange:e=>I(e.target.value),children:[2025,2026,2027,2028,2029,2030].map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("span",{children:"å¹´"}),(0,t.jsx)("select",{style:{...eb,width:"70px"},value:W,onChange:e=>T(e.target.value),children:Array.from({length:12},(e,t)=>t+1).map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("span",{children:"æœˆ"})]})]})]})]}),(0,t.jsxs)("div",{style:ep,children:[(0,t.jsx)("div",{style:{...ex,color:"#c0392b",borderBottomColor:"#c0392b"},children:"æ›´æ–°å¯¾è±¡æ©Ÿå™¨ï¼ˆå»ƒæ£„äºˆå®šï¼‰"}),(0,t.jsxs)("div",{style:{background:"#fff8f8",border:"1px solid #ef9a9a",borderRadius:"8px",padding:"16px"},children:[(0,t.jsx)("div",{style:{fontSize:"16px",fontWeight:"bold",color:"#c0392b",marginBottom:"12px"},children:l[0]?.name}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",fontSize:"13px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"#666",fontSize:"11px",marginBottom:"2px"},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼"}),(0,t.jsx)("div",{style:{fontWeight:500},children:l[0]?.maker||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"#666",fontSize:"11px",marginBottom:"2px"},children:"åž‹å¼"}),(0,t.jsx)("div",{style:{fontWeight:500},children:l[0]?.model||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"#666",fontSize:"11px",marginBottom:"2px"},children:"ç®¡ç†ç•ªå·"}),(0,t.jsx)("div",{style:{fontWeight:500},children:l[0]?.managementNo||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"#666",fontSize:"11px",marginBottom:"2px"},children:"è¨­ç½®å ´æ‰€"}),(0,t.jsx)("div",{style:{fontWeight:500},children:l[0]?.roomName||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"#666",fontSize:"11px",marginBottom:"2px"},children:"éƒ¨é–€"}),(0,t.jsx)("div",{style:{fontWeight:500},children:l[0]?.department||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"#666",fontSize:"11px",marginBottom:"2px"},children:"éƒ¨ç½²"}),(0,t.jsx)("div",{style:{fontWeight:500},children:l[0]?.section||"-"})]})]})]}),(0,t.jsx)("div",{style:{marginTop:"8px",padding:"8px 12px",background:"#fff3e0",borderRadius:"4px",fontSize:"12px",color:"#e65100"},children:"â€» ã“ã®æ©Ÿå™¨ã¯æ›´æ–°ã«ä¼´ã„å»ƒæ£„ç”³è«‹ã•ã‚Œã¾ã™ã€‚æ–°è¦è³¼å…¥å¸Œæœ›ã®æ©Ÿå™¨ã¯ä¸‹è¨˜ã€Œè¦æœ›æ©Ÿå™¨ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚"})]}),(0,t.jsxs)("div",{style:ep,children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[(0,t.jsx)("div",{style:ex,children:"è¦æœ›æ©Ÿå™¨ï¼ˆæ–°è¦è³¼å…¥å¸Œæœ›ãƒ»æœ€å¤§3ã¤ï¼‰"}),(0,t.jsxs)("button",{onClick:()=>{B.length>=3||D(e=>[...e,{item:"",maker:"",model:"",quantity:1,unit:"å°"}])},disabled:B.length>=3,style:{padding:"6px 16px",background:B.length>=3?"#ccc":"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:B.length>=3?"not-allowed":"pointer",fontSize:"12px"},children:["+ è³‡ç”£ã‚’è¿½åŠ  (",B.length,"/",3,")"]})]}),(0,t.jsx)("div",{style:{border:"1px solid #ddd",borderRadius:"4px",overflow:"hidden"},children:(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{style:{background:"#f8f9fa"},children:[(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"80px"},children:"å¸Œæœ›é †"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"50px"},children:"é †åº"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600},children:"å“ç›®"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"left",fontWeight:600},children:"åž‹å¼"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"60px"},children:"æ•°é‡"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"60px"},children:"å˜ä½"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"120px"},children:"é¸æŠž"}),(0,t.jsx)("th",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,width:"50px"},children:"å‰Šé™¤"})]})}),(0,t.jsx)("tbody",{children:0===B.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:9,style:{padding:"24px",textAlign:"center",color:"#999",border:"1px solid #ddd"},children:"ã€Œ+ è³‡ç”£ã‚’è¿½åŠ ã€ãƒœã‚¿ãƒ³ã§è¦æœ›æ©Ÿå™¨ã‚’è¿½åŠ ã—ã¦ãã ã•ã„"})}):B.map((e,d)=>(0,t.jsxs)("tr",{style:{background:d%2==0?"white":"#fafafa"},children:[(0,t.jsx)("td",{style:{padding:"8px",border:"1px solid #ddd",textAlign:"center",fontWeight:600,color:"#e67e22"},children:eo(d)}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd",textAlign:"center"},children:(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2px"},children:[(0,t.jsx)("button",{onClick:()=>es(d,"up"),disabled:0===d,style:{padding:"2px 6px",background:0===d?"#ccc":"#6c757d",color:"white",border:"none",borderRadius:"2px",cursor:0===d?"not-allowed":"pointer",fontSize:"10px"},"aria-label":"ä¸Šã«ç§»å‹•",children:"â–²"}),(0,t.jsx)("button",{onClick:()=>es(d,"down"),disabled:d===B.length-1,style:{padding:"2px 6px",background:d===B.length-1?"#ccc":"#6c757d",color:"white",border:"none",borderRadius:"2px",cursor:d===B.length-1?"not-allowed":"pointer",fontSize:"10px"},"aria-label":"ä¸‹ã«ç§»å‹•",children:"â–¼"})]})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:(0,t.jsx)("input",{type:"text",value:e.item,onChange:e=>ea(d,"item",e.target.value),placeholder:"å“ç›®",style:{width:"100%",padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",boxSizing:"border-box"}})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:(0,t.jsx)("input",{type:"text",value:e.maker,onChange:e=>ea(d,"maker",e.target.value),placeholder:"ãƒ¡ãƒ¼ã‚«ãƒ¼",style:{width:"100%",padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",boxSizing:"border-box"}})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:(0,t.jsx)("input",{type:"text",value:e.model,onChange:e=>ea(d,"model",e.target.value),placeholder:"åž‹å¼",style:{width:"100%",padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",boxSizing:"border-box"}})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:(0,t.jsx)("input",{type:"number",value:e.quantity,onChange:e=>ea(d,"quantity",Number(e.target.value)||1),min:1,style:{width:"100%",padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",textAlign:"center",boxSizing:"border-box",fontVariantNumeric:"tabular-nums"}})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd"},children:(0,t.jsxs)("select",{value:e.unit,onChange:e=>ea(d,"unit",e.target.value),style:{width:"100%",padding:"4px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"12px",textAlign:"center",boxSizing:"border-box"},children:[(0,t.jsx)("option",{value:"å°",children:"å°"}),(0,t.jsx)("option",{value:"å€‹",children:"å€‹"}),(0,t.jsx)("option",{value:"å¼",children:"å¼"}),(0,t.jsx)("option",{value:"ã‚»ãƒƒãƒˆ",children:"ã‚»ãƒƒãƒˆ"})]})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd",textAlign:"center"},children:(0,t.jsx)("button",{onClick:()=>{let e,t;return sessionStorage.setItem("editingEquipmentIndex",String(d)),N(d),e=(window.screen.width-1200)/2,t=(window.screen.height-800)/2,void window.open("/medical-device-mgmt/asset-master?mode=simple","AssetMasterWindow",`width=1200,height=800,left=${e},top=${t},resizable=yes,scrollbars=yes`)},style:{padding:"4px 8px",background:"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px",whiteSpace:"nowrap"},children:"è³‡ç”£ãƒžã‚¹ã‚¿ã‹ã‚‰é¸æŠž"})}),(0,t.jsx)("td",{style:{padding:"4px",border:"1px solid #ddd",textAlign:"center"},children:(0,t.jsx)("button",{onClick:()=>{D(e=>e.filter((e,t)=>t!==d))},style:{padding:"4px 8px",background:"#e74c3c",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"11px"},"aria-label":`${e.item||"æ©Ÿå™¨"}ã‚’å‰Šé™¤`,children:"å‰Šé™¤"})})]},d))})]})})]}),(0,t.jsxs)("div",{style:ep,children:[(0,t.jsx)("div",{style:ex,children:"ä½¿ç”¨ç”¨é€”åŠã³ä»¶æ•°"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"flex-end"},children:[(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("label",{style:eh,children:"ç”¨é€”"}),(0,t.jsx)("input",{style:{...eg,width:"100%"},value:M,onChange:e=>q(e.target.value),placeholder:"ä½¿ç”¨ç”¨é€”ã‚’å…¥åŠ›"})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("label",{style:eh,children:"ç—‡ä¾‹æ•°"}),(0,t.jsx)("input",{type:"number",style:{...eg,width:"80px"},value:E,onChange:e=>L(e.target.value)}),(0,t.jsxs)("select",{style:eb,value:P,onChange:e=>Y(e.target.value),children:[(0,t.jsx)("option",{value:"ä»¶ï¼æœˆ",children:"ä»¶ï¼æœˆ"}),(0,t.jsx)("option",{value:"ä»¶ï¼é€±",children:"ä»¶ï¼é€±"}),(0,t.jsx)("option",{value:"ä»¶ï¼å¹´",children:"ä»¶ï¼å¹´"})]})]})]})]}),(0,t.jsxs)("div",{style:ep,children:[(0,t.jsx)("div",{style:ex,children:"ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆå¿…è¦ç†ç”± ä»–ï¼‰"}),(0,t.jsx)("textarea",{style:{width:"100%",minHeight:"100px",padding:"12px",border:"1px solid #e67e22",borderRadius:"4px",fontSize:"14px",resize:"vertical",boxSizing:"border-box"},value:F,onChange:e=>O(e.target.value),placeholder:"æ›´æ–°ç†ç”±ã‚„ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:ep,children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,t.jsx)("button",{style:{padding:"8px 16px",background:"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"bold"},children:"æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«"}),(0,t.jsx)("button",{style:{padding:"8px 16px",background:"white",color:"#333",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},onClick:()=>g.current?.click(),children:"ãƒ•ã‚¡ã‚¤ãƒ«ã®é¸æŠž"}),(0,t.jsx)("span",{style:{fontSize:"13px",color:"#666"},children:0===H.length?"ãƒ•ã‚¡ã‚¤ãƒ«ãŒé¸æŠžã•ã‚Œã¦ã„ã¾ã›ã‚“":`${H.length}ä»¶é¸æŠžä¸­`}),(0,t.jsx)("input",{ref:g,type:"file",multiple:!0,style:{display:"none"},onChange:e=>{var t;(t=e.target.files)&&V(e=>[...e,...Array.from(t)])}})]}),H.length>0&&(0,t.jsx)("div",{style:{marginTop:"8px",display:"flex",gap:"8px",flexWrap:"wrap"},children:H.map((e,d)=>(0,t.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",background:"#fff3e0",borderRadius:"4px",fontSize:"12px"},children:[e.name,(0,t.jsx)("button",{onClick:()=>{V(e=>e.filter((e,t)=>t!==d))},style:{background:"none",border:"none",cursor:"pointer",color:"#e74c3c"},children:"Ã—"})]},d))}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"#e74c3c",marginTop:"8px"},children:"è¦‹ç©æ›¸ãƒ»ä¿®ç†ä¸èƒ½è¨¼æ˜Žãªã©æ‰‹æŒã¡ã®æ›¸é¡žã‚’æ·»ä»˜ã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:ep,children:[(0,t.jsx)("div",{style:ex,children:"ã‚·ã‚¹ãƒ†ãƒ æŽ¥ç¶šè¦æœ›"}),(0,t.jsxs)("div",{style:{display:"grid",gap:"16px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:eh,children:"ç¾åœ¨ã®æŽ¥ç¶šçŠ¶æ³"}),(0,t.jsxs)("div",{style:{...ey,marginTop:"8px"},children:[(0,t.jsxs)("label",{style:ef,children:[(0,t.jsx)("input",{type:"radio",checked:"connected"===G,onChange:()=>U("connected")}),"æŽ¥ç¶šã‚ã‚Š"]}),(0,t.jsxs)("label",{style:ef,children:[(0,t.jsx)("input",{type:"radio",checked:"disconnected"===G,onChange:()=>U("disconnected")}),"æŽ¥ç¶šãªã—"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:eh,children:"ç¾åœ¨ã®æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("input",{style:{...eg,width:"100%",marginTop:"6px"},value:Q,onChange:e=>_(e.target.value),placeholder:"æŽ¥ç¶šå…ˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:eh,children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šè¦æœ›"}),(0,t.jsxs)("div",{style:{...ey,marginTop:"8px"},children:[(0,t.jsxs)("label",{style:ef,children:[(0,t.jsx)("input",{type:"radio",checked:"required"===K,onChange:()=>J("required")}),"æŽ¥ç¶šè¦æœ›"]}),(0,t.jsxs)("label",{style:ef,children:[(0,t.jsx)("input",{type:"radio",checked:"not-required"===K,onChange:()=>J("not-required")}),"æŽ¥ç¶šä¸è¦"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:eh,children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("input",{style:{...eg,width:"100%",marginTop:"6px"},value:X,onChange:e=>Z(e.target.value),placeholder:"æŽ¥ç¶šå…ˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"})]})]})]}),(0,t.jsxs)("div",{style:ep,children:[(0,t.jsx)("div",{style:{...ex,color:"#c0392b",borderBottomColor:"#c0392b"},children:"å»ƒæ£„å‡¦ç†ã®ç¢ºèª"}),(0,t.jsx)("div",{style:{padding:"16px",background:"#ffebee",borderRadius:"8px",border:"1px solid #ef9a9a"},children:(0,t.jsxs)("label",{style:{display:"flex",alignItems:"flex-start",gap:"12px",cursor:"pointer"},children:[(0,t.jsx)("input",{type:"checkbox",checked:ee,onChange:e=>et(e.target.checked),style:{marginTop:"4px",width:"20px",height:"20px"}}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{style:{fontWeight:"bold",color:"#c0392b",marginBottom:"8px"},children:["æ›´æ–°å¯¾è±¡æ©Ÿå™¨ã®å»ƒæ£„å‡¦ç†ã«åŒæ„ã—ã¾ã™ ",(0,t.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,t.jsxs)("div",{style:{fontSize:"13px",color:"#666",lineHeight:"1.6"},children:["ä¸Šè¨˜ã€Œæ›´æ–°å¯¾è±¡æ©Ÿå™¨ã€ã«è¨˜è¼‰ã•ã‚ŒãŸã€Œ",l[0]?.name,"ã€ã¯ã€æœ¬æ›´æ–°ç”³è«‹ã®æ‰¿èªå¾Œã«å»ƒæ£„ç”³è«‹ã¨ã—ã¦å‡¦ç†ã•ã‚Œã¾ã™ã€‚ å»ƒæ£„å‡¦ç†ãŒå®Œäº†ã™ã‚‹ã¨ã€å½“è©²è³‡ç”£ã¯è³‡ç”£å°å¸³ã‹ã‚‰é™¤å¤–ã•ã‚Œã¾ã™ã€‚"]})]})]})})]})]})}),(0,t.jsx)("div",{style:{padding:"16px 24px",borderTop:"1px solid #dee2e6",display:"flex",justifyContent:"center",background:"#f8f9fa"},children:ed?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>{ei(!1)},style:{padding:"12px 32px",background:"white",color:"#e67e22",border:"1px solid #e67e22",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",marginRight:"16px"},children:"â† ä¿®æ­£ã™ã‚‹"}),(0,t.jsx)("button",{onClick:()=>{let e=B.filter(e=>""!==e.item.trim()),t=e.map(e=>({name:e.item,maker:e.maker,model:e.model,quantity:e.quantity,unit:e.unit}));c({applicationType:"æ›´æ–°ç”³è«‹",applicantId:x?.id||"user-unknown",applicantName:f,applicantDepartment:y,assets:t,facility:p.length>0?p[0].facilityName:"ã€‡ã€‡ç—…é™¢",building:"",floor:"",department:m,section:S,roomName:w,desiredDeliveryDate:`${A}-${String(W).padStart(2,"0")}-01`,applicationReason:`${M}${E?` (ç—‡ä¾‹æ•°: ${E}${P})`:""}${F?`
${F}`:""}

ã€æ›´æ–°å¯¾è±¡æ©Ÿå™¨ã€‘
${l.map(e=>`- ${e.name} (${e.model})`).join("\n")}`,attachedFiles:H.map(e=>e.name)}),l.forEach(e=>{h({applicationNo:`DISP-${Date.now()}-${Math.floor(1e4*Math.random())}`,applicationDate:j,applicationType:"å»ƒæ£„ç”³è«‹",asset:{name:e.name,model:e.model},vendor:e.maker,quantity:String(e.quantity||1),unit:"å°",status:"æ‰¿èªå¾…ã¡",approvalProgress:{current:0,total:3},facility:{building:e.building,floor:e.floor,department:e.department,section:e.section},roomName:e.roomName||"",freeInput:`æ›´æ–°ç”³è«‹ã«ä¼´ã†å»ƒæ£„
ç”³è«‹æ—¥: ${j}`,executionYear:A,applicationReason:"æ›´æ–°ç”³è«‹ã«ä¼´ã†å»ƒæ£„å‡¦ç†"})}),alert(`æ›´æ–°ç”³è«‹ã‚’é€ä¿¡ã—ã¾ã—ãŸ

ã€è³¼å…¥ç”³è«‹ã€‘
è¦æœ›æ©Ÿå™¨: ${e.length}ä»¶

ã€å»ƒæ£„ç”³è«‹ã€‘
æ›´æ–°å¯¾è±¡æ©Ÿå™¨: ${l.length}ä»¶`),ei(!1),i(),n?.()},style:{padding:"12px 32px",background:"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"ç”³è«‹ã™ã‚‹"})]}):(0,t.jsx)("button",{style:{padding:"12px 48px",background:"#e67e22",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"15px",fontWeight:"bold"},onClick:()=>{m&&S?0===B.filter(e=>""!==e.item.trim()).length?alert("è¦æœ›æ©Ÿå™¨ï¼ˆæ–°è¦è³¼å…¥å¸Œæœ›ï¼‰ã‚’1ã¤ä»¥ä¸Šå…¥åŠ›ã—ã¦ãã ã•ã„"):ee?ei(!0):alert("æ›´æ–°å¯¾è±¡æ©Ÿå™¨ã®å»ƒæ£„å‡¦ç†ã«åŒæ„ã—ã¦ãã ã•ã„"):alert("è¨­ç½®éƒ¨é–€ãƒ»è¨­ç½®éƒ¨ç½²ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")},children:"è¨˜è¼‰å†…å®¹ã‚’ç¢ºèªã™ã‚‹"})})]})})}function j({isOpen:e,onClose:i,assets:l,onSuccess:n}){let{departments:r,facilities:o}=(0,a.useMasterStore)(),{user:p}=(0,u.useAuthStore)(),{addApplication:x}=(0,b.usePurchaseApplicationStore)(),c=(0,d.useRef)(null),[h]=(0,d.useState)(p?.department||"æ‰‹è¡“éƒ¨"),[g]=(0,d.useState)(p?.username||"æ‰‹è¡“ ç´ºå¤ªéƒŽ"),[y]=(0,d.useState)(()=>{let e=new Date;return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}),[f,j]=(0,d.useState)(""),[m,v]=(0,d.useState)(""),[S,k]=(0,d.useState)(""),[w,z]=(0,d.useState)("1"),[C,R]=(0,d.useState)(()=>String(new Date().getFullYear()+1)),[A,I]=(0,d.useState)("3"),[W,T]=(0,d.useState)(1),[B,D]=(0,d.useState)(""),[$,N]=(0,d.useState)(""),[M,q]=(0,d.useState)("ä»¶ï¼æœˆ"),[E,L]=(0,d.useState)(""),[P,Y]=(0,d.useState)([]),[F,O]=(0,d.useState)("disconnected"),[H,V]=(0,d.useState)(""),[G,U]=(0,d.useState)("not-required"),[Q,_]=(0,d.useState)(""),[K,J]=(0,d.useState)(!1),X=[...new Set(r.map(e=>e.division))],Z=[...new Set(r.map(e=>e.department))];if((0,d.useEffect)(()=>{if(l.length>0&&e){let e=l[0];j(e.department||""),v(e.section||""),k(e.roomName||"")}},[l,e]),!e||0===l.length)return null;let ee="#2980b9",et="#e3f2fd",ed="#90caf9",ei={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},modal:{background:"white",borderRadius:"8px",width:"95%",maxWidth:"900px",maxHeight:"90vh",overflow:"hidden",display:"flex",flexDirection:"column"},header:{background:ee,color:"white",padding:"16px 24px",fontSize:"18px",fontWeight:"bold",display:"flex",justifyContent:"space-between",alignItems:"center"},closeButton:{background:"none",border:"none",color:"white",fontSize:"24px",cursor:"pointer",padding:"0",width:"30px",height:"30px"},body:{flex:1,overflowY:"auto",padding:"24px"},section:{marginBottom:"24px"},sectionTitle:{fontSize:"14px",fontWeight:"bold",color:ee,marginBottom:"16px",paddingBottom:"8px",borderBottom:`2px solid ${ee}`},note:{fontSize:"12px",color:"#666",textAlign:"right",marginBottom:"12px"},formGrid:{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"16px",alignItems:"end"},formItem:{display:"flex",flexDirection:"column",gap:"6px"},label:{fontSize:"13px",fontWeight:600,color:"#333"},input:{padding:"8px 12px",border:`1px solid ${ee}`,borderRadius:"4px",fontSize:"14px",boxSizing:"border-box"},inputDisabled:{padding:"8px 12px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"14px",background:"#f5f5f5",color:"#666"},select:{padding:"8px 12px",border:`1px solid ${ee}`,borderRadius:"4px",fontSize:"14px",cursor:"pointer"},radioGroup:{display:"flex",gap:"16px",alignItems:"center"},radioLabel:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer",fontSize:"14px"},textarea:{width:"100%",minHeight:"100px",padding:"12px",border:`1px solid ${ee}`,borderRadius:"4px",fontSize:"14px",resize:"vertical",boxSizing:"border-box"},footer:{padding:"16px 24px",borderTop:"1px solid #dee2e6",display:"flex",justifyContent:"center",background:"#f8f9fa"},confirmButton:{padding:"12px 48px",background:ee,color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"15px",fontWeight:"bold"}};return(0,t.jsx)("div",{style:ei.overlay,onClick:i,children:(0,t.jsxs)("div",{style:ei.modal,onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{style:ei.header,children:[(0,t.jsx)("span",{children:K?"å¢—è¨­è³¼å…¥ç”³è«‹ - å†…å®¹ç¢ºèª":"å¢—è¨­è³¼å…¥ç”³è«‹"}),(0,t.jsx)("button",{style:ei.closeButton,onClick:i,"aria-label":"é–‰ã˜ã‚‹",children:"Ã—"})]}),(0,t.jsx)("div",{style:ei.body,children:K?(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{background:et,padding:"12px 16px",borderRadius:"6px",marginBottom:"20px",textAlign:"center"},children:(0,t.jsx)("span",{style:{color:ee,fontWeight:"bold"},children:"ä»¥ä¸‹ã®å†…å®¹ã§ç”³è«‹ã—ã¾ã™ã€‚å†…å®¹ã‚’ã”ç¢ºèªãã ã•ã„ã€‚"})}),(0,t.jsxs)("div",{style:ei.section,children:[(0,t.jsx)("div",{style:ei.sectionTitle,children:"ç”³è«‹åŸºæœ¬æƒ…å ±"}),(0,t.jsx)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"ç®¡ç†éƒ¨ç½²"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:h}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"ç”³è«‹è€…"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:g})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"ç”³è«‹æ—¥"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:y}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"å„ªå…ˆé †ä½"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:w})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¨­ç½®éƒ¨é–€"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:f||"-"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¨­ç½®éƒ¨ç½²"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:m||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¨­ç½®å®¤å"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:S||"-"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"å¸Œæœ›ç´æœŸ"}),(0,t.jsxs)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:[C,"å¹´",A,"æœˆ"]})]})]})})]}),(0,t.jsxs)("div",{style:ei.section,children:[(0,t.jsx)("div",{style:ei.sectionTitle,children:"å¢—è¨­å¯¾è±¡æ©Ÿå™¨"}),(0,t.jsxs)("div",{style:{background:et,border:`1px solid ${ed}`,borderRadius:"8px",padding:"16px"},children:[(0,t.jsx)("div",{style:{fontSize:"16px",fontWeight:"bold",color:ee,marginBottom:"12px"},children:l[0]?.name}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px",fontSize:"13px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#666"},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼:"})," ",l[0]?.maker||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#666"},children:"åž‹å¼:"})," ",l[0]?.model||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#666"},children:"è¨­ç½®å ´æ‰€:"})," ",l[0]?.roomName||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{style:{color:"#666"},children:"ç®¡ç†ç•ªå·:"})," ",l[0]?.managementNo||"-"]})]})]}),(0,t.jsxs)("div",{style:{marginTop:"12px",display:"flex",alignItems:"center",gap:"12px",padding:"12px 16px",background:"#fff3e0",borderRadius:"4px"},children:[(0,t.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#e65100"},children:"å¢—è¨­æ•°é‡:"}),(0,t.jsxs)("span",{style:{fontSize:"18px",fontWeight:"bold",color:"#e65100",fontVariantNumeric:"tabular-nums"},children:[W," å°"]})]})]}),(0,t.jsxs)("div",{style:ei.section,children:[(0,t.jsx)("div",{style:ei.sectionTitle,children:"ä½¿ç”¨ç”¨é€”åŠã³ä»¶æ•°"}),(0,t.jsx)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:(0,t.jsx)("tbody",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"ç”¨é€”"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:B||"-"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"ç—‡ä¾‹æ•°"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:$?`${$} ${M}`:"-"})]})})})]}),E&&(0,t.jsxs)("div",{style:ei.section,children:[(0,t.jsx)("div",{style:ei.sectionTitle,children:"ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆå¿…è¦ç†ç”± ä»–ï¼‰"}),(0,t.jsx)("div",{style:{padding:"12px",background:"#f8f9fa",borderRadius:"4px",border:"1px solid #ddd",whiteSpace:"pre-wrap"},children:E})]}),P.length>0&&(0,t.jsxs)("div",{style:ei.section,children:[(0,t.jsx)("div",{style:ei.sectionTitle,children:"æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«"}),(0,t.jsx)("ul",{style:{margin:0,paddingLeft:"20px"},children:P.map((e,d)=>(0,t.jsx)("li",{style:{padding:"4px 0"},children:e.name},d))})]}),(0,t.jsxs)("div",{style:ei.section,children:[(0,t.jsx)("div",{style:ei.sectionTitle,children:"ã‚·ã‚¹ãƒ†ãƒ æŽ¥ç¶šè¦æœ›"}),(0,t.jsx)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px"},children:(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"180px"},children:"ç¾åœ¨ã®æŽ¥ç¶šçŠ¶æ³"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:"connected"===F?"æŽ¥ç¶šä¸­":"æŽ¥ç¶šç„¡ã—"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left",width:"150px"},children:"æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:H||"-"})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šè¦æœ›"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:"required"===G?"æŽ¥ç¶šè¦æœ›ã‚ã‚Š":"æŽ¥ç¶šä¸è¦"}),(0,t.jsx)("th",{style:{padding:"8px 12px",background:"#f8f9fa",border:"1px solid #ddd",textAlign:"left"},children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("td",{style:{padding:"8px 12px",border:"1px solid #ddd"},children:Q||"-"})]})]})})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{style:ei.section,children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,t.jsx)("div",{style:ei.sectionTitle,children:"ç”³è«‹åŸºæœ¬æƒ…å ±"}),(0,t.jsx)("div",{style:ei.note,children:"ç”³è«‹æƒ…å ±ã«å¤‰æ›´ãŒã‚ã‚Œã°è¨˜å…¥ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:ei.formGrid,children:[(0,t.jsxs)("div",{style:ei.formItem,children:[(0,t.jsx)("label",{style:ei.label,children:"ç®¡ç†éƒ¨ç½²"}),(0,t.jsx)("input",{style:ei.inputDisabled,value:h,disabled:!0})]}),(0,t.jsxs)("div",{style:ei.formItem,children:[(0,t.jsx)("label",{style:ei.label,children:"ç”³è«‹è€…"}),(0,t.jsx)("input",{style:ei.inputDisabled,value:g,disabled:!0})]}),(0,t.jsxs)("div",{style:ei.formItem,children:[(0,t.jsx)("label",{style:ei.label,children:"ç”³è«‹æ—¥"}),(0,t.jsx)("input",{style:ei.inputDisabled,value:y,disabled:!0})]}),(0,t.jsx)("div",{}),(0,t.jsxs)("div",{style:ei.formItem,children:[(0,t.jsxs)("label",{style:ei.label,children:["è¨­ç½®éƒ¨é–€ ",(0,t.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,t.jsx)(s.SearchableSelect,{value:f,onChange:j,options:X,placeholder:"é¸æŠžã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:ei.formItem,children:[(0,t.jsxs)("label",{style:ei.label,children:["è¨­ç½®éƒ¨ç½² ",(0,t.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,t.jsx)(s.SearchableSelect,{value:m,onChange:v,options:Z,placeholder:"é¸æŠžã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:ei.formItem,children:[(0,t.jsx)("label",{style:ei.label,children:"è¨­ç½®å®¤å"}),(0,t.jsx)("input",{style:ei.input,value:S,onChange:e=>k(e.target.value),placeholder:"æ‰‹è¡“å®¤B"})]}),(0,t.jsxs)("div",{style:ei.formItem,children:[(0,t.jsx)("label",{style:ei.label,children:"å„ªå…ˆé †ä½"}),(0,t.jsx)("select",{style:ei.select,value:w,onChange:e=>z(e.target.value),children:[1,2,3,4,5].map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("div",{style:ei.formItem,children:[(0,t.jsx)("label",{style:ei.label,children:"å¸Œæœ›ç´æœŸ"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("select",{style:{...ei.select,width:"90px"},value:C,onChange:e=>R(e.target.value),children:[2025,2026,2027,2028,2029,2030].map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("span",{children:"å¹´"}),(0,t.jsx)("select",{style:{...ei.select,width:"70px"},value:A,onChange:e=>I(e.target.value),children:Array.from({length:12},(e,t)=>t+1).map(e=>(0,t.jsx)("option",{value:e,children:e},e))}),(0,t.jsx)("span",{children:"æœˆ"})]})]})]})]}),(0,t.jsxs)("div",{style:ei.section,children:[(0,t.jsx)("div",{style:ei.sectionTitle,children:"å¢—è¨­å¯¾è±¡æ©Ÿå™¨"}),(0,t.jsxs)("div",{style:{background:et,border:`1px solid ${ed}`,borderRadius:"8px",padding:"16px"},children:[(0,t.jsx)("div",{style:{fontSize:"16px",fontWeight:"bold",color:ee,marginBottom:"12px"},children:l[0]?.name}),(0,t.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",fontSize:"13px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"#666",fontSize:"11px",marginBottom:"2px"},children:"ãƒ¡ãƒ¼ã‚«ãƒ¼"}),(0,t.jsx)("div",{style:{fontWeight:500},children:l[0]?.maker||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"#666",fontSize:"11px",marginBottom:"2px"},children:"åž‹å¼"}),(0,t.jsx)("div",{style:{fontWeight:500},children:l[0]?.model||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"#666",fontSize:"11px",marginBottom:"2px"},children:"ç®¡ç†ç•ªå·"}),(0,t.jsx)("div",{style:{fontWeight:500},children:l[0]?.managementNo||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"#666",fontSize:"11px",marginBottom:"2px"},children:"è¨­ç½®å ´æ‰€"}),(0,t.jsx)("div",{style:{fontWeight:500},children:l[0]?.roomName||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"#666",fontSize:"11px",marginBottom:"2px"},children:"éƒ¨é–€"}),(0,t.jsx)("div",{style:{fontWeight:500},children:l[0]?.department||"-"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{style:{color:"#666",fontSize:"11px",marginBottom:"2px"},children:"éƒ¨ç½²"}),(0,t.jsx)("div",{style:{fontWeight:500},children:l[0]?.section||"-"})]})]})]}),(0,t.jsxs)("div",{style:{marginTop:"16px",display:"flex",alignItems:"center",gap:"16px",padding:"16px",background:"#fff3e0",borderRadius:"8px",border:"1px solid #ffcc80"},children:[(0,t.jsxs)("label",{style:{fontSize:"14px",fontWeight:"bold",color:"#e65100"},children:["å¢—è¨­æ•°é‡ ",(0,t.jsx)("span",{style:{color:"#e74c3c"},children:"*"})]}),(0,t.jsx)("input",{type:"number",value:W,onChange:e=>T(Math.max(1,Number(e.target.value)||1)),min:1,style:{width:"80px",padding:"8px 12px",border:"2px solid #e65100",borderRadius:"4px",fontSize:"16px",fontWeight:"bold",textAlign:"center",fontVariantNumeric:"tabular-nums"}}),(0,t.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold",color:"#e65100"},children:"å°"}),(0,t.jsx)("span",{style:{fontSize:"12px",color:"#666",marginLeft:"8px"},children:"â€» ä¸Šè¨˜æ©Ÿå™¨ã¨åŒç­‰å“ã‚’ä½•å°å¢—è¨­ã™ã‚‹ã‹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"})]})]}),(0,t.jsxs)("div",{style:ei.section,children:[(0,t.jsx)("div",{style:ei.sectionTitle,children:"ä½¿ç”¨ç”¨é€”åŠã³ä»¶æ•°"}),(0,t.jsxs)("div",{style:{display:"flex",gap:"16px",alignItems:"flex-end"},children:[(0,t.jsxs)("div",{style:{flex:1},children:[(0,t.jsx)("label",{style:ei.label,children:"ç”¨é€”"}),(0,t.jsx)("input",{style:{...ei.input,width:"100%"},value:B,onChange:e=>D(e.target.value),placeholder:"ä½¿ç”¨ç”¨é€”ã‚’å…¥åŠ›"})]}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("label",{style:ei.label,children:"ç—‡ä¾‹æ•°"}),(0,t.jsx)("input",{type:"number",style:{...ei.input,width:"80px"},value:$,onChange:e=>N(e.target.value)}),(0,t.jsxs)("select",{style:ei.select,value:M,onChange:e=>q(e.target.value),children:[(0,t.jsx)("option",{value:"ä»¶ï¼æœˆ",children:"ä»¶ï¼æœˆ"}),(0,t.jsx)("option",{value:"ä»¶ï¼é€±",children:"ä»¶ï¼é€±"}),(0,t.jsx)("option",{value:"ä»¶ï¼å¹´",children:"ä»¶ï¼å¹´"})]})]})]})]}),(0,t.jsxs)("div",{style:ei.section,children:[(0,t.jsx)("div",{style:ei.sectionTitle,children:"ã‚³ãƒ¡ãƒ³ãƒˆï¼ˆå¿…è¦ç†ç”± ä»–ï¼‰"}),(0,t.jsx)("textarea",{style:ei.textarea,value:E,onChange:e=>L(e.target.value),placeholder:"å¢—è¨­ç†ç”±ã‚„ã‚³ãƒ¡ãƒ³ãƒˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:ei.section,children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[(0,t.jsx)("button",{style:{padding:"8px 16px",background:ee,color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"13px",fontWeight:"bold"},children:"æ·»ä»˜ãƒ•ã‚¡ã‚¤ãƒ«"}),(0,t.jsx)("button",{style:{padding:"8px 16px",background:"white",color:"#333",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",fontSize:"13px"},onClick:()=>c.current?.click(),children:"ãƒ•ã‚¡ã‚¤ãƒ«ã®é¸æŠž"}),(0,t.jsx)("span",{style:{fontSize:"13px",color:"#666"},children:0===P.length?"ãƒ•ã‚¡ã‚¤ãƒ«ãŒé¸æŠžã•ã‚Œã¦ã„ã¾ã›ã‚“":`${P.length}ä»¶é¸æŠžä¸­`}),(0,t.jsx)("input",{ref:c,type:"file",multiple:!0,style:{display:"none"},onChange:e=>{var t;(t=e.target.files)&&Y(e=>[...e,...Array.from(t)])}})]}),P.length>0&&(0,t.jsx)("div",{style:{marginTop:"8px",display:"flex",gap:"8px",flexWrap:"wrap"},children:P.map((e,d)=>(0,t.jsxs)("span",{style:{display:"inline-flex",alignItems:"center",gap:"6px",padding:"4px 10px",background:et,borderRadius:"4px",fontSize:"12px"},children:[e.name,(0,t.jsx)("button",{onClick:()=>{Y(e=>e.filter((e,t)=>t!==d))},style:{background:"none",border:"none",cursor:"pointer",color:"#e74c3c"},children:"Ã—"})]},d))}),(0,t.jsx)("div",{style:{fontSize:"12px",color:"#666",marginTop:"8px"},children:"è¦‹ç©æ›¸ãƒ»å‚è€ƒè³‡æ–™ãªã©ã‚’æ·»ä»˜ã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{style:ei.section,children:[(0,t.jsx)("div",{style:ei.sectionTitle,children:"ã‚·ã‚¹ãƒ†ãƒ æŽ¥ç¶šè¦æœ›"}),(0,t.jsxs)("div",{style:{display:"grid",gap:"16px"},children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:ei.label,children:"ç¾åœ¨ã®æŽ¥ç¶šçŠ¶æ³"}),(0,t.jsxs)("div",{style:{...ei.radioGroup,marginTop:"8px"},children:[(0,t.jsxs)("label",{style:ei.radioLabel,children:[(0,t.jsx)("input",{type:"radio",checked:"connected"===F,onChange:()=>O("connected")}),"æŽ¥ç¶šã‚ã‚Š"]}),(0,t.jsxs)("label",{style:ei.radioLabel,children:[(0,t.jsx)("input",{type:"radio",checked:"disconnected"===F,onChange:()=>O("disconnected")}),"æŽ¥ç¶šãªã—"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:ei.label,children:"ç¾åœ¨ã®æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("input",{style:{...ei.input,width:"100%",marginTop:"6px"},value:H,onChange:e=>V(e.target.value),placeholder:"æŽ¥ç¶šå…ˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:ei.label,children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šè¦æœ›"}),(0,t.jsxs)("div",{style:{...ei.radioGroup,marginTop:"8px"},children:[(0,t.jsxs)("label",{style:ei.radioLabel,children:[(0,t.jsx)("input",{type:"radio",checked:"required"===G,onChange:()=>U("required")}),"æŽ¥ç¶šè¦æœ›"]}),(0,t.jsxs)("label",{style:ei.radioLabel,children:[(0,t.jsx)("input",{type:"radio",checked:"not-required"===G,onChange:()=>U("not-required")}),"æŽ¥ç¶šä¸è¦"]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{style:ei.label,children:"è¦æœ›æ©Ÿå™¨ã®æŽ¥ç¶šå…ˆ"}),(0,t.jsx)("input",{style:{...ei.input,width:"100%",marginTop:"6px"},value:Q,onChange:e=>_(e.target.value),placeholder:"æŽ¥ç¶šå…ˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"})]})]})]})]})}),(0,t.jsx)("div",{style:ei.footer,children:K?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>{J(!1)},style:{padding:"12px 32px",background:"white",color:ee,border:`1px solid ${ee}`,borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",marginRight:"16px"},children:"â† ä¿®æ­£ã™ã‚‹"}),(0,t.jsx)("button",{onClick:()=>{let e=l[0],t=[{name:e.item||e.name||"",maker:e.maker||"",model:e.model||"",quantity:W,unit:"å°"}];x({applicationType:"å¢—è¨­ç”³è«‹",applicantId:p?.id||"user-unknown",applicantName:g,applicantDepartment:h,assets:t,facility:o.length>0?o[0].facilityName:"ã€‡ã€‡ç—…é™¢",building:"",floor:"",department:f,section:m,roomName:S,desiredDeliveryDate:`${C}-${String(A).padStart(2,"0")}-01`,applicationReason:`${B}${$?` (ç—‡ä¾‹æ•°: ${$}${M})`:""}${E?`
${E}`:""}

ã€å¢—è¨­å‚è€ƒæ©Ÿå™¨ã€‘
- ${e.name} (${e.model})`,attachedFiles:P.map(e=>e.name)}),alert(`å¢—è¨­ç”³è«‹ã‚’é€ä¿¡ã—ã¾ã—ãŸ

å“ç›®: ${e.item||e.name}
æ•°é‡: ${W}å°`),J(!1),i(),n?.()},style:{padding:"12px 32px",background:ee,color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"14px",fontWeight:"bold"},children:"ç”³è«‹ã™ã‚‹"})]}):(0,t.jsx)("button",{style:ei.confirmButton,onClick:()=>{f&&m?W<1?alert("å¢—è¨­æ•°é‡ã¯1ä»¥ä¸Šã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"):J(!0):alert("è¨­ç½®éƒ¨é–€ãƒ»è¨­ç½®éƒ¨ç½²ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„")},children:"è¨˜è¼‰å†…å®¹ã‚’ç¢ºèªã™ã‚‹"})})]})})}var m=e.i(25169),v=e.i(60875);let S=e.i(54487).ASSET_COLUMNS;function k(){let e=(0,i.useRouter)(),{assets:a}=(0,n.useAssetStore)(),{addApplication:h}=(0,r.useApplicationStore)(),{isMobile:u}=(0,p.useResponsive)(),[b,k]=(0,d.useState)("list"),[w,z]=(0,d.useState)(new Set),[C,R]=(0,d.useState)(!1),[A,I]=(0,d.useState)(!1),[W,T]=(0,d.useState)(!1),[B,D]=(0,d.useState)(!1),[$,N]=(0,d.useState)(!1),[M,q]=(0,d.useState)(!1),[E,L]=(0,d.useState)(!1),[P]=(0,d.useState)([{qrCode:"QR-2025-0001",no:1,facility:"ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ç—…é™¢",building:"æœ¬é¤¨",floor:"2F",department:"æ‰‹è¡“éƒ¨é–€",section:"æ‰‹è¡“",category:"åŒ»ç™‚æ©Ÿå™¨",largeClass:"æ‰‹è¡“é–¢é€£æ©Ÿå™¨",mediumClass:"é›»æ°—ãƒ¡ã‚¹ åŒæ¥µ",item:"æ‰‹è¡“å°",name:"é›»æ°—æ‰‹è¡“ç”¨é›»æºè£…ç½®2ã‚·ã‚¹ãƒ†ãƒ ",maker:"åŒ»ç™‚",model:"EW11 è¶…éŸ³æ³¢å¸å¼•å™¨",quantity:1,width:520,depth:480,height:1400,assetNo:"10605379-000",managementNo:"1338",roomClass1:"æ‰‹è¡“å®¤",roomClass2:"OPå®¤",roomName:"æ‰‹è¡“å®¤A",installationLocation:"æ‰‹è¡“å®¤A-ä¸­å¤®",assetInfo:"è³‡ç”£å°å¸³ç™»éŒ²æ¸ˆ",quantityUnit:"1å°",serialNumber:"SN-2024-001",contractName:"åŒ»ç™‚æ©Ÿå™¨è³¼å…¥å¥‘ç´„2024-01",contractNo:"C-2024-0001",quotationNo:"Q-2024-0001",contractDate:"2024-01-10",deliveryDate:"2024-01-20",inspectionDate:"2024-01-25",lease:"ãªã—",rental:"ãªã—",leaseStartDate:"",leaseEndDate:"",acquisitionCost:15e6,legalServiceLife:"6å¹´",recommendedServiceLife:"8å¹´",endOfService:"2032-12-31",endOfSupport:"2035-12-31"},...Array.from({length:19},(e,t)=>({qrCode:`QR-2025-${String(t+2).padStart(4,"0")}`,no:t+2,facility:"ã€‡ã€‡ã€‡ã€‡ã€‡ã€‡ç—…é™¢",building:"æœ¬é¤¨",floor:"2F",department:"æ‰‹è¡“éƒ¨é–€",section:"æ‰‹è¡“",category:"åŒ»ç™‚æ©Ÿå™¨",largeClass:"æ‰‹è¡“é–¢é€£æ©Ÿå™¨",mediumClass:"CTé–¢é€£",item:`å“ç›®${t+2}`,name:`ã‚µãƒ³ãƒ—ãƒ«è£½å“${t+2}`,maker:"åŒ»ç™‚æ©Ÿå™¨",model:`MODEL-${t+2}`,quantity:1,width:500+10*t,depth:600+10*t,height:700+10*t,assetNo:`10605379-${String(t+1).padStart(3,"0")}`,managementNo:`${1338+t+1}`,roomClass1:"æ‰‹è¡“å®¤",roomClass2:"OPå®¤",roomName:`æ‰‹è¡“å®¤${String.fromCharCode(66+t)}`,installationLocation:`æ‰‹è¡“å®¤${String.fromCharCode(66+t)}-ä¸­å¤®`,assetInfo:"è³‡ç”£å°å¸³ç™»éŒ²æ¸ˆ",quantityUnit:"1å°",serialNumber:`SN-2024-${String(t+2).padStart(3,"0")}`,contractName:`åŒ»ç™‚æ©Ÿå™¨è³¼å…¥å¥‘ç´„2024-${String(t+2).padStart(2,"0")}`,contractNo:`C-2024-${String(t+2).padStart(4,"0")}`,quotationNo:`Q-2024-${String(t+2).padStart(4,"0")}`,contractDate:"2024-01-10",deliveryDate:"2024-01-20",inspectionDate:"2024-01-25",lease:t%3==0?"ã‚ã‚Š":"ãªã—",rental:t%5==0?"ã‚ã‚Š":"ãªã—",leaseStartDate:t%3==0?"2024-01-01":"",leaseEndDate:t%3==0?"2029-12-31":"",acquisitionCost:1e6*(t+2),legalServiceLife:"6å¹´",recommendedServiceLife:"8å¹´",endOfService:"2032-12-31",endOfSupport:"2035-12-31"}))]),{filters:Y,setFilters:F,filteredAssets:O,categoryOptions:H,largeClassOptions:V,mediumClassOptions:G,buildingOptions:U,floorOptions:Q,departmentOptions:_,sectionOptions:K,itemOptions:J}=(0,m.useAssetFilter)(P),{visibleColumns:X,columnWidths:Z,resizingColumn:ee,toggleColumnVisibility:et,handleSelectAllColumns:ed,handleDeselectAllColumns:ei,handleResizeStart:el,getCellValue:en}=(0,v.useAssetTable)(S),er=e=>{let t=new Set(w);t.has(e)?t.delete(e):t.add(e),z(t)},es=1===w.size,eo=w.size>0,ea=e=>({padding:"6px 16px",background:e?"#fff":"rgba(255,255,255,0.5)",color:e?"#333":"rgba(0,0,0,0.4)",border:e?"2px solid #fff":"1px solid rgba(255,255,255,0.5)",borderRadius:"4px",cursor:e?"pointer":"default",fontSize:"13px",fontWeight:e?600:"normal",opacity:e?1:.6,transition:"all 0.2s"});return(0,t.jsxs)("div",{className:"h-dvh flex flex-col overflow-hidden",style:{background:"white"},children:[(0,t.jsx)(l.Header,{title:"è³‡ç”£ãƒªã‚¹ãƒˆ",resultCount:O.length,onViewToggle:()=>k("list"===b?"card":"list"),onExport:()=>alert("Excel/PDFå‡ºåŠ›"),onPrint:()=>window.print(),onColumnSettings:()=>R(!0),showBackButton:!0,backHref:"/main",backLabel:"ãƒ¡ã‚¤ãƒ³ç”»é¢ã«æˆ»ã‚‹",hideMenu:!0}),(0,t.jsxs)("div",{style:{background:"#4a6741",padding:"12px 20px"},children:[(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",flexWrap:"wrap"},children:[(0,t.jsx)("button",{style:ea(es),onClick:()=>{0===w.size?alert("æ›´æ–°ç”³è«‹ã™ã‚‹è³‡ç”£ã‚’é¸æŠžã—ã¦ãã ã•ã„"):w.size>1?alert("æ›´æ–°ç”³è«‹ã¯1å°ãšã¤è¡Œã£ã¦ãã ã•ã„ã€‚\nè³‡ç”£ã‚’1ä»¶ã ã‘é¸æŠžã—ã¦ãã ã•ã„ã€‚"):q(!0)},title:es?"":"è³‡ç”£ã‚’1ä»¶é¸æŠžã—ã¦ãã ã•ã„",children:"æ›´æ–°ç”³è«‹"}),(0,t.jsx)("button",{style:ea(es),onClick:()=>{0===w.size?alert("å¢—è¨­ç”³è«‹ã™ã‚‹è³‡ç”£ã‚’é¸æŠžã—ã¦ãã ã•ã„"):w.size>1?alert("å¢—è¨­ç”³è«‹ã¯1å°ãšã¤è¡Œã£ã¦ãã ã•ã„ã€‚\nè³‡ç”£ã‚’1ä»¶ã ã‘é¸æŠžã—ã¦ãã ã•ã„ã€‚"):L(!0)},title:es?"":"è³‡ç”£ã‚’1ä»¶é¸æŠžã—ã¦ãã ã•ã„",children:"å¢—è¨­ç”³è«‹"}),(0,t.jsx)("button",{style:ea(!eo),onClick:()=>{eo?alert("æ–°è¦ç”³è«‹ã¯è³‡ç”£ã‚’é¸æŠžã›ãšã«è¡Œã£ã¦ãã ã•ã„"):N(!0)},title:eo?"è³‡ç”£ã®é¸æŠžã‚’è§£é™¤ã—ã¦ãã ã•ã„":"",children:"æ–°è¦ç”³è«‹"}),(0,t.jsx)("div",{style:{flex:1,display:"flex",justifyContent:"center"},children:(0,t.jsx)("button",{style:ea(!eo),onClick:()=>{eo?alert("å€Ÿç”¨ç”³è«‹ã¯è³‡ç”£ã‚’é¸æŠžã›ãšã«è¡Œã£ã¦ãã ã•ã„"):D(!0)},title:eo?"è³‡ç”£ã®é¸æŠžã‚’è§£é™¤ã—ã¦ãã ã•ã„":"",children:"å€Ÿç”¨ç”³è«‹"})}),(0,t.jsx)("button",{style:ea(eo),onClick:()=>{0===w.size?alert("ç§»å‹•ç”³è«‹ã™ã‚‹è³‡ç”£ã‚’é¸æŠžã—ã¦ãã ã•ã„"):I(!0)},title:eo?"":"è³‡ç”£ã‚’é¸æŠžã—ã¦ãã ã•ã„",children:"ç§»å‹•ç”³è«‹"}),(0,t.jsx)("button",{style:ea(eo),onClick:()=>{0===w.size?alert("å»ƒæ£„ç”³è«‹ã™ã‚‹è³‡ç”£ã‚’é¸æŠžã—ã¦ãã ã•ã„"):T(!0)},title:eo?"":"è³‡ç”£ã‚’é¸æŠžã—ã¦ãã ã•ã„",children:"å»ƒæ£„ç”³è«‹"})]}),(0,t.jsxs)("div",{style:{marginTop:"8px",fontSize:"12px",color:"rgba(255,255,255,0.9)",display:"flex",alignItems:"center",gap:"16px"},children:[(0,t.jsxs)("span",{style:{background:"rgba(255,255,255,0.2)",padding:"4px 12px",borderRadius:"12px",fontWeight:500},children:["é¸æŠžä¸­: ",w.size,"ä»¶"]}),0===w.size&&(0,t.jsx)("span",{style:{color:"#90EE90"},children:"âœ“ æ–°è¦ãƒ»å€Ÿç”¨ç”³è«‹ãŒå¯èƒ½ã§ã™"}),1===w.size&&(0,t.jsx)("span",{style:{color:"#90EE90"},children:"âœ“ æ›´æ–°ãƒ»å¢—è¨­ãƒ»ç§»å‹•ãƒ»å»ƒæ£„ç”³è«‹ãŒå¯èƒ½ã§ã™"}),w.size>1&&(0,t.jsx)("span",{style:{color:"#90EE90"},children:"âœ“ ç§»å‹•ãƒ»å»ƒæ£„ç”³è«‹ãŒå¯èƒ½ã§ã™"})]})]}),(0,t.jsxs)("div",{style:{background:"#fff",padding:"12px 20px",borderBottom:"1px solid #dee2e6"},children:[(0,t.jsx)("div",{style:{fontSize:"13px",color:"#333",marginBottom:"10px",fontWeight:"bold"},children:"è³‡ç”£ã‚’çµžã‚Šè¾¼ã‚€"}),(0,t.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"12px",flexWrap:"wrap"},children:[(0,t.jsx)("div",{style:{minWidth:"140px",position:"relative",zIndex:16},children:(0,t.jsx)(s.SearchableSelect,{value:Y.department,onChange:e=>F({department:e}),options:_,placeholder:"ç®¡ç†éƒ¨ç½²",isMobile:u})}),(0,t.jsx)("div",{style:{minWidth:"140px",position:"relative",zIndex:15},children:(0,t.jsx)(s.SearchableSelect,{value:Y.section,onChange:e=>F({section:e}),options:K,placeholder:"è¨­ç½®éƒ¨é–€",isMobile:u})}),(0,t.jsx)("div",{style:{minWidth:"140px",position:"relative",zIndex:14},children:(0,t.jsx)(s.SearchableSelect,{value:Y.category,onChange:e=>F({category:e}),options:H,placeholder:"category",isMobile:u})}),(0,t.jsx)("div",{style:{minWidth:"120px",position:"relative",zIndex:13},children:(0,t.jsx)(s.SearchableSelect,{value:Y.largeClass,onChange:e=>F({largeClass:e}),options:V,placeholder:"å¤§åˆ†é¡ž",isMobile:u})}),(0,t.jsx)("div",{style:{minWidth:"120px",position:"relative",zIndex:12},children:(0,t.jsx)(s.SearchableSelect,{value:Y.mediumClass,onChange:e=>F({mediumClass:e}),options:G,placeholder:"ä¸­åˆ†é¡ž",isMobile:u})}),(0,t.jsx)("div",{style:{minWidth:"120px",position:"relative",zIndex:11},children:(0,t.jsx)(s.SearchableSelect,{value:Y.item,onChange:e=>F({item:e}),options:J,placeholder:"å“ç›®",isMobile:u})}),(0,t.jsx)("div",{style:{flex:1}}),(0,t.jsx)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:(0,t.jsx)("input",{type:"text",placeholder:"ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æ¤œç´¢",value:Y.keyword,onChange:e=>F({keyword:e.target.value}),style:{padding:"8px 12px",border:"1px solid #4a6741",borderRadius:"4px",fontSize:"13px",width:"180px"}})})]})]}),(0,t.jsx)("div",{style:{flex:1,display:"flex",flexDirection:"column",overflow:"hidden",padding:"20px"},children:(0,t.jsxs)("div",{style:{flex:1,overflow:"auto"},children:["list"===b&&(0,t.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"13px",tableLayout:"fixed"},children:[(0,t.jsx)("thead",{style:{position:"sticky",top:0,zIndex:10,background:"#f8f9fa"},children:(0,t.jsxs)("tr",{style:{borderBottom:"2px solid #dee2e6"},children:[(0,t.jsxs)("th",{style:{padding:"12px 8px",textAlign:"left",fontWeight:"bold",color:"#2c3e50",width:`${Z.checkbox}px`,position:"relative",whiteSpace:"nowrap",overflow:"hidden",background:"#f8f9fa"},children:[(0,t.jsx)("input",{type:"checkbox",onChange:e=>{e.target.checked?z(new Set(O.map(e=>e.no))):z(new Set)}}),(0,t.jsx)("div",{onMouseDown:e=>el(e,"checkbox"),style:{position:"absolute",right:0,top:0,bottom:0,width:"4px",cursor:"col-resize",background:"checkbox"===ee?"#3498db":"transparent",transition:"background 0.2s"},onMouseEnter:e=>{ee||(e.currentTarget.style.background="#ddd")},onMouseLeave:e=>{ee||(e.currentTarget.style.background="transparent")}})]}),S.filter(e=>X[e.key]).map(e=>(0,t.jsxs)("th",{style:{padding:"12px 8px",textAlign:"left",fontWeight:"bold",color:"#2c3e50",width:`${Z[e.key]}px`,position:"relative",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",background:"#f8f9fa"},children:[e.label,(0,t.jsx)("div",{onMouseDown:t=>el(t,e.key),style:{position:"absolute",right:0,top:0,bottom:0,width:"4px",cursor:"col-resize",background:ee===e.key?"#3498db":"transparent",transition:"background 0.2s"},onMouseEnter:e=>{ee||(e.currentTarget.style.background="#ddd")},onMouseLeave:e=>{ee||(e.currentTarget.style.background="transparent")}})]},e.key))]})}),(0,t.jsx)("tbody",{children:O.map(d=>(0,t.jsxs)("tr",{style:{borderBottom:"1px solid #dee2e6",cursor:"pointer",background:w.has(d.no)?"#e3f2fd":"white"},onDoubleClick:()=>e.push(`/asset-detail?no=${d.no}&from=asset-search`),onMouseEnter:e=>{w.has(d.no)||(e.currentTarget.style.background="#f8f9fa")},onMouseLeave:e=>{w.has(d.no)||(e.currentTarget.style.background="white")},children:[(0,t.jsx)("td",{style:{padding:"12px 8px",whiteSpace:"nowrap",overflow:"hidden"},onClick:e=>e.stopPropagation(),children:(0,t.jsx)("input",{type:"checkbox",checked:w.has(d.no),onChange:()=>er(d.no)})}),S.filter(e=>X[e.key]).map(e=>(0,t.jsx)("td",{style:{padding:"12px 8px",color:"#2c3e50",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},children:en(d,e.key)},e.key))]},d.no))})]}),"card"===b&&(0,t.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px"},children:O.map(d=>(0,t.jsxs)("div",{style:{background:"white",border:"1px solid #dee2e6",borderRadius:"8px",padding:"20px",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},onDoubleClick:()=>e.push(`/asset-karte/${d.no}`),onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.15)"},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:[(0,t.jsxs)("div",{style:{marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("input",{type:"checkbox",checked:w.has(d.no),onChange:()=>er(d.no)}),(0,t.jsxs)("strong",{style:{color:"#2c3e50"},children:["No. ",d.no]})]}),(0,t.jsx)("h3",{style:{fontSize:"16px",marginBottom:"10px",color:"#2c3e50"},children:d.name}),(0,t.jsxs)("div",{style:{fontSize:"13px",color:"#5a6c7d",lineHeight:"1.6"},children:[(0,t.jsxs)("div",{children:["æ–½è¨­: ",d.facility]}),(0,t.jsxs)("div",{children:["å ´æ‰€: ",d.building," ",d.floor]}),(0,t.jsxs)("div",{children:["éƒ¨é–€: ",d.department]}),(0,t.jsxs)("div",{children:["ãƒ¡ãƒ¼ã‚«ãƒ¼: ",d.maker]}),(0,t.jsxs)("div",{children:["åž‹å¼: ",d.model]})]})]},d.no))})]})}),(0,t.jsx)(o.ColumnSettingsModal,{isOpen:C,onClose:()=>R(!1),columns:S,visibleColumns:X,onVisibilityChange:et,onSelectAll:ed,onDeselectAll:ei}),(0,t.jsx)(y,{isOpen:$,onClose:()=>N(!1),onSuccess:()=>{z(new Set)}}),(0,t.jsx)(x,{isOpen:A,onClose:()=>I(!1),assets:O.filter(e=>w.has(e.no)),onSuccess:()=>{z(new Set),e.push("/application-list")}}),(0,t.jsx)(c,{isOpen:W,onClose:()=>T(!1),assets:O.filter(e=>w.has(e.no)),onSuccess:()=>{z(new Set),e.push("/application-list")}}),(0,t.jsx)(g,{isOpen:B,onClose:()=>D(!1),onSuccess:()=>{z(new Set)}}),(0,t.jsx)(f,{isOpen:M,onClose:()=>q(!1),assets:O.filter(e=>w.has(e.no)),onSuccess:()=>{z(new Set)}}),(0,t.jsx)(j,{isOpen:E,onClose:()=>L(!1),assets:O.filter(e=>w.has(e.no)),onSuccess:()=>{z(new Set)}})]})}e.s(["default",()=>k],18042)}]);